function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var lE={exports:{}},Tc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1=Symbol.for("react.transitional.element"),w1=Symbol.for("react.fragment");function uE(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:S1,type:t,key:i,ref:e!==void 0?e:null,props:n}}Tc.Fragment=w1;Tc.jsx=uE;Tc.jsxs=uE;lE.exports=Tc;var g=lE.exports,cE={exports:{}},Z={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd=Symbol.for("react.transitional.element"),R1=Symbol.for("react.portal"),x1=Symbol.for("react.fragment"),C1=Symbol.for("react.strict_mode"),I1=Symbol.for("react.profiler"),N1=Symbol.for("react.consumer"),D1=Symbol.for("react.context"),O1=Symbol.for("react.forward_ref"),M1=Symbol.for("react.suspense"),V1=Symbol.for("react.memo"),hE=Symbol.for("react.lazy"),P1=Symbol.for("react.activity"),Jg=Symbol.iterator;function L1(t){return t===null||typeof t!="object"?null:(t=Jg&&t[Jg]||t["@@iterator"],typeof t=="function"?t:null)}var fE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dE=Object.assign,mE={};function Za(t,e,n){this.props=t,this.context=e,this.refs=mE,this.updater=n||fE}Za.prototype.isReactComponent={};Za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pE(){}pE.prototype=Za.prototype;function Wd(t,e,n){this.props=t,this.context=e,this.refs=mE,this.updater=n||fE}var em=Wd.prototype=new pE;em.constructor=Wd;dE(em,Za.prototype);em.isPureReactComponent=!0;var Zg=Array.isArray;function xf(){}var Re={H:null,A:null,T:null,S:null},gE=Object.prototype.hasOwnProperty;function tm(t,e,n){var i=n.ref;return{$$typeof:Zd,type:t,key:e,ref:i!==void 0?i:null,props:n}}function k1(t,e){return tm(t.type,e,t.props)}function nm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zd}function U1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wg=/\/+/g;function Ih(t,e){return typeof t=="object"&&t!==null&&t.key!=null?U1(""+t.key):e.toString(36)}function j1(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(xf,xf):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ta(t,e,n,i,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Zd:case R1:s=!0;break;case hE:return s=t._init,ta(s(t._payload),e,n,i,r)}}if(s)return r=r(t),s=i===""?"."+Ih(t,0):i,Zg(r)?(n="",s!=null&&(n=s.replace(Wg,"$&/")+"/"),ta(r,e,n,"",function(c){return c})):r!=null&&(nm(r)&&(r=k1(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(Wg,"$&/")+"/")+s)),e.push(r)),1;s=0;var l=i===""?".":i+":";if(Zg(t))for(var u=0;u<t.length;u++)i=t[u],a=l+Ih(i,u),s+=ta(i,e,n,a,r);else if(u=L1(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,a=l+Ih(i,u++),s+=ta(i,e,n,a,r);else if(a==="object"){if(typeof t.then=="function")return ta(j1(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function xl(t,e,n){if(t==null)return t;var i=[],r=0;return ta(t,i,"","",function(a){return e.call(n,a,r++)}),i}function z1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ey=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},B1={map:xl,forEach:function(t,e,n){xl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xl(t,function(){e++}),e},toArray:function(t){return xl(t,function(e){return e})||[]},only:function(t){if(!nm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Activity=P1;Z.Children=B1;Z.Component=Za;Z.Fragment=x1;Z.Profiler=I1;Z.PureComponent=Wd;Z.StrictMode=C1;Z.Suspense=M1;Z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re;Z.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Re.H.useMemoCache(t)}};Z.cache=function(t){return function(){return t.apply(null,arguments)}};Z.cacheSignal=function(){return null};Z.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=dE({},t.props),r=t.key;if(e!=null)for(a in e.key!==void 0&&(r=""+e.key),e)!gE.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}return tm(t.type,r,i)};Z.createContext=function(t){return t={$$typeof:D1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:N1,_context:t},t};Z.createElement=function(t,e,n){var i,r={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)gE.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in s=t.defaultProps,s)r[i]===void 0&&(r[i]=s[i]);return tm(t,a,r)};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:O1,render:t}};Z.isValidElement=nm;Z.lazy=function(t){return{$$typeof:hE,_payload:{_status:-1,_result:t},_init:z1}};Z.memo=function(t,e){return{$$typeof:V1,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=Re.T,n={};Re.T=n;try{var i=t(),r=Re.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(xf,ey)}catch(a){ey(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Re.T=e}};Z.unstable_useCacheRefresh=function(){return Re.H.useCacheRefresh()};Z.use=function(t){return Re.H.use(t)};Z.useActionState=function(t,e,n){return Re.H.useActionState(t,e,n)};Z.useCallback=function(t,e){return Re.H.useCallback(t,e)};Z.useContext=function(t){return Re.H.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t,e){return Re.H.useDeferredValue(t,e)};Z.useEffect=function(t,e){return Re.H.useEffect(t,e)};Z.useEffectEvent=function(t){return Re.H.useEffectEvent(t)};Z.useId=function(){return Re.H.useId()};Z.useImperativeHandle=function(t,e,n){return Re.H.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return Re.H.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return Re.H.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return Re.H.useMemo(t,e)};Z.useOptimistic=function(t,e){return Re.H.useOptimistic(t,e)};Z.useReducer=function(t,e,n){return Re.H.useReducer(t,e,n)};Z.useRef=function(t){return Re.H.useRef(t)};Z.useState=function(t){return Re.H.useState(t)};Z.useSyncExternalStore=function(t,e,n){return Re.H.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return Re.H.useTransition()};Z.version="19.2.0";cE.exports=Z;var P=cE.exports,yE={exports:{}},bc={},_E={exports:{}},vE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,te){var J=B.length;B.push(te);e:for(;0<J;){var ve=J-1>>>1,ke=B[ve];if(0<r(ke,te))B[ve]=te,B[J]=ke,J=ve;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var te=B[0],J=B.pop();if(J!==te){B[0]=J;e:for(var ve=0,ke=B.length,lr=ke>>>1;ve<lr;){var ur=2*(ve+1)-1,Yr=B[ur],Bt=ur+1,ci=B[Bt];if(0>r(Yr,J))Bt<ke&&0>r(ci,Yr)?(B[ve]=ci,B[Bt]=J,ve=Bt):(B[ve]=Yr,B[ur]=J,ve=ur);else if(Bt<ke&&0>r(ci,J))B[ve]=ci,B[Bt]=J,ve=Bt;else break e}}return te}function r(B,te){var J=B.sortIndex-te.sortIndex;return J!==0?J:B.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,m=null,p=3,y=!1,C=!1,N=!1,I=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var te=n(c);te!==null;){if(te.callback===null)i(c);else if(te.startTime<=B)i(c),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(c)}}function j(B){if(N=!1,D(B),!C)if(n(u)!==null)C=!0,H||(H=!0,O());else{var te=n(c);te!==null&&nn(j,te.startTime-B)}}var H=!1,A=-1,T=5,b=-1;function w(){return I?!0:!(t.unstable_now()-b<T)}function x(){if(I=!1,H){var B=t.unstable_now();b=B;var te=!0;try{e:{C=!1,N&&(N=!1,v(A),A=-1),y=!0;var J=p;try{t:{for(D(B),m=n(u);m!==null&&!(m.expirationTime>B&&w());){var ve=m.callback;if(typeof ve=="function"){m.callback=null,p=m.priorityLevel;var ke=ve(m.expirationTime<=B);if(B=t.unstable_now(),typeof ke=="function"){m.callback=ke,D(B),te=!0;break t}m===n(u)&&i(u),D(B)}else i(u);m=n(u)}if(m!==null)te=!0;else{var lr=n(c);lr!==null&&nn(j,lr.startTime-B),te=!1}}break e}finally{m=null,p=J,y=!1}te=void 0}}finally{te?O():H=!1}}}var O;if(typeof S=="function")O=function(){S(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ut=R.port2;R.port1.onmessage=x,O=function(){ut.postMessage(null)}}else O=function(){E(x,0)};function nn(B,te){A=E(function(){B(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var J=p;p=te;try{return B()}finally{p=J}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(B,te){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=p;p=B;try{return te()}finally{p=J}},t.unstable_scheduleCallback=function(B,te,J){var ve=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ve+J:ve):J=ve,B){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=J+ke,B={id:f++,callback:te,priorityLevel:B,startTime:J,expirationTime:ke,sortIndex:-1},J>ve?(B.sortIndex=J,e(c,B),n(u)===null&&B===n(c)&&(N?(v(A),A=-1):N=!0,nn(j,J-ve))):(B.sortIndex=ke,e(u,B),C||y||(C=!0,H||(H=!0,O()))),B},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(B){var te=p;return function(){var J=p;p=te;try{return B.apply(this,arguments)}finally{p=J}}}})(vE);_E.exports=vE;var F1=_E.exports,EE={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1=P;function TE(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function yi(){}var vt={d:{f:yi,r:function(){throw Error(TE(522))},D:yi,C:yi,L:yi,m:yi,X:yi,S:yi,M:yi},p:0,findDOMNode:null},H1=Symbol.for("react.portal");function G1(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H1,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Js=q1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ac(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(TE(299));return G1(t,e,null,n)};Et.flushSync=function(t){var e=Js.T,n=vt.p;try{if(Js.T=null,vt.p=2,t)return t()}finally{Js.T=e,vt.p=n,vt.d.f()}};Et.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,vt.d.C(t,e))};Et.prefetchDNS=function(t){typeof t=="string"&&vt.d.D(t)};Et.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Ac(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?vt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):n==="script"&&vt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Et.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Ac(e.as,e.crossOrigin);vt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&vt.d.M(t)};Et.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Ac(n,e.crossOrigin);vt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Et.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Ac(e.as,e.crossOrigin);vt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else vt.d.m(t)};Et.requestFormReset=function(t){vt.d.r(t)};Et.unstable_batchedUpdates=function(t,e){return t(e)};Et.useFormState=function(t,e,n){return Js.H.useFormState(t,e,n)};Et.useFormStatus=function(){return Js.H.useHostTransitionStatus()};Et.version="19.2.0";function bE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bE)}catch(t){console.error(t)}}bE(),EE.exports=Et;var Q1=EE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ye=F1,AE=P,K1=Q1;function L(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function SE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function RE(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ty(t){if(Fo(t)!==t)throw Error(L(188))}function Y1(t){var e=t.alternate;if(!e){if(e=Fo(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return ty(r),t;if(a===i)return ty(r),e;a=a.sibling}throw Error(L(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function xE(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=xE(t),e!==null)return e;t=t.sibling}return null}var xe=Object.assign,$1=Symbol.for("react.element"),Cl=Symbol.for("react.transitional.element"),Bs=Symbol.for("react.portal"),la=Symbol.for("react.fragment"),CE=Symbol.for("react.strict_mode"),Cf=Symbol.for("react.profiler"),IE=Symbol.for("react.consumer"),jn=Symbol.for("react.context"),im=Symbol.for("react.forward_ref"),If=Symbol.for("react.suspense"),Nf=Symbol.for("react.suspense_list"),rm=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),Df=Symbol.for("react.activity"),X1=Symbol.for("react.memo_cache_sentinel"),ny=Symbol.iterator;function Ms(t){return t===null||typeof t!="object"?null:(t=ny&&t[ny]||t["@@iterator"],typeof t=="function"?t:null)}var J1=Symbol.for("react.client.reference");function Of(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===J1?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case la:return"Fragment";case Cf:return"Profiler";case CE:return"StrictMode";case If:return"Suspense";case Nf:return"SuspenseList";case Df:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Bs:return"Portal";case jn:return t.displayName||"Context";case IE:return(t._context.displayName||"Context")+".Consumer";case im:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rm:return e=t.displayName||null,e!==null?e:Of(t.type)||"Memo";case vi:e=t._payload,t=t._init;try{return Of(t(e))}catch{}}return null}var Fs=Array.isArray,Y=AE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=K1.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ar={pending:!1,data:null,method:null,action:null},Mf=[],ua=-1;function xn(t){return{current:t}}function et(t){0>ua||(t.current=Mf[ua],Mf[ua]=null,ua--)}function Te(t,e){ua++,Mf[ua]=t.current,t.current=e}var En=xn(null),_o=xn(null),Vi=xn(null),Su=xn(null);function wu(t,e){switch(Te(Vi,e),Te(_o,t),Te(En,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?l_(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=l_(e),t=$0(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(En),Te(En,t)}function Ma(){et(En),et(_o),et(Vi)}function Vf(t){t.memoizedState!==null&&Te(Su,t);var e=En.current,n=$0(e,t.type);e!==n&&(Te(_o,t),Te(En,n))}function Ru(t){_o.current===t&&(et(En),et(_o)),Su.current===t&&(et(Su),Io._currentValue=Ar)}var Nh,iy;function gr(t){if(Nh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nh=e&&e[1]||"",iy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nh+t+iy}var Dh=!1;function Oh(t,e){if(!t||Dh)return"";Dh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(y){var p=y}Reflect.construct(t,[],m)}else{try{m.call()}catch(y){p=y}t.call(m.prototype)}}else{try{throw Error()}catch(y){p=y}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(y){if(y&&p&&typeof y.stack=="string")return[y.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],l=a[1];if(s&&l){var u=s.split(`
`),c=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var f=`
`+u[i].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=i&&0<=r);break}}}finally{Dh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?gr(n):""}function Z1(t,e){switch(t.tag){case 26:case 27:case 5:return gr(t.type);case 16:return gr("Lazy");case 13:return t.child!==e&&e!==null?gr("Suspense Fallback"):gr("Suspense");case 19:return gr("SuspenseList");case 0:case 15:return Oh(t.type,!1);case 11:return Oh(t.type.render,!1);case 1:return Oh(t.type,!0);case 31:return gr("Activity");default:return""}}function ry(t){try{var e="",n=null;do e+=Z1(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Pf=Object.prototype.hasOwnProperty,am=Ye.unstable_scheduleCallback,Mh=Ye.unstable_cancelCallback,W1=Ye.unstable_shouldYield,ew=Ye.unstable_requestPaint,Pt=Ye.unstable_now,tw=Ye.unstable_getCurrentPriorityLevel,NE=Ye.unstable_ImmediatePriority,DE=Ye.unstable_UserBlockingPriority,xu=Ye.unstable_NormalPriority,nw=Ye.unstable_LowPriority,OE=Ye.unstable_IdlePriority,iw=Ye.log,rw=Ye.unstable_setDisableYieldValue,qo=null,Lt=null;function Ci(t){if(typeof iw=="function"&&rw(t),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(qo,t)}catch{}}var kt=Math.clz32?Math.clz32:ow,aw=Math.log,sw=Math.LN2;function ow(t){return t>>>=0,t===0?32:31-(aw(t)/sw|0)|0}var Il=256,Nl=262144,Dl=4194304;function yr(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~a,i!==0?r=yr(i):(s&=l,s!==0?r=yr(s):n||(n=l&~t,n!==0&&(r=yr(n))))):(l=i&~a,l!==0?r=yr(l):s!==0?r=yr(s):n||(n=i&~t,n!==0&&(r=yr(n)))),r===0?0:e!==0&&e!==r&&!(e&a)&&(a=r&-r,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:r}function Ho(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function lw(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ME(){var t=Dl;return Dl<<=1,!(Dl&62914560)&&(Dl=4194304),t}function Vh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Go(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uw(t,e,n,i,r,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var f=31-kt(n),m=1<<f;l[f]=0,u[f]=-1;var p=c[f];if(p!==null)for(c[f]=null,f=0;f<p.length;f++){var y=p[f];y!==null&&(y.lane&=-536870913)}n&=~m}i!==0&&VE(t,i,0),a!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function VE(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-kt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function PE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-kt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function LE(t,e){var n=e&-e;return n=n&42?1:sm(n),n&(t.suspendedLanes|e)?0:n}function sm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function om(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function kE(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:sb(t.type))}function ay(t,e){var n=he.p;try{return he.p=t,e()}finally{he.p=n}}var ar=Math.random().toString(36).slice(2),it="__reactFiber$"+ar,xt="__reactProps$"+ar,Wa="__reactContainer$"+ar,Lf="__reactEvents$"+ar,cw="__reactListeners$"+ar,hw="__reactHandles$"+ar,sy="__reactResources$"+ar,Qo="__reactMarker$"+ar;function lm(t){delete t[it],delete t[xt],delete t[Lf],delete t[cw],delete t[hw]}function ca(t){var e=t[it];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wa]||n[it]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d_(t);t!==null;){if(n=t[it])return n;t=d_(t)}return e}t=n,n=t.parentNode}return null}function es(t){if(t=t[it]||t[Wa]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function qs(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(L(33))}function Ea(t){var e=t[sy];return e||(e=t[sy]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ze(t){t[Qo]=!0}var UE=new Set,jE={};function jr(t,e){Va(t,e),Va(t+"Capture",e)}function Va(t,e){for(jE[t]=e,t=0;t<e.length;t++)UE.add(e[t])}var fw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oy={},ly={};function dw(t){return Pf.call(ly,t)?!0:Pf.call(oy,t)?!1:fw.test(t)?ly[t]=!0:(oy[t]=!0,!1)}function Jl(t,e,n){if(dw(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Ol(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Dn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mw(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kf(t){if(!t._valueTracker){var e=zE(t)?"checked":"value";t._valueTracker=mw(t,e,""+t[e])}}function BE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=zE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Cu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pw=/[\n"\\]/g;function Kt(t){return t.replace(pw,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Uf(t,e,n,i,r,a,s,l){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ht(e)):t.value!==""+Ht(e)&&(t.value=""+Ht(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?jf(t,s,Ht(e)):n!=null?jf(t,s,Ht(n)):i!=null&&t.removeAttribute("value"),r==null&&a!=null&&(t.defaultChecked=!!a),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Ht(l):t.removeAttribute("name")}function FE(t,e,n,i,r,a,s,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){kf(t);return}n=n!=null?""+Ht(n):"",e=e!=null?""+Ht(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),kf(t)}function jf(t,e,n){e==="number"&&Cu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ta(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ht(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function qE(t,e,n){if(e!=null&&(e=""+Ht(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ht(n):""}function HE(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(L(92));if(Fs(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Ht(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),kf(t)}function Pa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uy(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||gw.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function GE(t,e,n){if(e!=null&&typeof e!="object")throw Error(L(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&uy(t,r,i)}else for(var a in e)e.hasOwnProperty(a)&&uy(t,a,e[a])}function um(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_w=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zl(t){return _w.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var zf=null;function cm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ha=null,ba=null;function cy(t){var e=es(t);if(e&&(t=e.stateNode)){var n=t[xt]||null;e:switch(t=e.stateNode,e.type){case"input":if(Uf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Kt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[xt]||null;if(!r)throw Error(L(90));Uf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&BE(i)}break e;case"textarea":qE(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ta(t,!!n.multiple,e,!1)}}}var Ph=!1;function QE(t,e,n){if(Ph)return t(e,n);Ph=!0;try{var i=t(e);return i}finally{if(Ph=!1,(ha!==null||ba!==null)&&(Lc(),ha&&(e=ha,t=ba,ba=ha=null,cy(e),t)))for(e=0;e<t.length;e++)cy(t[e])}}function vo(t,e){var n=t.stateNode;if(n===null)return null;var i=n[xt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bf=!1;if(Xn)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Bf=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Bf=!1}var Ii=null,hm=null,Wl=null;function KE(){if(Wl)return Wl;var t,e=hm,n=e.length,i,r="value"in Ii?Ii.value:Ii.textContent,a=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[a-i];i++);return Wl=r.slice(t,1<i?1-i:void 0)}function eu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ml(){return!0}function hy(){return!1}function Ct(t){function e(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ml:hy,this.isPropagationStopped=hy,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),e}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wc=Ct(zr),Ko=xe({},zr,{view:0,detail:0}),vw=Ct(Ko),Lh,kh,Ps,Rc=xe({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ps&&(Ps&&t.type==="mousemove"?(Lh=t.screenX-Ps.screenX,kh=t.screenY-Ps.screenY):kh=Lh=0,Ps=t),Lh)},movementY:function(t){return"movementY"in t?t.movementY:kh}}),fy=Ct(Rc),Ew=xe({},Rc,{dataTransfer:0}),Tw=Ct(Ew),bw=xe({},Ko,{relatedTarget:0}),Uh=Ct(bw),Aw=xe({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Sw=Ct(Aw),ww=xe({},zr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rw=Ct(ww),xw=xe({},zr,{data:0}),dy=Ct(xw),Cw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Nw[t])?!!e[t]:!1}function fm(){return Dw}var Ow=xe({},Ko,{key:function(t){if(t.key){var e=Cw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=eu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fm,charCode:function(t){return t.type==="keypress"?eu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mw=Ct(Ow),Vw=xe({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),my=Ct(Vw),Pw=xe({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fm}),Lw=Ct(Pw),kw=xe({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uw=Ct(kw),jw=xe({},Rc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zw=Ct(jw),Bw=xe({},zr,{newState:0,oldState:0}),Fw=Ct(Bw),qw=[9,13,27,32],dm=Xn&&"CompositionEvent"in window,Zs=null;Xn&&"documentMode"in document&&(Zs=document.documentMode);var Hw=Xn&&"TextEvent"in window&&!Zs,YE=Xn&&(!dm||Zs&&8<Zs&&11>=Zs),py=" ",gy=!1;function $E(t,e){switch(t){case"keyup":return qw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fa=!1;function Gw(t,e){switch(t){case"compositionend":return XE(e);case"keypress":return e.which!==32?null:(gy=!0,py);case"textInput":return t=e.data,t===py&&gy?null:t;default:return null}}function Qw(t,e){if(fa)return t==="compositionend"||!dm&&$E(t,e)?(t=KE(),Wl=hm=Ii=null,fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return YE&&e.locale!=="ko"?null:e.data;default:return null}}var Kw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kw[t.type]:e==="textarea"}function JE(t,e,n,i){ha?ba?ba.push(i):ba=[i]:ha=i,e=Qu(e,"onChange"),0<e.length&&(n=new wc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ws=null,Eo=null;function Yw(t){Q0(t,0)}function xc(t){var e=qs(t);if(BE(e))return t}function _y(t,e){if(t==="change")return e}var ZE=!1;if(Xn){var jh;if(Xn){var zh="oninput"in document;if(!zh){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),zh=typeof vy.oninput=="function"}jh=zh}else jh=!1;ZE=jh&&(!document.documentMode||9<document.documentMode)}function Ey(){Ws&&(Ws.detachEvent("onpropertychange",WE),Eo=Ws=null)}function WE(t){if(t.propertyName==="value"&&xc(Eo)){var e=[];JE(e,Eo,t,cm(t)),QE(Yw,e)}}function $w(t,e,n){t==="focusin"?(Ey(),Ws=e,Eo=n,Ws.attachEvent("onpropertychange",WE)):t==="focusout"&&Ey()}function Xw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xc(Eo)}function Jw(t,e){if(t==="click")return xc(e)}function Zw(t,e){if(t==="input"||t==="change")return xc(e)}function Ww(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jt=typeof Object.is=="function"?Object.is:Ww;function To(t,e){if(jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Pf.call(e,r)||!jt(t[r],e[r]))return!1}return!0}function Ty(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function by(t,e){var n=Ty(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ty(n)}}function eT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tT(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Cu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cu(t.document)}return e}function mm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var eR=Xn&&"documentMode"in document&&11>=document.documentMode,da=null,Ff=null,eo=null,qf=!1;function Ay(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qf||da==null||da!==Cu(i)||(i=da,"selectionStart"in i&&mm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),eo&&To(eo,i)||(eo=i,i=Qu(Ff,"onSelect"),0<i.length&&(e=new wc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=da)))}function pr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ma={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},Bh={},nT={};Xn&&(nT=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Br(t){if(Bh[t])return Bh[t];if(!ma[t])return t;var e=ma[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nT)return Bh[t]=e[n];return t}var iT=Br("animationend"),rT=Br("animationiteration"),aT=Br("animationstart"),tR=Br("transitionrun"),nR=Br("transitionstart"),iR=Br("transitioncancel"),sT=Br("transitionend"),oT=new Map,Hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hf.push("scrollEnd");function hn(t,e){oT.set(t,e),jr(e,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ft=[],pa=0,pm=0;function Cc(){for(var t=pa,e=pm=pa=0;e<t;){var n=Ft[e];Ft[e++]=null;var i=Ft[e];Ft[e++]=null;var r=Ft[e];Ft[e++]=null;var a=Ft[e];if(Ft[e++]=null,i!==null&&r!==null){var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}a!==0&&lT(n,r,a)}}function Ic(t,e,n,i){Ft[pa++]=t,Ft[pa++]=e,Ft[pa++]=n,Ft[pa++]=i,pm|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function gm(t,e,n,i){return Ic(t,e,n,i),Nu(t)}function Fr(t,e){return Ic(t,null,null,e),Nu(t)}function lT(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(r=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,r&&e!==null&&(r=31-kt(n),t=a.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),a):null}function Nu(t){if(50<uo)throw uo=0,hd=null,Error(L(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ga={};function rR(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,e,n,i){return new rR(t,e,n,i)}function ym(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hn(t,e){var n=t.alternate;return n===null?(n=Ot(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function uT(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function tu(t,e,n,i,r,a){var s=0;if(i=t,typeof t=="function")ym(t)&&(s=1);else if(typeof t=="string")s=ux(t,n,En.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Df:return t=Ot(31,n,e,r),t.elementType=Df,t.lanes=a,t;case la:return Sr(n.children,r,a,e);case CE:s=8,r|=24;break;case Cf:return t=Ot(12,n,e,r|2),t.elementType=Cf,t.lanes=a,t;case If:return t=Ot(13,n,e,r),t.elementType=If,t.lanes=a,t;case Nf:return t=Ot(19,n,e,r),t.elementType=Nf,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jn:s=10;break e;case IE:s=9;break e;case im:s=11;break e;case rm:s=14;break e;case vi:s=16,i=null;break e}s=29,n=Error(L(130,t===null?"null":typeof t,"")),i=null}return e=Ot(s,n,e,r),e.elementType=t,e.type=i,e.lanes=a,e}function Sr(t,e,n,i){return t=Ot(7,t,i,e),t.lanes=n,t}function Fh(t,e,n){return t=Ot(6,t,null,e),t.lanes=n,t}function cT(t){var e=Ot(18,null,null,0);return e.stateNode=t,e}function qh(t,e,n){return e=Ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Sy=new WeakMap;function Yt(t,e){if(typeof t=="object"&&t!==null){var n=Sy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:ry(e)},Sy.set(t,e),e)}return{value:t,source:e,stack:ry(e)}}var ya=[],_a=0,Du=null,bo=0,Gt=[],Qt=0,$i=null,yn=1,_n="";function Ln(t,e){ya[_a++]=bo,ya[_a++]=Du,Du=t,bo=e}function hT(t,e,n){Gt[Qt++]=yn,Gt[Qt++]=_n,Gt[Qt++]=$i,$i=t;var i=yn;t=_n;var r=32-kt(i)-1;i&=~(1<<r),n+=1;var a=32-kt(e)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,yn=1<<32-kt(e)+r|n<<r|i,_n=a+t}else yn=1<<a|n<<r|i,_n=t}function _m(t){t.return!==null&&(Ln(t,1),hT(t,1,0))}function vm(t){for(;t===Du;)Du=ya[--_a],ya[_a]=null,bo=ya[--_a],ya[_a]=null;for(;t===$i;)$i=Gt[--Qt],Gt[Qt]=null,_n=Gt[--Qt],Gt[Qt]=null,yn=Gt[--Qt],Gt[Qt]=null}function fT(t,e){Gt[Qt++]=yn,Gt[Qt++]=_n,Gt[Qt++]=$i,yn=e.id,_n=e.overflow,$i=t}var rt=null,Se=null,le=!1,Pi=null,$t=!1,Gf=Error(L(519));function Xi(t){var e=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ao(Yt(e,t)),Gf}function wy(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[it]=t,e[xt]=i,n){case"dialog":ne("cancel",e),ne("close",e);break;case"iframe":case"object":case"embed":ne("load",e);break;case"video":case"audio":for(n=0;n<xo.length;n++)ne(xo[n],e);break;case"source":ne("error",e);break;case"img":case"image":case"link":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"input":ne("invalid",e),FE(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ne("invalid",e);break;case"textarea":ne("invalid",e),HE(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||Y0(e.textContent,n)?(i.popover!=null&&(ne("beforetoggle",e),ne("toggle",e)),i.onScroll!=null&&ne("scroll",e),i.onScrollEnd!=null&&ne("scrollend",e),i.onClick!=null&&(e.onclick=zn),e=!0):e=!1,e||Xi(t,!0)}function Ry(t){for(rt=t.return;rt;)switch(rt.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:rt=rt.return}}function Zr(t){if(t!==rt)return!1;if(!le)return Ry(t),le=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||gd(t.type,t.memoizedProps)),n=!n),n&&Se&&Xi(t),Ry(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));Se=f_(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));Se=f_(t)}else e===27?(e=Se,sr(t.type)?(t=Ed,Ed=null,Se=t):Se=e):Se=rt?Wt(t.stateNode.nextSibling):null;return!0}function Cr(){Se=rt=null,le=!1}function Hh(){var t=Pi;return t!==null&&(St===null?St=t:St.push.apply(St,t),Pi=null),t}function Ao(t){Pi===null?Pi=[t]:Pi.push(t)}var Qf=xn(null),qr=null,Bn=null;function Ti(t,e,n){Te(Qf,e._currentValue),e._currentValue=n}function Gn(t){t._currentValue=Qf.current,et(Qf)}function Kf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Yf(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var a=r.dependencies;if(a!==null){var s=r.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Kf(a.return,n,t),i||(s=null);break e}a=l.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(L(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Kf(s,n,t),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===t){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function ts(t,e,n,i){t=null;for(var r=e,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(L(387));if(s=s.memoizedProps,s!==null){var l=r.type;jt(r.pendingProps.value,s.value)||(t!==null?t.push(l):t=[l])}}else if(r===Su.current){if(s=r.alternate,s===null)throw Error(L(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Io):t=[Io])}r=r.return}t!==null&&Yf(e,t,n,i),e.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!jt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ir(t){qr=t,Bn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function st(t){return dT(qr,t)}function Vl(t,e){return qr===null&&Ir(t),dT(t,e)}function dT(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Bn===null){if(t===null)throw Error(L(308));Bn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Bn=Bn.next=e;return n}var aR=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},sR=Ye.unstable_scheduleCallback,oR=Ye.unstable_NormalPriority,Be={$$typeof:jn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Em(){return{controller:new aR,data:new Map,refCount:0}}function Yo(t){t.refCount--,t.refCount===0&&sR(oR,function(){t.controller.abort()})}var to=null,$f=0,La=0,Aa=null;function lR(t,e){if(to===null){var n=to=[];$f=0,La=Gm(),Aa={status:"pending",value:void 0,then:function(i){n.push(i)}}}return $f++,e.then(xy,xy),e}function xy(){if(--$f===0&&to!==null){Aa!==null&&(Aa.status="fulfilled");var t=to;to=null,La=0,Aa=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function uR(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Cy=Y.S;Y.S=function(t,e){x0=Pt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&lR(t,e),Cy!==null&&Cy(t,e)};var wr=xn(null);function Tm(){var t=wr.current;return t!==null?t:_e.pooledCache}function nu(t,e){e===null?Te(wr,wr.current):Te(wr,e.pool)}function mT(){var t=Tm();return t===null?null:{parent:Be._currentValue,pool:t}}var ns=Error(L(460)),bm=Error(L(474)),Nc=Error(L(542)),Mu={then:function(){}};function Iy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pT(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(zn,zn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Dy(t),t;default:if(typeof e.status=="string")e.then(zn,zn);else{if(t=_e,t!==null&&100<t.shellSuspendCounter)throw Error(L(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Dy(t),t}throw Rr=e,ns}}function _r(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Rr=n,ns):n}}var Rr=null;function Ny(){if(Rr===null)throw Error(L(459));var t=Rr;return Rr=null,t}function Dy(t){if(t===ns||t===Nc)throw Error(L(483))}var Sa=null,So=0;function Pl(t){var e=So;return So+=1,Sa===null&&(Sa=[]),pT(Sa,t,e)}function Ls(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ll(t,e){throw e.$$typeof===$1?Error(L(525)):(t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function gT(t){function e(E,v){if(t){var S=E.deletions;S===null?(E.deletions=[v],E.flags|=16):S.push(v)}}function n(E,v){if(!t)return null;for(;v!==null;)e(E,v),v=v.sibling;return null}function i(E){for(var v=new Map;E!==null;)E.key!==null?v.set(E.key,E):v.set(E.index,E),E=E.sibling;return v}function r(E,v){return E=Hn(E,v),E.index=0,E.sibling=null,E}function a(E,v,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<v?(E.flags|=67108866,v):S):(E.flags|=67108866,v)):(E.flags|=1048576,v)}function s(E){return t&&E.alternate===null&&(E.flags|=67108866),E}function l(E,v,S,D){return v===null||v.tag!==6?(v=Fh(S,E.mode,D),v.return=E,v):(v=r(v,S),v.return=E,v)}function u(E,v,S,D){var j=S.type;return j===la?f(E,v,S.props.children,D,S.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===vi&&_r(j)===v.type)?(v=r(v,S.props),Ls(v,S),v.return=E,v):(v=tu(S.type,S.key,S.props,null,E.mode,D),Ls(v,S),v.return=E,v)}function c(E,v,S,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=qh(S,E.mode,D),v.return=E,v):(v=r(v,S.children||[]),v.return=E,v)}function f(E,v,S,D,j){return v===null||v.tag!==7?(v=Sr(S,E.mode,D,j),v.return=E,v):(v=r(v,S),v.return=E,v)}function m(E,v,S){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Fh(""+v,E.mode,S),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Cl:return S=tu(v.type,v.key,v.props,null,E.mode,S),Ls(S,v),S.return=E,S;case Bs:return v=qh(v,E.mode,S),v.return=E,v;case vi:return v=_r(v),m(E,v,S)}if(Fs(v)||Ms(v))return v=Sr(v,E.mode,S,null),v.return=E,v;if(typeof v.then=="function")return m(E,Pl(v),S);if(v.$$typeof===jn)return m(E,Vl(E,v),S);Ll(E,v)}return null}function p(E,v,S,D){var j=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return j!==null?null:l(E,v,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Cl:return S.key===j?u(E,v,S,D):null;case Bs:return S.key===j?c(E,v,S,D):null;case vi:return S=_r(S),p(E,v,S,D)}if(Fs(S)||Ms(S))return j!==null?null:f(E,v,S,D,null);if(typeof S.then=="function")return p(E,v,Pl(S),D);if(S.$$typeof===jn)return p(E,v,Vl(E,S),D);Ll(E,S)}return null}function y(E,v,S,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return E=E.get(S)||null,l(v,E,""+D,j);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Cl:return E=E.get(D.key===null?S:D.key)||null,u(v,E,D,j);case Bs:return E=E.get(D.key===null?S:D.key)||null,c(v,E,D,j);case vi:return D=_r(D),y(E,v,S,D,j)}if(Fs(D)||Ms(D))return E=E.get(S)||null,f(v,E,D,j,null);if(typeof D.then=="function")return y(E,v,S,Pl(D),j);if(D.$$typeof===jn)return y(E,v,S,Vl(v,D),j);Ll(v,D)}return null}function C(E,v,S,D){for(var j=null,H=null,A=v,T=v=0,b=null;A!==null&&T<S.length;T++){A.index>T?(b=A,A=null):b=A.sibling;var w=p(E,A,S[T],D);if(w===null){A===null&&(A=b);break}t&&A&&w.alternate===null&&e(E,A),v=a(w,v,T),H===null?j=w:H.sibling=w,H=w,A=b}if(T===S.length)return n(E,A),le&&Ln(E,T),j;if(A===null){for(;T<S.length;T++)A=m(E,S[T],D),A!==null&&(v=a(A,v,T),H===null?j=A:H.sibling=A,H=A);return le&&Ln(E,T),j}for(A=i(A);T<S.length;T++)b=y(A,E,T,S[T],D),b!==null&&(t&&b.alternate!==null&&A.delete(b.key===null?T:b.key),v=a(b,v,T),H===null?j=b:H.sibling=b,H=b);return t&&A.forEach(function(x){return e(E,x)}),le&&Ln(E,T),j}function N(E,v,S,D){if(S==null)throw Error(L(151));for(var j=null,H=null,A=v,T=v=0,b=null,w=S.next();A!==null&&!w.done;T++,w=S.next()){A.index>T?(b=A,A=null):b=A.sibling;var x=p(E,A,w.value,D);if(x===null){A===null&&(A=b);break}t&&A&&x.alternate===null&&e(E,A),v=a(x,v,T),H===null?j=x:H.sibling=x,H=x,A=b}if(w.done)return n(E,A),le&&Ln(E,T),j;if(A===null){for(;!w.done;T++,w=S.next())w=m(E,w.value,D),w!==null&&(v=a(w,v,T),H===null?j=w:H.sibling=w,H=w);return le&&Ln(E,T),j}for(A=i(A);!w.done;T++,w=S.next())w=y(A,E,T,w.value,D),w!==null&&(t&&w.alternate!==null&&A.delete(w.key===null?T:w.key),v=a(w,v,T),H===null?j=w:H.sibling=w,H=w);return t&&A.forEach(function(O){return e(E,O)}),le&&Ln(E,T),j}function I(E,v,S,D){if(typeof S=="object"&&S!==null&&S.type===la&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Cl:e:{for(var j=S.key;v!==null;){if(v.key===j){if(j=S.type,j===la){if(v.tag===7){n(E,v.sibling),D=r(v,S.props.children),D.return=E,E=D;break e}}else if(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===vi&&_r(j)===v.type){n(E,v.sibling),D=r(v,S.props),Ls(D,S),D.return=E,E=D;break e}n(E,v);break}else e(E,v);v=v.sibling}S.type===la?(D=Sr(S.props.children,E.mode,D,S.key),D.return=E,E=D):(D=tu(S.type,S.key,S.props,null,E.mode,D),Ls(D,S),D.return=E,E=D)}return s(E);case Bs:e:{for(j=S.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(E,v.sibling),D=r(v,S.children||[]),D.return=E,E=D;break e}else{n(E,v);break}else e(E,v);v=v.sibling}D=qh(S,E.mode,D),D.return=E,E=D}return s(E);case vi:return S=_r(S),I(E,v,S,D)}if(Fs(S))return C(E,v,S,D);if(Ms(S)){if(j=Ms(S),typeof j!="function")throw Error(L(150));return S=j.call(S),N(E,v,S,D)}if(typeof S.then=="function")return I(E,v,Pl(S),D);if(S.$$typeof===jn)return I(E,v,Vl(E,S),D);Ll(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,v!==null&&v.tag===6?(n(E,v.sibling),D=r(v,S),D.return=E,E=D):(n(E,v),D=Fh(S,E.mode,D),D.return=E,E=D),s(E)):n(E,v)}return function(E,v,S,D){try{So=0;var j=I(E,v,S,D);return Sa=null,j}catch(A){if(A===ns||A===Nc)throw A;var H=Ot(29,A,null,E.mode);return H.lanes=D,H.return=E,H}finally{}}}var Nr=gT(!0),yT=gT(!1),Ei=!1;function Am(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Li(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ce&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Nu(t),lT(t,null,n),e}return Ic(t,i,e,n),Nu(t)}function no(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,PE(t,n)}}function Gh(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Jf=!1;function io(){if(Jf){var t=Aa;if(t!==null)throw t}}function ro(t,e,n,i){Jf=!1;var r=t.updateQueue;Ei=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?a=c:s.next=c,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(a!==null){var m=r.baseState;s=0,f=c=u=null,l=a;do{var p=l.lane&-536870913,y=p!==l.lane;if(y?(oe&p)===p:(i&p)===p){p!==0&&p===La&&(Jf=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var C=t,N=l;p=e;var I=n;switch(N.tag){case 1:if(C=N.payload,typeof C=="function"){m=C.call(I,m,p);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=N.payload,p=typeof C=="function"?C.call(I,m,p):C,p==null)break e;m=xe({},m,p);break e;case 2:Ei=!0}}p=l.callback,p!==null&&(t.flags|=64,y&&(t.flags|=8192),y=r.callbacks,y===null?r.callbacks=[p]:y.push(p))}else y={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=y,u=m):f=f.next=y,s|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;y=l,l=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);f===null&&(u=m),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=f,a===null&&(r.shared.lanes=0),Zi|=s,t.lanes=s,t.memoizedState=m}}function _T(t,e){if(typeof t!="function")throw Error(L(191,t));t.call(e)}function vT(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)_T(n[t],e)}var ka=xn(null),Vu=xn(0);function Oy(t,e){t=ei,Te(Vu,t),Te(ka,e),ei=t|e.baseLanes}function Zf(){Te(Vu,ei),Te(ka,ka.current)}function Sm(){ei=Vu.current,et(ka),et(Vu)}var zt=xn(null),Zt=null;function bi(t){var e=t.alternate;Te(Pe,Pe.current&1),Te(zt,t),Zt===null&&(e===null||ka.current!==null||e.memoizedState!==null)&&(Zt=t)}function Wf(t){Te(Pe,Pe.current),Te(zt,t),Zt===null&&(Zt=t)}function ET(t){t.tag===22?(Te(Pe,Pe.current),Te(zt,t),Zt===null&&(Zt=t)):Ai()}function Ai(){Te(Pe,Pe.current),Te(zt,zt.current)}function Dt(t){et(zt),Zt===t&&(Zt=null),et(Pe)}var Pe=xn(0);function Pu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||_d(n)||vd(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jn=0,W=null,ge=null,je=null,Lu=!1,wa=!1,Dr=!1,ku=0,wo=0,Ra=null,cR=0;function Oe(){throw Error(L(321))}function wm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jt(t[n],e[n]))return!1;return!0}function Rm(t,e,n,i,r,a){return Jn=a,W=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Y.H=t===null||t.memoizedState===null?JT:km,Dr=!1,a=n(i,r),Dr=!1,wa&&(a=bT(e,n,i,r)),TT(t),a}function TT(t){Y.H=Ro;var e=ge!==null&&ge.next!==null;if(Jn=0,je=ge=W=null,Lu=!1,wo=0,Ra=null,e)throw Error(L(300));t===null||qe||(t=t.dependencies,t!==null&&Ou(t)&&(qe=!0))}function bT(t,e,n,i){W=t;var r=0;do{if(wa&&(Ra=null),wo=0,wa=!1,25<=r)throw Error(L(301));if(r+=1,je=ge=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Y.H=ZT,a=e(n,i)}while(wa);return a}function hR(){var t=Y.H,e=t.useState()[0];return e=typeof e.then=="function"?$o(e):e,t=t.useState()[0],(ge!==null?ge.memoizedState:null)!==t&&(W.flags|=1024),e}function xm(){var t=ku!==0;return ku=0,t}function Cm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Im(t){if(Lu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Lu=!1}Jn=0,je=ge=W=null,wa=!1,wo=ku=0,Ra=null}function _t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?W.memoizedState=je=t:je=je.next=t,je}function Le(){if(ge===null){var t=W.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=je===null?W.memoizedState:je.next;if(e!==null)je=e,ge=t;else{if(t===null)throw W.alternate===null?Error(L(467)):Error(L(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},je===null?W.memoizedState=je=t:je=je.next=t}return je}function Dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(t){var e=wo;return wo+=1,Ra===null&&(Ra=[]),t=pT(Ra,t,e),e=W,(je===null?e.memoizedState:je.next)===null&&(e=e.alternate,Y.H=e===null||e.memoizedState===null?JT:km),t}function Oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $o(t);if(t.$$typeof===jn)return st(t)}throw Error(L(438,String(t)))}function Nm(t){var e=null,n=W.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=W.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Dc(),W.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=X1;return e.index++,n}function Zn(t,e){return typeof e=="function"?e(t):e}function iu(t){var e=Le();return Dm(e,ge,t)}function Dm(t,e,n){var i=t.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var r=t.baseQueue,a=i.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}e.baseQueue=r=a,i.pending=null}if(a=t.baseState,r===null)t.memoizedState=a;else{e=r.next;var l=s=null,u=null,c=e,f=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(oe&m)===m:(Jn&m)===m){var p=c.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===La&&(f=!0);else if((Jn&p)===p){c=c.next,p===La&&(f=!0);continue}else m={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=m,s=a):u=u.next=m,W.lanes|=p,Zi|=p;m=c.action,Dr&&n(a,m),a=c.hasEagerState?c.eagerState:n(a,m)}else p={lane:m,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=p,s=a):u=u.next=p,W.lanes|=m,Zi|=m;c=c.next}while(c!==null&&c!==e);if(u===null?s=a:u.next=l,!jt(a,t.memoizedState)&&(qe=!0,f&&(n=Aa,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=u,i.lastRenderedState=a}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Qh(t){var e=Le(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=t(a,s.action),s=s.next;while(s!==r);jt(a,e.memoizedState)||(qe=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function AT(t,e,n){var i=W,r=Le(),a=le;if(a){if(n===void 0)throw Error(L(407));n=n()}else n=e();var s=!jt((ge||r).memoizedState,n);if(s&&(r.memoizedState=n,qe=!0),r=r.queue,Om(RT.bind(null,i,r,t),[t]),r.getSnapshot!==e||s||je!==null&&je.memoizedState.tag&1){if(i.flags|=2048,Ua(9,{destroy:void 0},wT.bind(null,i,r,n,e),null),_e===null)throw Error(L(349));a||Jn&127||ST(i,e,n)}return n}function ST(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=W.updateQueue,e===null?(e=Dc(),W.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wT(t,e,n,i){e.value=n,e.getSnapshot=i,xT(e)&&CT(t)}function RT(t,e,n){return n(function(){xT(e)&&CT(t)})}function xT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jt(t,n)}catch{return!0}}function CT(t){var e=Fr(t,2);e!==null&&Rt(e,t,2)}function ed(t){var e=_t();if(typeof t=="function"){var n=t;if(t=n(),Dr){Ci(!0);try{n()}finally{Ci(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:t},e}function IT(t,e,n,i){return t.baseState=n,Dm(t,ge,typeof i=="function"?i:Zn)}function fR(t,e,n,i,r){if(Vc(t))throw Error(L(485));if(t=e.action,t!==null){var a={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};Y.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,NT(e,a)):(a.next=n.next,e.pending=n.next=a)}}function NT(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var a=Y.T,s={};Y.T=s;try{var l=n(r,i),u=Y.S;u!==null&&u(s,l),My(t,e,l)}catch(c){td(t,e,c)}finally{a!==null&&s.types!==null&&(a.types=s.types),Y.T=a}}else try{a=n(r,i),My(t,e,a)}catch(c){td(t,e,c)}}function My(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Vy(t,e,i)},function(i){return td(t,e,i)}):Vy(t,e,n)}function Vy(t,e,n){e.status="fulfilled",e.value=n,DT(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,NT(t,n)))}function td(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,DT(e),e=e.next;while(e!==i)}t.action=null}function DT(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function OT(t,e){return e}function Py(t,e){if(le){var n=_e.formState;if(n!==null){e:{var i=W;if(le){if(Se){t:{for(var r=Se,a=$t;r.nodeType!==8;){if(!a){r=null;break t}if(r=Wt(r.nextSibling),r===null){r=null;break t}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){Se=Wt(r.nextSibling),i=r.data==="F!";break e}}Xi(i)}i=!1}i&&(e=n[0])}}return n=_t(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:OT,lastRenderedState:e},n.queue=i,n=YT.bind(null,W,i),i.dispatch=n,i=ed(!1),a=Lm.bind(null,W,!1,i.queue),i=_t(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=fR.bind(null,W,r,a,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function Ly(t){var e=Le();return MT(e,ge,t)}function MT(t,e,n){if(e=Dm(t,e,OT)[0],t=iu(Zn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=$o(e)}catch(s){throw s===ns?Nc:s}else i=e;e=Le();var r=e.queue,a=r.dispatch;return n!==e.memoizedState&&(W.flags|=2048,Ua(9,{destroy:void 0},dR.bind(null,r,n),null)),[i,a,t]}function dR(t,e){t.action=e}function ky(t){var e=Le(),n=ge;if(n!==null)return MT(e,n,t);Le(),e=e.memoizedState,n=Le();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Ua(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=W.updateQueue,e===null&&(e=Dc(),W.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function VT(){return Le().memoizedState}function ru(t,e,n,i){var r=_t();W.flags|=t,r.memoizedState=Ua(1|e,{destroy:void 0},n,i===void 0?null:i)}function Mc(t,e,n,i){var r=Le();i=i===void 0?null:i;var a=r.memoizedState.inst;ge!==null&&i!==null&&wm(i,ge.memoizedState.deps)?r.memoizedState=Ua(e,a,n,i):(W.flags|=t,r.memoizedState=Ua(1|e,a,n,i))}function Uy(t,e){ru(8390656,8,t,e)}function Om(t,e){Mc(2048,8,t,e)}function mR(t){W.flags|=4;var e=W.updateQueue;if(e===null)e=Dc(),W.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function PT(t){var e=Le().memoizedState;return mR({ref:e,nextImpl:t}),function(){if(ce&2)throw Error(L(440));return e.impl.apply(void 0,arguments)}}function LT(t,e){return Mc(4,2,t,e)}function kT(t,e){return Mc(4,4,t,e)}function UT(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jT(t,e,n){n=n!=null?n.concat([t]):null,Mc(4,4,UT.bind(null,e,t),n)}function Mm(){}function zT(t,e){var n=Le();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&wm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function BT(t,e){var n=Le();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&wm(e,i[1]))return i[0];if(i=t(),Dr){Ci(!0);try{t()}finally{Ci(!1)}}return n.memoizedState=[i,e],i}function Vm(t,e,n){return n===void 0||Jn&1073741824&&!(oe&261930)?t.memoizedState=e:(t.memoizedState=n,t=I0(),W.lanes|=t,Zi|=t,n)}function FT(t,e,n,i){return jt(n,e)?n:ka.current!==null?(t=Vm(t,n,i),jt(t,e)||(qe=!0),t):!(Jn&42)||Jn&1073741824&&!(oe&261930)?(qe=!0,t.memoizedState=n):(t=I0(),W.lanes|=t,Zi|=t,e)}function qT(t,e,n,i,r){var a=he.p;he.p=a!==0&&8>a?a:8;var s=Y.T,l={};Y.T=l,Lm(t,!1,e,n);try{var u=r(),c=Y.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=uR(u,i);ao(t,e,f,Ut(t))}else ao(t,e,i,Ut(t))}catch(m){ao(t,e,{then:function(){},status:"rejected",reason:m},Ut())}finally{he.p=a,s!==null&&l.types!==null&&(s.types=l.types),Y.T=s}}function pR(){}function nd(t,e,n,i){if(t.tag!==5)throw Error(L(476));var r=HT(t).queue;qT(t,r,e,Ar,n===null?pR:function(){return GT(t),n(i)})}function HT(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ar,baseState:Ar,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:Ar},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function GT(t){var e=HT(t);e.next===null&&(e=t.alternate.memoizedState),ao(t,e.next.queue,{},Ut())}function Pm(){return st(Io)}function QT(){return Le().memoizedState}function KT(){return Le().memoizedState}function gR(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Ut();t=Li(n);var i=ki(e,t,n);i!==null&&(Rt(i,e,n),no(i,e,n)),e={cache:Em()},t.payload=e;return}e=e.return}}function yR(t,e,n){var i=Ut();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Vc(t)?$T(e,n):(n=gm(t,e,n,i),n!==null&&(Rt(n,t,i),XT(n,e,i)))}function YT(t,e,n){var i=Ut();ao(t,e,n,i)}function ao(t,e,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vc(t))$T(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,l=a(s,n);if(r.hasEagerState=!0,r.eagerState=l,jt(l,s))return Ic(t,e,r,0),_e===null&&Cc(),!1}catch{}finally{}if(n=gm(t,e,r,i),n!==null)return Rt(n,t,i),XT(n,e,i),!0}return!1}function Lm(t,e,n,i){if(i={lane:2,revertLane:Gm(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Vc(t)){if(e)throw Error(L(479))}else e=gm(t,n,i,2),e!==null&&Rt(e,t,2)}function Vc(t){var e=t.alternate;return t===W||e!==null&&e===W}function $T(t,e){wa=Lu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XT(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,PE(t,n)}}var Ro={readContext:st,use:Oc,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe};Ro.useEffectEvent=Oe;var JT={readContext:st,use:Oc,useCallback:function(t,e){return _t().memoizedState=[t,e===void 0?null:e],t},useContext:st,useEffect:Uy,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,ru(4194308,4,UT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ru(4194308,4,t,e)},useInsertionEffect:function(t,e){ru(4,2,t,e)},useMemo:function(t,e){var n=_t();e=e===void 0?null:e;var i=t();if(Dr){Ci(!0);try{t()}finally{Ci(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=_t();if(n!==void 0){var r=n(e);if(Dr){Ci(!0);try{n(e)}finally{Ci(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=yR.bind(null,W,t),[i.memoizedState,t]},useRef:function(t){var e=_t();return t={current:t},e.memoizedState=t},useState:function(t){t=ed(t);var e=t.queue,n=YT.bind(null,W,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Mm,useDeferredValue:function(t,e){var n=_t();return Vm(n,t,e)},useTransition:function(){var t=ed(!1);return t=qT.bind(null,W,t.queue,!0,!1),_t().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=W,r=_t();if(le){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),_e===null)throw Error(L(349));oe&127||ST(i,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,Uy(RT.bind(null,i,a,t),[t]),i.flags|=2048,Ua(9,{destroy:void 0},wT.bind(null,i,a,n,e),null),n},useId:function(){var t=_t(),e=_e.identifierPrefix;if(le){var n=_n,i=yn;n=(i&~(1<<32-kt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=ku++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=cR++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Pm,useFormState:Py,useActionState:Py,useOptimistic:function(t){var e=_t();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Lm.bind(null,W,!0,n),n.dispatch=e,[t,e]},useMemoCache:Nm,useCacheRefresh:function(){return _t().memoizedState=gR.bind(null,W)},useEffectEvent:function(t){var e=_t(),n={impl:t};return e.memoizedState=n,function(){if(ce&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},km={readContext:st,use:Oc,useCallback:zT,useContext:st,useEffect:Om,useImperativeHandle:jT,useInsertionEffect:LT,useLayoutEffect:kT,useMemo:BT,useReducer:iu,useRef:VT,useState:function(){return iu(Zn)},useDebugValue:Mm,useDeferredValue:function(t,e){var n=Le();return FT(n,ge.memoizedState,t,e)},useTransition:function(){var t=iu(Zn)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:$o(t),e]},useSyncExternalStore:AT,useId:QT,useHostTransitionStatus:Pm,useFormState:Ly,useActionState:Ly,useOptimistic:function(t,e){var n=Le();return IT(n,ge,t,e)},useMemoCache:Nm,useCacheRefresh:KT};km.useEffectEvent=PT;var ZT={readContext:st,use:Oc,useCallback:zT,useContext:st,useEffect:Om,useImperativeHandle:jT,useInsertionEffect:LT,useLayoutEffect:kT,useMemo:BT,useReducer:Qh,useRef:VT,useState:function(){return Qh(Zn)},useDebugValue:Mm,useDeferredValue:function(t,e){var n=Le();return ge===null?Vm(n,t,e):FT(n,ge.memoizedState,t,e)},useTransition:function(){var t=Qh(Zn)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:$o(t),e]},useSyncExternalStore:AT,useId:QT,useHostTransitionStatus:Pm,useFormState:ky,useActionState:ky,useOptimistic:function(t,e){var n=Le();return ge!==null?IT(n,ge,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Nm,useCacheRefresh:KT};ZT.useEffectEvent=PT;function Kh(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var id={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ut(),r=Li(i);r.payload=e,n!=null&&(r.callback=n),e=ki(t,r,i),e!==null&&(Rt(e,t,i),no(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ut(),r=Li(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=ki(t,r,i),e!==null&&(Rt(e,t,i),no(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),i=Li(n);i.tag=2,e!=null&&(i.callback=e),e=ki(t,i,n),e!==null&&(Rt(e,t,n),no(e,t,n))}};function jy(t,e,n,i,r,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,s):e.prototype&&e.prototype.isPureReactComponent?!To(n,i)||!To(r,a):!0}function zy(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&id.enqueueReplaceState(e,e.state,null)}function Or(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=xe({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function WT(t){Iu(t)}function e0(t){console.error(t)}function t0(t){Iu(t)}function Uu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function By(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function rd(t,e,n){return n=Li(n),n.tag=3,n.payload={element:null},n.callback=function(){Uu(t,e)},n}function n0(t){return t=Li(t),t.tag=3,t}function i0(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;t.payload=function(){return r(a)},t.callback=function(){By(e,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){By(e,n,i),typeof r!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function _R(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&ts(e,n,r,!0),n=zt.current,n!==null){switch(n.tag){case 31:case 13:return Zt===null?qu():n.alternate===null&&Me===0&&(Me=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Mu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),af(t,i,r)),!1;case 22:return n.flags|=65536,i===Mu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),af(t,i,r)),!1}throw Error(L(435,n.tag))}return af(t,i,r),qu(),!1}if(le)return e=zt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==Gf&&(t=Error(L(422),{cause:i}),Ao(Yt(t,n)))):(i!==Gf&&(e=Error(L(423),{cause:i}),Ao(Yt(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=Yt(i,n),r=rd(t.stateNode,i,r),Gh(t,r),Me!==4&&(Me=2)),!1;var a=Error(L(520),{cause:i});if(a=Yt(a,n),lo===null?lo=[a]:lo.push(a),Me!==4&&(Me=2),e===null)return!0;i=Yt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=rd(n.stateNode,i,t),Gh(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Ui===null||!Ui.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=n0(r),i0(r,t,n,i),Gh(n,r),!1}n=n.return}while(n!==null);return!1}var Um=Error(L(461)),qe=!1;function tt(t,e,n,i){e.child=t===null?yT(e,null,n,i):Nr(e,t.child,n,i)}function Fy(t,e,n,i,r){n=n.render;var a=e.ref;if("ref"in i){var s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}else s=i;return Ir(e),i=Rm(t,e,n,s,a,r),l=xm(),t!==null&&!qe?(Cm(t,e,r),Wn(t,e,r)):(le&&l&&_m(e),e.flags|=1,tt(t,e,i,r),e.child)}function qy(t,e,n,i,r){if(t===null){var a=n.type;return typeof a=="function"&&!ym(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,r0(t,e,a,i,r)):(t=tu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!jm(t,r)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:To,n(s,i)&&t.ref===e.ref)return Wn(t,e,r)}return e.flags|=1,t=Hn(a,i),t.ref=e.ref,t.return=e,e.child=t}function r0(t,e,n,i,r){if(t!==null){var a=t.memoizedProps;if(To(a,i)&&t.ref===e.ref)if(qe=!1,e.pendingProps=i=a,jm(t,r))t.flags&131072&&(qe=!0);else return e.lanes=t.lanes,Wn(t,e,r)}return ad(t,e,n,i,r)}function a0(t,e,n,i){var r=i.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~a}else i=0,e.child=null;return Hy(t,e,a,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&nu(e,a!==null?a.cachePool:null),a!==null?Oy(e,a):Zf(),ET(e);else return i=e.lanes=536870912,Hy(t,e,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(nu(e,a.cachePool),Oy(e,a),Ai(),e.memoizedState=null):(t!==null&&nu(e,null),Zf(),Ai());return tt(t,e,r,n),e.child}function Hs(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Hy(t,e,n,i,r){var a=Tm();return a=a===null?null:{parent:Be._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&nu(e,null),Zf(),ET(e),t!==null&&ts(t,e,i,!0),e.childLanes=r,null}function au(t,e){return e=ju({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Gy(t,e,n){return Nr(e,t.child,null,n),t=au(e,e.pendingProps),t.flags|=2,Dt(e),e.memoizedState=null,t}function vR(t,e,n){var i=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(le){if(i.mode==="hidden")return t=au(e,i),e.lanes=536870912,Hs(null,t);if(Wf(e),(t=Se)?(t=J0(t,$t),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$i!==null?{id:yn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},n=cT(t),n.return=e,e.child=n,rt=e,Se=null)):t=null,t===null)throw Xi(e);return e.lanes=536870912,null}return au(e,i)}var a=t.memoizedState;if(a!==null){var s=a.dehydrated;if(Wf(e),r)if(e.flags&256)e.flags&=-257,e=Gy(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(L(558));else if(qe||ts(t,e,n,!1),r=(n&t.childLanes)!==0,qe||r){if(i=_e,i!==null&&(s=LE(i,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,Fr(t,s),Rt(i,t,s),Um;qu(),e=Gy(t,e,n)}else t=a.treeContext,Se=Wt(s.nextSibling),rt=e,le=!0,Pi=null,$t=!1,t!==null&&fT(e,t),e=au(e,i),e.flags|=4096;return e}return t=Hn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function su(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function ad(t,e,n,i,r){return Ir(e),n=Rm(t,e,n,i,void 0,r),i=xm(),t!==null&&!qe?(Cm(t,e,r),Wn(t,e,r)):(le&&i&&_m(e),e.flags|=1,tt(t,e,n,r),e.child)}function Qy(t,e,n,i,r,a){return Ir(e),e.updateQueue=null,n=bT(e,i,n,r),TT(t),i=xm(),t!==null&&!qe?(Cm(t,e,a),Wn(t,e,a)):(le&&i&&_m(e),e.flags|=1,tt(t,e,n,a),e.child)}function Ky(t,e,n,i,r){if(Ir(e),e.stateNode===null){var a=ga,s=n.contextType;typeof s=="object"&&s!==null&&(a=st(s)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=id,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},Am(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?st(s):ga,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Kh(e,n,s,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&id.enqueueReplaceState(a,a.state,null),ro(e,i,a,r),io(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var l=e.memoizedProps,u=Or(n,l);a.props=u;var c=a.context,f=n.contextType;s=ga,typeof f=="object"&&f!==null&&(s=st(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||c!==s)&&zy(e,a,i,s),Ei=!1;var p=e.memoizedState;a.state=p,ro(e,i,a,r),io(),c=e.memoizedState,l||p!==c||Ei?(typeof m=="function"&&(Kh(e,n,m,i),c=e.memoizedState),(u=Ei||jy(e,n,u,i,p,c,s))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=s,i=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Xf(t,e),s=e.memoizedProps,f=Or(n,s),a.props=f,m=e.pendingProps,p=a.context,c=n.contextType,u=ga,typeof c=="object"&&c!==null&&(u=st(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==m||p!==u)&&zy(e,a,i,u),Ei=!1,p=e.memoizedState,a.state=p,ro(e,i,a,r),io();var y=e.memoizedState;s!==m||p!==y||Ei||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof l=="function"&&(Kh(e,n,l,i),y=e.memoizedState),(f=Ei||jy(e,n,f,i,p,y,u)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,y,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,y,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),a.props=i,a.state=y,a.context=u,i=f):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,su(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=Nr(e,t.child,null,r),e.child=Nr(e,null,n,r)):tt(t,e,n,r),e.memoizedState=a.state,t=e.child):t=Wn(t,e,r),t}function Yy(t,e,n,i){return Cr(),e.flags|=256,tt(t,e,n,i),e.child}var Yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $h(t){return{baseLanes:t,cachePool:mT()}}function Xh(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Vt),t}function s0(t,e,n){var i=e.pendingProps,r=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(Pe.current&2)!==0),s&&(r=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(le){if(r?bi(e):Ai(),(t=Se)?(t=J0(t,$t),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$i!==null?{id:yn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},n=cT(t),n.return=e,e.child=n,rt=e,Se=null)):t=null,t===null)throw Xi(e);return vd(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(Ai(),r=e.mode,l=ju({mode:"hidden",children:l},r),i=Sr(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=$h(n),i.childLanes=Xh(t,s,n),e.memoizedState=Yh,Hs(null,i)):(bi(e),sd(e,l))}var u=t.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(a)e.flags&256?(bi(e),e.flags&=-257,e=Jh(t,e,n)):e.memoizedState!==null?(Ai(),e.child=t.child,e.flags|=128,e=null):(Ai(),l=i.fallback,r=e.mode,i=ju({mode:"visible",children:i.children},r),l=Sr(l,r,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Nr(e,t.child,null,n),i=e.child,i.memoizedState=$h(n),i.childLanes=Xh(t,s,n),e.memoizedState=Yh,e=Hs(null,i));else if(bi(e),vd(l)){if(s=l.nextSibling&&l.nextSibling.dataset,s)var c=s.dgst;s=c,i=Error(L(419)),i.stack="",i.digest=s,Ao({value:i,source:null,stack:null}),e=Jh(t,e,n)}else if(qe||ts(t,e,n,!1),s=(n&t.childLanes)!==0,qe||s){if(s=_e,s!==null&&(i=LE(s,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,Fr(t,i),Rt(s,t,i),Um;_d(l)||qu(),e=Jh(t,e,n)}else _d(l)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Se=Wt(l.nextSibling),rt=e,le=!0,Pi=null,$t=!1,t!==null&&fT(e,t),e=sd(e,i.children),e.flags|=4096);return e}return r?(Ai(),l=i.fallback,r=e.mode,u=t.child,c=u.sibling,i=Hn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?l=Hn(c,l):(l=Sr(l,r,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,Hs(null,i),i=e.child,l=t.child.memoizedState,l===null?l=$h(n):(r=l.cachePool,r!==null?(u=Be._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=mT(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=Xh(t,s,n),e.memoizedState=Yh,Hs(t.child,i)):(bi(e),n=t.child,t=n.sibling,n=Hn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function sd(t,e){return e=ju({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ju(t,e){return t=Ot(22,t,null,e),t.lanes=0,t}function Jh(t,e,n){return Nr(e,t.child,null,n),t=sd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $y(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Kf(t.return,e,n)}function Zh(t,e,n,i,r,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r,s.treeForkCount=a)}function o0(t,e,n){var i=e.pendingProps,r=i.revealOrder,a=i.tail;i=i.children;var s=Pe.current,l=(s&2)!==0;if(l?(s=s&1|2,e.flags|=128):s&=1,Te(Pe,s),tt(t,e,i,n),i=le?bo:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$y(t,n,e);else if(t.tag===19)$y(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Pu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Zh(e,!1,r,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Pu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Zh(e,!0,n,null,a,i);break;case"together":Zh(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zi|=e.lanes,!(n&e.childLanes))if(t!==null){if(ts(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=Hn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jm(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function ER(t,e,n){switch(e.tag){case 3:wu(e,e.stateNode.containerInfo),Ti(e,Be,t.memoizedState.cache),Cr();break;case 27:case 5:Vf(e);break;case 4:wu(e,e.stateNode.containerInfo);break;case 10:Ti(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Wf(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(bi(e),e.flags|=128,null):n&e.child.childLanes?s0(t,e,n):(bi(e),t=Wn(t,e,n),t!==null?t.sibling:null);bi(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(ts(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return o0(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Te(Pe,Pe.current),i)break;return null;case 22:return e.lanes=0,a0(t,e,n,e.pendingProps);case 24:Ti(e,Be,t.memoizedState.cache)}return Wn(t,e,n)}function l0(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)qe=!0;else{if(!jm(t,n)&&!(e.flags&128))return qe=!1,ER(t,e,n);qe=!!(t.flags&131072)}else qe=!1,le&&e.flags&1048576&&hT(e,bo,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=_r(e.elementType),e.type=t,typeof t=="function")ym(t)?(i=Or(t,i),e.tag=1,e=Ky(null,e,t,i,n)):(e.tag=0,e=ad(null,e,t,i,n));else{if(t!=null){var r=t.$$typeof;if(r===im){e.tag=11,e=Fy(null,e,t,i,n);break e}else if(r===rm){e.tag=14,e=qy(null,e,t,i,n);break e}}throw e=Of(t)||t,Error(L(306,e,""))}}return e;case 0:return ad(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=Or(i,e.pendingProps),Ky(t,e,i,r,n);case 3:e:{if(wu(e,e.stateNode.containerInfo),t===null)throw Error(L(387));i=e.pendingProps;var a=e.memoizedState;r=a.element,Xf(t,e),ro(e,i,null,n);var s=e.memoizedState;if(i=s.cache,Ti(e,Be,i),i!==a.cache&&Yf(e,[Be],n,!0),io(),i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=Yy(t,e,i,n);break e}else if(i!==r){r=Yt(Error(L(424)),e),Ao(r),e=Yy(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Se=Wt(t.firstChild),rt=e,le=!0,Pi=null,$t=!0,n=yT(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Cr(),i===r){e=Wn(t,e,n);break e}tt(t,e,i,n)}e=e.child}return e;case 26:return su(t,e),t===null?(n=p_(e.type,null,e.pendingProps,null))?e.memoizedState=n:le||(n=e.type,t=e.pendingProps,i=Ku(Vi.current).createElement(n),i[it]=e,i[xt]=t,ot(i,n,t),Ze(i),e.stateNode=i):e.memoizedState=p_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Vf(e),t===null&&le&&(i=e.stateNode=Z0(e.type,e.pendingProps,Vi.current),rt=e,$t=!0,r=Se,sr(e.type)?(Ed=r,Se=Wt(i.firstChild)):Se=r),tt(t,e,e.pendingProps.children,n),su(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&le&&((r=i=Se)&&(i=XR(i,e.type,e.pendingProps,$t),i!==null?(e.stateNode=i,rt=e,Se=Wt(i.firstChild),$t=!1,r=!0):r=!1),r||Xi(e)),Vf(e),r=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,i=a.children,gd(r,a)?i=null:s!==null&&gd(r,s)&&(e.flags|=32),e.memoizedState!==null&&(r=Rm(t,e,hR,null,null,n),Io._currentValue=r),su(t,e),tt(t,e,i,n),e.child;case 6:return t===null&&le&&((t=n=Se)&&(n=JR(n,e.pendingProps,$t),n!==null?(e.stateNode=n,rt=e,Se=null,t=!0):t=!1),t||Xi(e)),null;case 13:return s0(t,e,n);case 4:return wu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Nr(e,null,i,n):tt(t,e,i,n),e.child;case 11:return Fy(t,e,e.type,e.pendingProps,n);case 7:return tt(t,e,e.pendingProps,n),e.child;case 8:return tt(t,e,e.pendingProps.children,n),e.child;case 12:return tt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Ti(e,e.type,i.value),tt(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,Ir(e),r=st(r),i=i(r),e.flags|=1,tt(t,e,i,n),e.child;case 14:return qy(t,e,e.type,e.pendingProps,n);case 15:return r0(t,e,e.type,e.pendingProps,n);case 19:return o0(t,e,n);case 31:return vR(t,e,n);case 22:return a0(t,e,n,e.pendingProps);case 24:return Ir(e),i=st(Be),t===null?(r=Tm(),r===null&&(r=_e,a=Em(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),e.memoizedState={parent:i,cache:r},Am(e),Ti(e,Be,r)):(t.lanes&n&&(Xf(t,e),ro(e,null,null,n),io()),r=t.memoizedState,a=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Ti(e,Be,i)):(i=a.cache,Ti(e,Be,i),i!==r.cache&&Yf(e,[Be],n,!0))),tt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(L(156,e.tag))}function On(t){t.flags|=4}function Wh(t,e,n,i,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(O0())t.flags|=8192;else throw Rr=Mu,bm}else t.flags&=-16777217}function Xy(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!tb(e))if(O0())t.flags|=8192;else throw Rr=Mu,bm}function kl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?ME():536870912,t.lanes|=e,ja|=e)}function ks(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function TR(t,e,n){var i=e.pendingProps;switch(vm(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(e),null;case 1:return Ae(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Gn(Be),Ma(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Zr(e)?On(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hh())),Ae(e),null;case 26:var r=e.type,a=e.memoizedState;return t===null?(On(e),a!==null?(Ae(e),Xy(e,a)):(Ae(e),Wh(e,r,null,i,n))):a?a!==t.memoizedState?(On(e),Ae(e),Xy(e,a)):(Ae(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&On(e),Ae(e),Wh(e,r,t,i,n)),null;case 27:if(Ru(e),n=Vi.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&On(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Ae(e),null}t=En.current,Zr(e)?wy(e):(t=Z0(r,i,n),e.stateNode=t,On(e))}return Ae(e),null;case 5:if(Ru(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&On(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Ae(e),null}if(a=En.current,Zr(e))wy(e);else{var s=Ku(Vi.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?s.createElement(r,{is:i.is}):s.createElement(r)}}a[it]=e,a[xt]=i;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=a;e:switch(ot(a,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&On(e)}}return Ae(e),Wh(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&On(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(L(166));if(t=Vi.current,Zr(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=rt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[it]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Y0(t.nodeValue,n)),t||Xi(e,!0)}else t=Ku(t).createTextNode(i),t[it]=e,e.stateNode=t}return Ae(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Zr(e),n!==null){if(t===null){if(!i)throw Error(L(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(557));t[it]=e}else Cr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),t=!1}else n=Hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Dt(e),e):(Dt(e),null);if(e.flags&128)throw Error(L(558))}return Ae(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=Zr(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(L(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[it]=e}else Cr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),r=!1}else r=Hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Dt(e),e):(Dt(e),null)}return Dt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),kl(e,e.updateQueue),Ae(e),null);case 4:return Ma(),t===null&&Qm(e.stateNode.containerInfo),Ae(e),null;case 10:return Gn(e.type),Ae(e),null;case 19:if(et(Pe),i=e.memoizedState,i===null)return Ae(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)ks(i,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Pu(t),a!==null){for(e.flags|=128,ks(i,!1),t=a.updateQueue,e.updateQueue=t,kl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)uT(n,t),n=n.sibling;return Te(Pe,Pe.current&1|2),le&&Ln(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Pt()>Bu&&(e.flags|=128,r=!0,ks(i,!1),e.lanes=4194304)}else{if(!r)if(t=Pu(a),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,kl(e,t),ks(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!le)return Ae(e),null}else 2*Pt()-i.renderingStartTime>Bu&&n!==536870912&&(e.flags|=128,r=!0,ks(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pt(),t.sibling=null,n=Pe.current,Te(Pe,r?n&1|2:n&1),le&&Ln(e,i.treeForkCount),t):(Ae(e),null);case 22:case 23:return Dt(e),Sm(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Ae(e),e.subtreeFlags&6&&(e.flags|=8192)):Ae(e),n=e.updateQueue,n!==null&&kl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&et(wr),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Gn(Be),Ae(e),null;case 25:return null;case 30:return null}throw Error(L(156,e.tag))}function bR(t,e){switch(vm(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gn(Be),Ma(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ru(e),null;case 31:if(e.memoizedState!==null){if(Dt(e),e.alternate===null)throw Error(L(340));Cr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Dt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Cr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(Pe),null;case 4:return Ma(),null;case 10:return Gn(e.type),null;case 22:case 23:return Dt(e),Sm(),t!==null&&et(wr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Gn(Be),null;case 25:return null;default:return null}}function u0(t,e){switch(vm(e),e.tag){case 3:Gn(Be),Ma();break;case 26:case 27:case 5:Ru(e);break;case 4:Ma();break;case 31:e.memoizedState!==null&&Dt(e);break;case 13:Dt(e);break;case 19:et(Pe);break;case 10:Gn(e.type);break;case 22:case 23:Dt(e),Sm(),t!==null&&et(wr);break;case 24:Gn(Be)}}function Xo(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==r)}}catch(l){me(e,e.return,l)}}function Ji(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&t)===t){var s=i.inst,l=s.destroy;if(l!==void 0){s.destroy=void 0,r=e;var u=n,c=l;try{c()}catch(f){me(r,u,f)}}}i=i.next}while(i!==a)}}catch(f){me(e,e.return,f)}}function c0(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{vT(e,n)}catch(i){me(t,t.return,i)}}}function h0(t,e,n){n.props=Or(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){me(t,e,i)}}function so(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){me(t,e,r)}}function vn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){me(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function f0(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){me(t,t.return,r)}}function ef(t,e,n){try{var i=t.stateNode;HR(i,t.type,n,e),i[xt]=e}catch(r){me(t,t.return,r)}}function d0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sr(t.type)||t.tag===4}function tf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zn));else if(i!==4&&(i===27&&sr(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(od(t,e,n),t=t.sibling;t!==null;)od(t,e,n),t=t.sibling}function zu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&sr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(zu(t,e,n),t=t.sibling;t!==null;)zu(t,e,n),t=t.sibling}function m0(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);ot(e,i,n),e[it]=t,e[xt]=n}catch(a){me(t,t.return,a)}}var kn=!1,ze=!1,nf=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,Je=null;function AR(t,e){if(t=t.containerInfo,md=Ju,t=tT(t),mm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,f=0,m=t,p=null;t:for(;;){for(var y;m!==n||r!==0&&m.nodeType!==3||(l=s+r),m!==a||i!==0&&m.nodeType!==3||(u=s+i),m.nodeType===3&&(s+=m.nodeValue.length),(y=m.firstChild)!==null;)p=m,m=y;for(;;){if(m===t)break t;if(p===n&&++c===r&&(l=s),p===a&&++f===i&&(u=s),(y=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(pd={focusedElem:t,selectionRange:n},Ju=!1,Je=e;Je!==null;)if(e=Je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Je=t;else for(;Je!==null;){switch(e=Je,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var C=Or(n.type,r);t=i.getSnapshotBeforeUpdate(C,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(N){me(n,n.return,N)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)yd(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(L(163))}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}}function p0(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Vn(t,n),i&4&&Xo(5,n);break;case 1:if(Vn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){me(n,n.return,s)}else{var r=Or(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){me(n,n.return,s)}}i&64&&c0(n),i&512&&so(n,n.return);break;case 3:if(Vn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{vT(t,e)}catch(s){me(n,n.return,s)}}break;case 27:e===null&&i&4&&m0(n);case 26:case 5:Vn(t,n),e===null&&i&4&&f0(n),i&512&&so(n,n.return);break;case 12:Vn(t,n);break;case 31:Vn(t,n),i&4&&_0(t,n);break;case 13:Vn(t,n),i&4&&v0(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=OR.bind(null,n),ZR(t,n))));break;case 22:if(i=n.memoizedState!==null||kn,!i){e=e!==null&&e.memoizedState!==null||ze,r=kn;var a=ze;kn=i,(ze=e)&&!a?Pn(t,n,(n.subtreeFlags&8772)!==0):Vn(t,n),kn=r,ze=a}break;case 30:break;default:Vn(t,n)}}function g0(t){var e=t.alternate;e!==null&&(t.alternate=null,g0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&lm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ce=null,At=!1;function Mn(t,e,n){for(n=n.child;n!==null;)y0(t,e,n),n=n.sibling}function y0(t,e,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(qo,n)}catch{}switch(n.tag){case 26:ze||vn(n,e),Mn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ze||vn(n,e);var i=Ce,r=At;sr(n.type)&&(Ce=n.stateNode,At=!1),Mn(t,e,n),co(n.stateNode),Ce=i,At=r;break;case 5:ze||vn(n,e);case 6:if(i=Ce,r=At,Ce=null,Mn(t,e,n),Ce=i,At=r,Ce!==null)if(At)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(n.stateNode)}catch(a){me(n,e,a)}else try{Ce.removeChild(n.stateNode)}catch(a){me(n,e,a)}break;case 18:Ce!==null&&(At?(t=Ce,c_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),qa(t)):c_(Ce,n.stateNode));break;case 4:i=Ce,r=At,Ce=n.stateNode.containerInfo,At=!0,Mn(t,e,n),Ce=i,At=r;break;case 0:case 11:case 14:case 15:Ji(2,n,e),ze||Ji(4,n,e),Mn(t,e,n);break;case 1:ze||(vn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&h0(n,e,i)),Mn(t,e,n);break;case 21:Mn(t,e,n);break;case 22:ze=(i=ze)||n.memoizedState!==null,Mn(t,e,n),ze=i;break;default:Mn(t,e,n)}}function _0(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qa(t)}catch(n){me(e,e.return,n)}}}function v0(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qa(t)}catch(n){me(e,e.return,n)}}function SR(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Jy),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Jy),e;default:throw Error(L(435,t.tag))}}function Ul(t,e){var n=SR(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var r=MR.bind(null,t,i);i.then(r,r)}})}function Tt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 27:if(sr(l.type)){Ce=l.stateNode,At=!1;break e}break;case 5:Ce=l.stateNode,At=!1;break e;case 3:case 4:Ce=l.stateNode.containerInfo,At=!0;break e}l=l.return}if(Ce===null)throw Error(L(160));y0(a,s,r),Ce=null,At=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)E0(e,t),e=e.sibling}var an=null;function E0(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tt(e,t),bt(t),i&4&&(Ji(3,t,t.return),Xo(3,t),Ji(5,t,t.return));break;case 1:Tt(e,t),bt(t),i&512&&(ze||n===null||vn(n,n.return)),i&64&&kn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=an;if(Tt(e,t),bt(t),i&512&&(ze||n===null||vn(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[Qo]||a[it]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),ot(a,i,n),a[it]=t,Ze(a),i=a;break e;case"link":var s=y_("link","href",r).get(i+(n.href||""));if(s){for(var l=0;l<s.length;l++)if(a=s[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(l,1);break t}}a=r.createElement(i),ot(a,i,n),r.head.appendChild(a);break;case"meta":if(s=y_("meta","content",r).get(i+(n.content||""))){for(l=0;l<s.length;l++)if(a=s[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(l,1);break t}}a=r.createElement(i),ot(a,i,n),r.head.appendChild(a);break;default:throw Error(L(468,i))}a[it]=t,Ze(a),i=a}t.stateNode=i}else __(r,t.type,t.stateNode);else t.stateNode=g_(r,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?__(r,t.type,t.stateNode):g_(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&ef(t,t.memoizedProps,n.memoizedProps)}break;case 27:Tt(e,t),bt(t),i&512&&(ze||n===null||vn(n,n.return)),n!==null&&i&4&&ef(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Tt(e,t),bt(t),i&512&&(ze||n===null||vn(n,n.return)),t.flags&32){r=t.stateNode;try{Pa(r,"")}catch(C){me(t,t.return,C)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,ef(t,r,n!==null?n.memoizedProps:r)),i&1024&&(nf=!0);break;case 6:if(Tt(e,t),bt(t),i&4){if(t.stateNode===null)throw Error(L(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(C){me(t,t.return,C)}}break;case 3:if(uu=null,r=an,an=Yu(e.containerInfo),Tt(e,t),an=r,bt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{qa(e.containerInfo)}catch(C){me(t,t.return,C)}nf&&(nf=!1,T0(t));break;case 4:i=an,an=Yu(t.stateNode.containerInfo),Tt(e,t),bt(t),an=i;break;case 12:Tt(e,t),bt(t);break;case 31:Tt(e,t),bt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ul(t,i)));break;case 13:Tt(e,t),bt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Pc=Pt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ul(t,i)));break;case 22:r=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=kn,f=ze;if(kn=c||r,ze=f||u,Tt(e,t),ze=f,kn=c,bt(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||u||kn||ze||vr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(a=u.stateNode,r)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{l=u.stateNode;var m=u.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;l.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(C){me(u,u.return,C)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(C){me(u,u.return,C)}}}else if(e.tag===18){if(n===null){u=e;try{var y=u.stateNode;r?h_(y,!0):h_(u.stateNode,!1)}catch(C){me(u,u.return,C)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Ul(t,n))));break;case 19:Tt(e,t),bt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ul(t,i)));break;case 30:break;case 21:break;default:Tt(e,t),bt(t)}}function bt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(d0(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var r=n.stateNode,a=tf(t);zu(t,a,r);break;case 5:var s=n.stateNode;n.flags&32&&(Pa(s,""),n.flags&=-33);var l=tf(t);zu(t,l,s);break;case 3:case 4:var u=n.stateNode.containerInfo,c=tf(t);od(t,c,u);break;default:throw Error(L(161))}}catch(f){me(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function T0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;T0(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Vn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)p0(t,e.alternate,e),e=e.sibling}function vr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ji(4,e,e.return),vr(e);break;case 1:vn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&h0(e,e.return,n),vr(e);break;case 27:co(e.stateNode);case 26:case 5:vn(e,e.return),vr(e);break;case 22:e.memoizedState===null&&vr(e);break;case 30:vr(e);break;default:vr(e)}t=t.sibling}}function Pn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:Pn(r,a,n),Xo(4,a);break;case 1:if(Pn(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){me(i,i.return,c)}if(i=a,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)_T(u[r],l)}catch(c){me(i,i.return,c)}}n&&s&64&&c0(a),so(a,a.return);break;case 27:m0(a);case 26:case 5:Pn(r,a,n),n&&i===null&&s&4&&f0(a),so(a,a.return);break;case 12:Pn(r,a,n);break;case 31:Pn(r,a,n),n&&s&4&&_0(r,a);break;case 13:Pn(r,a,n),n&&s&4&&v0(r,a);break;case 22:a.memoizedState===null&&Pn(r,a,n),so(a,a.return);break;case 30:break;default:Pn(r,a,n)}e=e.sibling}}function zm(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Yo(n))}function Bm(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Yo(t))}function rn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)b0(t,e,n,i),e=e.sibling}function b0(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:rn(t,e,n,i),r&2048&&Xo(9,e);break;case 1:rn(t,e,n,i);break;case 3:rn(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Yo(t)));break;case 12:if(r&2048){rn(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,l=a.onPostCommit;typeof l=="function"&&l(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){me(e,e.return,u)}}else rn(t,e,n,i);break;case 31:rn(t,e,n,i);break;case 13:rn(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?rn(t,e,n,i):oo(t,e):a._visibility&2?rn(t,e,n,i):(a._visibility|=2,na(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),r&2048&&zm(s,e);break;case 24:rn(t,e,n,i),r&2048&&Bm(e.alternate,e);break;default:rn(t,e,n,i)}}function na(t,e,n,i,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,s=e,l=n,u=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:na(a,s,l,u,r),Xo(8,s);break;case 23:break;case 22:var f=s.stateNode;s.memoizedState!==null?f._visibility&2?na(a,s,l,u,r):oo(a,s):(f._visibility|=2,na(a,s,l,u,r)),r&&c&2048&&zm(s.alternate,s);break;case 24:na(a,s,l,u,r),r&&c&2048&&Bm(s.alternate,s);break;default:na(a,s,l,u,r)}e=e.sibling}}function oo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:oo(n,i),r&2048&&zm(i.alternate,i);break;case 24:oo(n,i),r&2048&&Bm(i.alternate,i);break;default:oo(n,i)}e=e.sibling}}var Gs=8192;function Wr(t,e,n){if(t.subtreeFlags&Gs)for(t=t.child;t!==null;)A0(t,e,n),t=t.sibling}function A0(t,e,n){switch(t.tag){case 26:Wr(t,e,n),t.flags&Gs&&t.memoizedState!==null&&cx(n,an,t.memoizedState,t.memoizedProps);break;case 5:Wr(t,e,n);break;case 3:case 4:var i=an;an=Yu(t.stateNode.containerInfo),Wr(t,e,n),an=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Gs,Gs=16777216,Wr(t,e,n),Gs=i):Wr(t,e,n));break;default:Wr(t,e,n)}}function S0(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Us(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Je=i,R0(i,t)}S0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)w0(t),t=t.sibling}function w0(t){switch(t.tag){case 0:case 11:case 15:Us(t),t.flags&2048&&Ji(9,t,t.return);break;case 3:Us(t);break;case 12:Us(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ou(t)):Us(t);break;default:Us(t)}}function ou(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Je=i,R0(i,t)}S0(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ji(8,e,e.return),ou(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,ou(e));break;default:ou(e)}t=t.sibling}}function R0(t,e){for(;Je!==null;){var n=Je;switch(n.tag){case 0:case 11:case 15:Ji(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Yo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Je=i;else e:for(n=t;Je!==null;){i=Je;var r=i.sibling,a=i.return;if(g0(i),i===n){Je=null;break e}if(r!==null){r.return=a,Je=r;break e}Je=a}}}var wR={getCacheForType:function(t){var e=st(Be),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return st(Be).controller.signal}},RR=typeof WeakMap=="function"?WeakMap:Map,ce=0,_e=null,ie=null,oe=0,de=0,Nt=null,Ni=!1,is=!1,Fm=!1,ei=0,Me=0,Zi=0,xr=0,qm=0,Vt=0,ja=0,lo=null,St=null,ld=!1,Pc=0,x0=0,Bu=1/0,Fu=null,Ui=null,Qe=0,ji=null,za=null,Qn=0,ud=0,cd=null,C0=null,uo=0,hd=null;function Ut(){return ce&2&&oe!==0?oe&-oe:Y.T!==null?Gm():kE()}function I0(){if(Vt===0)if(!(oe&536870912)||le){var t=Nl;Nl<<=1,!(Nl&3932160)&&(Nl=262144),Vt=t}else Vt=536870912;return t=zt.current,t!==null&&(t.flags|=32),Vt}function Rt(t,e,n){(t===_e&&(de===2||de===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Di(t,oe,Vt,!1)),Go(t,n),(!(ce&2)||t!==_e)&&(t===_e&&(!(ce&2)&&(xr|=n),Me===4&&Di(t,oe,Vt,!1)),Cn(t))}function N0(t,e,n){if(ce&6)throw Error(L(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Ho(t,e),r=i?IR(t,e):rf(t,e,!0),a=i;do{if(r===0){is&&!i&&Di(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!xR(n)){r=rf(t,e,!1),a=!1;continue}if(r===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var l=t;r=lo;var u=l.current.memoizedState.isDehydrated;if(u&&(Ba(l,s).flags|=256),s=rf(l,s,!1),s!==2){if(Fm&&!u){l.errorRecoveryDisabledLanes|=a,xr|=a,r=4;break e}a=St,St=r,a!==null&&(St===null?St=a:St.push.apply(St,a))}r=s}if(a=!1,r!==2)continue}}if(r===1){Ba(t,0),Di(t,e,0,!0);break}e:{switch(i=t,a=r,a){case 0:case 1:throw Error(L(345));case 4:if((e&4194048)!==e)break;case 6:Di(i,e,Vt,!Ni);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(L(329))}if((e&62914560)===e&&(r=Pc+300-Pt(),10<r)){if(Di(i,e,Vt,!Ni),Sc(i,0,!0)!==0)break e;Qn=e,i.timeoutHandle=X0(Zy.bind(null,i,n,St,Fu,ld,e,Vt,xr,ja,Ni,a,"Throttled",-0,0),r);break e}Zy(i,n,St,Fu,ld,e,Vt,xr,ja,Ni,a,null,-0,0)}}break}while(!0);Cn(t)}function Zy(t,e,n,i,r,a,s,l,u,c,f,m,p,y){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},A0(e,a,m);var C=(a&62914560)===a?Pc-Pt():(a&4194048)===a?x0-Pt():0;if(C=hx(m,C),C!==null){Qn=a,t.cancelPendingCommit=C(e_.bind(null,t,e,a,n,i,r,s,l,u,f,m,null,p,y)),Di(t,a,s,!c);return}}e_(t,e,a,n,i,r,s,l,u)}function xR(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!jt(a(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Di(t,e,n,i){e&=~qm,e&=~xr,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var a=31-kt(r),s=1<<a;i[a]=-1,r&=~s}n!==0&&VE(t,n,e)}function Lc(){return ce&6?!0:(Jo(0),!1)}function Hm(){if(ie!==null){if(de===0)var t=ie.return;else t=ie,Bn=qr=null,Im(t),Sa=null,So=0,t=ie;for(;t!==null;)u0(t.alternate,t),t=t.return;ie=null}}function Ba(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,KR(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Qn=0,Hm(),_e=t,ie=n=Hn(t.current,null),oe=e,de=0,Nt=null,Ni=!1,is=Ho(t,e),Fm=!1,ja=Vt=qm=xr=Zi=Me=0,St=lo=null,ld=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-kt(i),a=1<<r;e|=t[r],i&=~a}return ei=e,Cc(),n}function D0(t,e){W=null,Y.H=Ro,e===ns||e===Nc?(e=Ny(),de=3):e===bm?(e=Ny(),de=4):de=e===Um?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Nt=e,ie===null&&(Me=1,Uu(t,Yt(e,t.current)))}function O0(){var t=zt.current;return t===null?!0:(oe&4194048)===oe?Zt===null:(oe&62914560)===oe||oe&536870912?t===Zt:!1}function M0(){var t=Y.H;return Y.H=Ro,t===null?Ro:t}function V0(){var t=Y.A;return Y.A=wR,t}function qu(){Me=4,Ni||(oe&4194048)!==oe&&zt.current!==null||(is=!0),!(Zi&134217727)&&!(xr&134217727)||_e===null||Di(_e,oe,Vt,!1)}function rf(t,e,n){var i=ce;ce|=2;var r=M0(),a=V0();(_e!==t||oe!==e)&&(Fu=null,Ba(t,e)),e=!1;var s=Me;e:do try{if(de!==0&&ie!==null){var l=ie,u=Nt;switch(de){case 8:Hm(),s=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(e=!0);var c=de;if(de=0,Nt=null,va(t,l,u,c),n&&is){s=0;break e}break;default:c=de,de=0,Nt=null,va(t,l,u,c)}}CR(),s=Me;break}catch(f){D0(t,f)}while(!0);return e&&t.shellSuspendCounter++,Bn=qr=null,ce=i,Y.H=r,Y.A=a,ie===null&&(_e=null,oe=0,Cc()),s}function CR(){for(;ie!==null;)P0(ie)}function IR(t,e){var n=ce;ce|=2;var i=M0(),r=V0();_e!==t||oe!==e?(Fu=null,Bu=Pt()+500,Ba(t,e)):is=Ho(t,e);e:do try{if(de!==0&&ie!==null){e=ie;var a=Nt;t:switch(de){case 1:de=0,Nt=null,va(t,e,a,1);break;case 2:case 9:if(Iy(a)){de=0,Nt=null,Wy(e);break}e=function(){de!==2&&de!==9||_e!==t||(de=7),Cn(t)},a.then(e,e);break e;case 3:de=7;break e;case 4:de=5;break e;case 7:Iy(a)?(de=0,Nt=null,Wy(e)):(de=0,Nt=null,va(t,e,a,7));break;case 5:var s=null;switch(ie.tag){case 26:s=ie.memoizedState;case 5:case 27:var l=ie;if(s?tb(s):l.stateNode.complete){de=0,Nt=null;var u=l.sibling;if(u!==null)ie=u;else{var c=l.return;c!==null?(ie=c,kc(c)):ie=null}break t}}de=0,Nt=null,va(t,e,a,5);break;case 6:de=0,Nt=null,va(t,e,a,6);break;case 8:Hm(),Me=6;break e;default:throw Error(L(462))}}NR();break}catch(f){D0(t,f)}while(!0);return Bn=qr=null,Y.H=i,Y.A=r,ce=n,ie!==null?0:(_e=null,oe=0,Cc(),Me)}function NR(){for(;ie!==null&&!W1();)P0(ie)}function P0(t){var e=l0(t.alternate,t,ei);t.memoizedProps=t.pendingProps,e===null?kc(t):ie=e}function Wy(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Qy(n,e,e.pendingProps,e.type,void 0,oe);break;case 11:e=Qy(n,e,e.pendingProps,e.type.render,e.ref,oe);break;case 5:Im(e);default:u0(n,e),e=ie=uT(e,ei),e=l0(n,e,ei)}t.memoizedProps=t.pendingProps,e===null?kc(t):ie=e}function va(t,e,n,i){Bn=qr=null,Im(e),Sa=null,So=0;var r=e.return;try{if(_R(t,r,e,n,oe)){Me=1,Uu(t,Yt(n,t.current)),ie=null;return}}catch(a){if(r!==null)throw ie=r,a;Me=1,Uu(t,Yt(n,t.current)),ie=null;return}e.flags&32768?(le||i===1?t=!0:is||oe&536870912?t=!1:(Ni=t=!0,(i===2||i===9||i===3||i===6)&&(i=zt.current,i!==null&&i.tag===13&&(i.flags|=16384))),L0(e,t)):kc(e)}function kc(t){var e=t;do{if(e.flags&32768){L0(e,Ni);return}t=e.return;var n=TR(e.alternate,e,ei);if(n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);Me===0&&(Me=5)}function L0(t,e){do{var n=bR(t.alternate,t);if(n!==null){n.flags&=32767,ie=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ie=t;return}ie=t=n}while(t!==null);Me=6,ie=null}function e_(t,e,n,i,r,a,s,l,u){t.cancelPendingCommit=null;do Uc();while(Qe!==0);if(ce&6)throw Error(L(327));if(e!==null){if(e===t.current)throw Error(L(177));if(a=e.lanes|e.childLanes,a|=pm,uw(t,n,a,s,l,u),t===_e&&(ie=_e=null,oe=0),za=e,ji=t,Qn=n,ud=a,cd=r,C0=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,VR(xu,function(){return B0(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=Y.T,Y.T=null,r=he.p,he.p=2,s=ce,ce|=4;try{AR(t,e,n)}finally{ce=s,he.p=r,Y.T=i}}Qe=1,k0(),U0(),j0()}}function k0(){if(Qe===1){Qe=0;var t=ji,e=za,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Y.T,Y.T=null;var i=he.p;he.p=2;var r=ce;ce|=4;try{E0(e,t);var a=pd,s=tT(t.containerInfo),l=a.focusedElem,u=a.selectionRange;if(s!==l&&l&&l.ownerDocument&&eT(l.ownerDocument.documentElement,l)){if(u!==null&&mm(l)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(f,l.value.length);else{var m=l.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var y=p.getSelection(),C=l.textContent.length,N=Math.min(u.start,C),I=u.end===void 0?N:Math.min(u.end,C);!y.extend&&N>I&&(s=I,I=N,N=s);var E=by(l,N),v=by(l,I);if(E&&v&&(y.rangeCount!==1||y.anchorNode!==E.node||y.anchorOffset!==E.offset||y.focusNode!==v.node||y.focusOffset!==v.offset)){var S=m.createRange();S.setStart(E.node,E.offset),y.removeAllRanges(),N>I?(y.addRange(S),y.extend(v.node,v.offset)):(S.setEnd(v.node,v.offset),y.addRange(S))}}}}for(m=[],y=l;y=y.parentNode;)y.nodeType===1&&m.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<m.length;l++){var D=m[l];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Ju=!!md,pd=md=null}finally{ce=r,he.p=i,Y.T=n}}t.current=e,Qe=2}}function U0(){if(Qe===2){Qe=0;var t=ji,e=za,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Y.T,Y.T=null;var i=he.p;he.p=2;var r=ce;ce|=4;try{p0(t,e.alternate,e)}finally{ce=r,he.p=i,Y.T=n}}Qe=3}}function j0(){if(Qe===4||Qe===3){Qe=0,ew();var t=ji,e=za,n=Qn,i=C0;e.subtreeFlags&10256||e.flags&10256?Qe=5:(Qe=0,za=ji=null,z0(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Ui=null),om(n),e=e.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(qo,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=Y.T,r=he.p,he.p=2,Y.T=null;try{for(var a=t.onRecoverableError,s=0;s<i.length;s++){var l=i[s];a(l.value,{componentStack:l.stack})}}finally{Y.T=e,he.p=r}}Qn&3&&Uc(),Cn(t),r=t.pendingLanes,n&261930&&r&42?t===hd?uo++:(uo=0,hd=t):uo=0,Jo(0)}}function z0(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Yo(e)))}function Uc(){return k0(),U0(),j0(),B0()}function B0(){if(Qe!==5)return!1;var t=ji,e=ud;ud=0;var n=om(Qn),i=Y.T,r=he.p;try{he.p=32>n?32:n,Y.T=null,n=cd,cd=null;var a=ji,s=Qn;if(Qe=0,za=ji=null,Qn=0,ce&6)throw Error(L(331));var l=ce;if(ce|=4,w0(a.current),b0(a,a.current,s,n),ce=l,Jo(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(qo,a)}catch{}return!0}finally{he.p=r,Y.T=i,z0(t,e)}}function t_(t,e,n){e=Yt(n,e),e=rd(t.stateNode,e,2),t=ki(t,e,2),t!==null&&(Go(t,2),Cn(t))}function me(t,e,n){if(t.tag===3)t_(t,t,n);else for(;e!==null;){if(e.tag===3){t_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ui===null||!Ui.has(i))){t=Yt(n,t),n=n0(2),i=ki(e,n,2),i!==null&&(i0(n,i,e,t),Go(i,2),Cn(i));break}}e=e.return}}function af(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new RR;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(Fm=!0,r.add(n),t=DR.bind(null,t,e,n),e.then(t,t))}function DR(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,_e===t&&(oe&n)===n&&(Me===4||Me===3&&(oe&62914560)===oe&&300>Pt()-Pc?!(ce&2)&&Ba(t,0):qm|=n,ja===oe&&(ja=0)),Cn(t)}function F0(t,e){e===0&&(e=ME()),t=Fr(t,e),t!==null&&(Go(t,e),Cn(t))}function OR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),F0(t,n)}function MR(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(e),F0(t,n)}function VR(t,e){return am(t,e)}var Hu=null,ia=null,fd=!1,Gu=!1,sf=!1,Oi=0;function Cn(t){t!==ia&&t.next===null&&(ia===null?Hu=ia=t:ia=ia.next=t),Gu=!0,fd||(fd=!0,LR())}function Jo(t,e){if(!sf&&Gu){sf=!0;do for(var n=!1,i=Hu;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var s=i.suspendedLanes,l=i.pingedLanes;a=(1<<31-kt(42|t)+1)-1,a&=r&~(s&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,n_(i,a))}else a=oe,a=Sc(i,i===_e?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Ho(i,a)||(n=!0,n_(i,a));i=i.next}while(n);sf=!1}}function PR(){q0()}function q0(){Gu=fd=!1;var t=0;Oi!==0&&QR()&&(t=Oi);for(var e=Pt(),n=null,i=Hu;i!==null;){var r=i.next,a=H0(i,e);a===0?(i.next=null,n===null?Hu=r:n.next=r,r===null&&(ia=n)):(n=i,(t!==0||a&3)&&(Gu=!0)),i=r}Qe!==0&&Qe!==5||Jo(t),Oi!==0&&(Oi=0)}function H0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-kt(a),l=1<<s,u=r[s];u===-1?(!(l&n)||l&i)&&(r[s]=lw(l,e)):u<=e&&(t.expiredLanes|=l),a&=~l}if(e=_e,n=oe,n=Sc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(de===2||de===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Mh(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Ho(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Mh(i),om(n)){case 2:case 8:n=DE;break;case 32:n=xu;break;case 268435456:n=OE;break;default:n=xu}return i=G0.bind(null,t),n=am(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Mh(i),t.callbackPriority=2,t.callbackNode=null,2}function G0(t,e){if(Qe!==0&&Qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Uc()&&t.callbackNode!==n)return null;var i=oe;return i=Sc(t,t===_e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(N0(t,i,e),H0(t,Pt()),t.callbackNode!=null&&t.callbackNode===n?G0.bind(null,t):null)}function n_(t,e){if(Uc())return null;N0(t,e,!0)}function LR(){YR(function(){ce&6?am(NE,PR):q0()})}function Gm(){if(Oi===0){var t=La;t===0&&(t=Il,Il<<=1,!(Il&261888)&&(Il=256)),Oi=t}return Oi}function i_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zl(""+t)}function r_(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function kR(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var a=i_((r[xt]||null).action),s=i.submitter;s&&(e=(e=s[xt]||null)?i_(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var l=new wc("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Oi!==0){var u=s?r_(r,s):new FormData(r);nd(n,{pending:!0,data:u,method:r.method,action:a},null,u)}}else typeof a=="function"&&(l.preventDefault(),u=s?r_(r,s):new FormData(r),nd(n,{pending:!0,data:u,method:r.method,action:a},a,u))},currentTarget:r}]})}}for(var of=0;of<Hf.length;of++){var lf=Hf[of],UR=lf.toLowerCase(),jR=lf[0].toUpperCase()+lf.slice(1);hn(UR,"on"+jR)}hn(iT,"onAnimationEnd");hn(rT,"onAnimationIteration");hn(aT,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(tR,"onTransitionRun");hn(nR,"onTransitionStart");hn(iR,"onTransitionCancel");hn(sT,"onTransitionEnd");Va("onMouseEnter",["mouseout","mouseover"]);Va("onMouseLeave",["mouseout","mouseover"]);Va("onPointerEnter",["pointerout","pointerover"]);Va("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xo));function Q0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var s=i.length-1;0<=s;s--){var l=i[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==a&&r.isPropagationStopped())break e;a=l,r.currentTarget=c;try{a(r)}catch(f){Iu(f)}r.currentTarget=null,a=u}else for(s=0;s<i.length;s++){if(l=i[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==a&&r.isPropagationStopped())break e;a=l,r.currentTarget=c;try{a(r)}catch(f){Iu(f)}r.currentTarget=null,a=u}}}}function ne(t,e){var n=e[Lf];n===void 0&&(n=e[Lf]=new Set);var i=t+"__bubble";n.has(i)||(K0(e,t,2,!1),n.add(i))}function uf(t,e,n){var i=0;e&&(i|=4),K0(n,t,i,e)}var jl="_reactListening"+Math.random().toString(36).slice(2);function Qm(t){if(!t[jl]){t[jl]=!0,UE.forEach(function(n){n!=="selectionchange"&&(zR.has(n)||uf(n,!1,t),uf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jl]||(e[jl]=!0,uf("selectionchange",!1,e))}}function K0(t,e,n,i){switch(sb(e)){case 2:var r=mx;break;case 8:r=px;break;default:r=Xm}n=r.bind(null,e,n,t),r=void 0,!Bf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function cf(t,e,n,i,r){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var l=i.stateNode.containerInfo;if(l===r)break;if(s===4)for(s=i.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===r)return;s=s.return}for(;l!==null;){if(s=ca(l),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){i=a=s;continue e}l=l.parentNode}}i=i.return}QE(function(){var c=a,f=cm(n),m=[];e:{var p=oT.get(t);if(p!==void 0){var y=wc,C=t;switch(t){case"keypress":if(eu(n)===0)break e;case"keydown":case"keyup":y=Mw;break;case"focusin":C="focus",y=Uh;break;case"focusout":C="blur",y=Uh;break;case"beforeblur":case"afterblur":y=Uh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Tw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Lw;break;case iT:case rT:case aT:y=Sw;break;case sT:y=Uw;break;case"scroll":case"scrollend":y=vw;break;case"wheel":y=zw;break;case"copy":case"cut":case"paste":y=Rw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=my;break;case"toggle":case"beforetoggle":y=Fw}var N=(e&4)!==0,I=!N&&(t==="scroll"||t==="scrollend"),E=N?p!==null?p+"Capture":null:p;N=[];for(var v=c,S;v!==null;){var D=v;if(S=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||S===null||E===null||(D=vo(v,E),D!=null&&N.push(Co(v,D,S))),I)break;v=v.return}0<N.length&&(p=new y(p,C,null,n,f),m.push({event:p,listeners:N}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==zf&&(C=n.relatedTarget||n.fromElement)&&(ca(C)||C[Wa]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=c,C=C?ca(C):null,C!==null&&(I=Fo(C),N=C.tag,C!==I||N!==5&&N!==27&&N!==6)&&(C=null)):(y=null,C=c),y!==C)){if(N=fy,D="onMouseLeave",E="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(N=my,D="onPointerLeave",E="onPointerEnter",v="pointer"),I=y==null?p:qs(y),S=C==null?p:qs(C),p=new N(D,v+"leave",y,n,f),p.target=I,p.relatedTarget=S,D=null,ca(f)===c&&(N=new N(E,v+"enter",C,n,f),N.target=S,N.relatedTarget=I,D=N),I=D,y&&C)t:{for(N=BR,E=y,v=C,S=0,D=E;D;D=N(D))S++;D=0;for(var j=v;j;j=N(j))D++;for(;0<S-D;)E=N(E),S--;for(;0<D-S;)v=N(v),D--;for(;S--;){if(E===v||v!==null&&E===v.alternate){N=E;break t}E=N(E),v=N(v)}N=null}else N=null;y!==null&&a_(m,p,y,N,!1),C!==null&&I!==null&&a_(m,I,C,N,!0)}}e:{if(p=c?qs(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var H=_y;else if(yy(p))if(ZE)H=Zw;else{H=Xw;var A=$w}else y=p.nodeName,!y||y.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&um(c.elementType)&&(H=_y):H=Jw;if(H&&(H=H(t,c))){JE(m,H,n,f);break e}A&&A(t,p,c),t==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&jf(p,"number",p.value)}switch(A=c?qs(c):window,t){case"focusin":(yy(A)||A.contentEditable==="true")&&(da=A,Ff=c,eo=null);break;case"focusout":eo=Ff=da=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,Ay(m,n,f);break;case"selectionchange":if(eR)break;case"keydown":case"keyup":Ay(m,n,f)}var T;if(dm)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else fa?$E(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(YE&&n.locale!=="ko"&&(fa||b!=="onCompositionStart"?b==="onCompositionEnd"&&fa&&(T=KE()):(Ii=f,hm="value"in Ii?Ii.value:Ii.textContent,fa=!0)),A=Qu(c,b),0<A.length&&(b=new dy(b,t,null,n,f),m.push({event:b,listeners:A}),T?b.data=T:(T=XE(n),T!==null&&(b.data=T)))),(T=Hw?Gw(t,n):Qw(t,n))&&(b=Qu(c,"onBeforeInput"),0<b.length&&(A=new dy("onBeforeInput","beforeinput",null,n,f),m.push({event:A,listeners:b}),A.data=T)),kR(m,t,c,n,f)}Q0(m,e)})}function Co(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=vo(t,n),r!=null&&i.unshift(Co(t,r,a)),r=vo(t,e),r!=null&&i.push(Co(t,r,a))),t.tag===3)return i;t=t.return}return[]}function BR(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function a_(t,e,n,i,r){for(var a=e._reactName,s=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,r?(c=vo(n,a),c!=null&&s.unshift(Co(n,c,u))):r||(c=vo(n,a),c!=null&&s.push(Co(n,c,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var FR=/\r\n?/g,qR=/\u0000|\uFFFD/g;function s_(t){return(typeof t=="string"?t:""+t).replace(FR,`
`).replace(qR,"")}function Y0(t,e){return e=s_(e),s_(t)===e}function pe(t,e,n,i,r,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Pa(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Pa(t,""+i);break;case"className":Ol(t,"class",i);break;case"tabIndex":Ol(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(t,n,i);break;case"style":GE(t,i,a);break;case"data":if(e!=="object"){Ol(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Zl(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&pe(t,e,"name",r.name,r,null),pe(t,e,"formEncType",r.formEncType,r,null),pe(t,e,"formMethod",r.formMethod,r,null),pe(t,e,"formTarget",r.formTarget,r,null)):(pe(t,e,"encType",r.encType,r,null),pe(t,e,"method",r.method,r,null),pe(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Zl(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=zn);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Zl(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ne("beforetoggle",t),ne("toggle",t),Jl(t,"popover",i);break;case"xlinkActuate":Dn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Dn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Dn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Dn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Dn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Dn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Dn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Dn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Dn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Jl(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=yw.get(n)||n,Jl(t,n,i))}}function dd(t,e,n,i,r,a){switch(n){case"style":GE(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Pa(t,i):(typeof i=="number"||typeof i=="bigint")&&Pa(t,""+i);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"onClick":i!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jE.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),a=t[xt]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Jl(t,n,i)}}}function ot(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",t),ne("load",t);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:pe(t,e,a,s,n,null)}}r&&pe(t,e,"srcSet",n.srcSet,n,null),i&&pe(t,e,"src",n.src,n,null);return;case"input":ne("invalid",t);var l=a=s=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":s=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(L(137,e));break;default:pe(t,e,i,f,n,null)}}FE(t,a,l,u,c,s,r,!1);return;case"select":ne("invalid",t),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:pe(t,e,r,l,n,null)}e=a,n=s,t.multiple=!!i,e!=null?Ta(t,!!i,e,!1):n!=null&&Ta(t,!!i,n,!0);return;case"textarea":ne("invalid",t),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":i=l;break;case"defaultValue":r=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(L(91));break;default:pe(t,e,s,l,n,null)}HE(t,i,r,a);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pe(t,e,u,i,n,null)}return;case"dialog":ne("beforetoggle",t),ne("toggle",t),ne("cancel",t),ne("close",t);break;case"iframe":case"object":ne("load",t);break;case"video":case"audio":for(i=0;i<xo.length;i++)ne(xo[i],t);break;case"image":ne("error",t),ne("load",t);break;case"details":ne("toggle",t);break;case"embed":case"source":case"link":ne("error",t),ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:pe(t,e,c,i,n,null)}return;default:if(um(e)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&dd(t,e,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&pe(t,e,l,i,n,null))}function HR(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,l=null,u=null,c=null,f=null;for(y in n){var m=n[y];if(n.hasOwnProperty(y)&&m!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=m;default:i.hasOwnProperty(y)||pe(t,e,y,null,i,m)}}for(var p in i){var y=i[p];if(m=n[p],i.hasOwnProperty(p)&&(y!=null||m!=null))switch(p){case"type":a=y;break;case"name":r=y;break;case"checked":c=y;break;case"defaultChecked":f=y;break;case"value":s=y;break;case"defaultValue":l=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(L(137,e));break;default:y!==m&&pe(t,e,p,y,i,m)}}Uf(t,s,l,u,c,f,a,r);return;case"select":y=s=l=p=null;for(a in n)if(u=n[a],n.hasOwnProperty(a)&&u!=null)switch(a){case"value":break;case"multiple":y=u;default:i.hasOwnProperty(a)||pe(t,e,a,null,i,u)}for(r in i)if(a=i[r],u=n[r],i.hasOwnProperty(r)&&(a!=null||u!=null))switch(r){case"value":p=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==u&&pe(t,e,r,a,i,u)}e=l,n=s,i=y,p!=null?Ta(t,!!n,p,!1):!!i!=!!n&&(e!=null?Ta(t,!!n,e,!0):Ta(t,!!n,n?[]:"",!1));return;case"textarea":y=p=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:pe(t,e,l,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(r!=null||a!=null))switch(s){case"value":p=r;break;case"defaultValue":y=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(L(91));break;default:r!==a&&pe(t,e,s,r,i,a)}qE(t,p,y);return;case"option":for(var C in n)if(p=n[C],n.hasOwnProperty(C)&&p!=null&&!i.hasOwnProperty(C))switch(C){case"selected":t.selected=!1;break;default:pe(t,e,C,null,i,p)}for(u in i)if(p=i[u],y=n[u],i.hasOwnProperty(u)&&p!==y&&(p!=null||y!=null))switch(u){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:pe(t,e,u,p,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in n)p=n[N],n.hasOwnProperty(N)&&p!=null&&!i.hasOwnProperty(N)&&pe(t,e,N,null,i,p);for(c in i)if(p=i[c],y=n[c],i.hasOwnProperty(c)&&p!==y&&(p!=null||y!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(L(137,e));break;default:pe(t,e,c,p,i,y)}return;default:if(um(e)){for(var I in n)p=n[I],n.hasOwnProperty(I)&&p!==void 0&&!i.hasOwnProperty(I)&&dd(t,e,I,void 0,i,p);for(f in i)p=i[f],y=n[f],!i.hasOwnProperty(f)||p===y||p===void 0&&y===void 0||dd(t,e,f,p,i,y);return}}for(var E in n)p=n[E],n.hasOwnProperty(E)&&p!=null&&!i.hasOwnProperty(E)&&pe(t,e,E,null,i,p);for(m in i)p=i[m],y=n[m],!i.hasOwnProperty(m)||p===y||p==null&&y==null||pe(t,e,m,p,i,y)}function o_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GR(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],a=r.transferSize,s=r.initiatorType,l=r.duration;if(a&&l&&o_(s)){for(s=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>l)break;var f=u.transferSize,m=u.initiatorType;f&&o_(m)&&(u=u.responseEnd,s+=f*(u<l?1:(l-c)/(u-c)))}if(--i,e+=8*(a+s)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var md=null,pd=null;function Ku(t){return t.nodeType===9?t:t.ownerDocument}function l_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $0(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function gd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hf=null;function QR(){var t=window.event;return t&&t.type==="popstate"?t===hf?!1:(hf=t,!0):(hf=null,!1)}var X0=typeof setTimeout=="function"?setTimeout:void 0,KR=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,YR=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch($R)}:X0;function $R(t){setTimeout(function(){throw t})}function sr(t){return t==="head"}function c_(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(r),qa(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")co(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,co(n);for(var a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[Qo]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&co(t.ownerDocument.body);n=r}while(n);qa(e)}function h_(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function yd(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":yd(n),lm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function XR(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Qo])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Wt(t.nextSibling),t===null)break}return null}function JR(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wt(t.nextSibling),t===null))return null;return t}function J0(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Wt(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ZR(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Wt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Ed=null;function f_(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Wt(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function d_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Z0(t,e,n){switch(e=Ku(n),t){case"html":if(t=e.documentElement,!t)throw Error(L(452));return t;case"head":if(t=e.head,!t)throw Error(L(453));return t;case"body":if(t=e.body,!t)throw Error(L(454));return t;default:throw Error(L(451))}}function co(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);lm(t)}var en=new Map,m_=new Set;function Yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var si=he.d;he.d={f:WR,r:ex,D:tx,C:nx,L:ix,m:rx,X:sx,S:ax,M:ox};function WR(){var t=si.f(),e=Lc();return t||e}function ex(t){var e=es(t);e!==null&&e.tag===5&&e.type==="form"?GT(e):si.r(t)}var rs=typeof document>"u"?null:document;function W0(t,e,n){var i=rs;if(i&&typeof e=="string"&&e){var r=Kt(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),m_.has(r)||(m_.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),ot(e,"link",t),Ze(e),i.head.appendChild(e)))}}function tx(t){si.D(t),W0("dns-prefetch",t,null)}function nx(t,e){si.C(t,e),W0("preconnect",t,e)}function ix(t,e,n){si.L(t,e,n);var i=rs;if(i&&t&&e){var r='link[rel="preload"][as="'+Kt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Kt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Kt(n.imageSizes)+'"]')):r+='[href="'+Kt(t)+'"]';var a=r;switch(e){case"style":a=Fa(t);break;case"script":a=as(t)}en.has(a)||(t=xe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),en.set(a,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(Zo(a))||e==="script"&&i.querySelector(Wo(a))||(e=i.createElement("link"),ot(e,"link",t),Ze(e),i.head.appendChild(e)))}}function rx(t,e){si.m(t,e);var n=rs;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Kt(i)+'"][href="'+Kt(t)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=as(t)}if(!en.has(a)&&(t=xe({rel:"modulepreload",href:t},e),en.set(a,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Wo(a)))return}i=n.createElement("link"),ot(i,"link",t),Ze(i),n.head.appendChild(i)}}}function ax(t,e,n){si.S(t,e,n);var i=rs;if(i&&t){var r=Ea(i).hoistableStyles,a=Fa(t);e=e||"default";var s=r.get(a);if(!s){var l={loading:0,preload:null};if(s=i.querySelector(Zo(a)))l.loading=5;else{t=xe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=en.get(a))&&Km(t,n);var u=s=i.createElement("link");Ze(u),ot(u,"link",t),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,lu(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:l},r.set(a,s)}}}function sx(t,e){si.X(t,e);var n=rs;if(n&&t){var i=Ea(n).hoistableScripts,r=as(t),a=i.get(r);a||(a=n.querySelector(Wo(r)),a||(t=xe({src:t,async:!0},e),(e=en.get(r))&&Ym(t,e),a=n.createElement("script"),Ze(a),ot(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function ox(t,e){si.M(t,e);var n=rs;if(n&&t){var i=Ea(n).hoistableScripts,r=as(t),a=i.get(r);a||(a=n.querySelector(Wo(r)),a||(t=xe({src:t,async:!0,type:"module"},e),(e=en.get(r))&&Ym(t,e),a=n.createElement("script"),Ze(a),ot(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function p_(t,e,n,i){var r=(r=Vi.current)?Yu(r):null;if(!r)throw Error(L(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Fa(n.href),n=Ea(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Fa(n.href);var a=Ea(r).hoistableStyles,s=a.get(t);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=r.querySelector(Zo(t)))&&!a._p&&(s.instance=a,s.state.loading=5),en.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},en.set(t,n),a||lx(r,t,n,s.state))),e&&i===null)throw Error(L(528,""));return s}if(e&&i!==null)throw Error(L(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=as(n),n=Ea(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,t))}}function Fa(t){return'href="'+Kt(t)+'"'}function Zo(t){return'link[rel="stylesheet"]['+t+"]"}function eb(t){return xe({},t,{"data-precedence":t.precedence,precedence:null})}function lx(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),ot(e,"link",n),Ze(e),t.head.appendChild(e))}function as(t){return'[src="'+Kt(t)+'"]'}function Wo(t){return"script[async]"+t}function g_(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Kt(n.href)+'"]');if(i)return e.instance=i,Ze(i),i;var r=xe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Ze(i),ot(i,"style",r),lu(i,n.precedence,t),e.instance=i;case"stylesheet":r=Fa(n.href);var a=t.querySelector(Zo(r));if(a)return e.state.loading|=4,e.instance=a,Ze(a),a;i=eb(n),(r=en.get(r))&&Km(i,r),a=(t.ownerDocument||t).createElement("link"),Ze(a);var s=a;return s._p=new Promise(function(l,u){s.onload=l,s.onerror=u}),ot(a,"link",i),e.state.loading|=4,lu(a,n.precedence,t),e.instance=a;case"script":return a=as(n.src),(r=t.querySelector(Wo(a)))?(e.instance=r,Ze(r),r):(i=n,(r=en.get(a))&&(i=xe({},n),Ym(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),Ze(r),ot(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(L(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,lu(i,n.precedence,t));return e.instance}function lu(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,s=0;s<i.length;s++){var l=i[s];if(l.dataset.precedence===e)a=l;else if(a!==r)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Km(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Ym(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var uu=null;function y_(t,e,n){if(uu===null){var i=new Map,r=uu=new Map;r.set(n,i)}else r=uu,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var a=n[r];if(!(a[Qo]||a[it]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var l=i.get(s);l?l.push(a):i.set(s,[a])}}return i}function __(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function ux(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function tb(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function cx(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Fa(i.href),a=e.querySelector(Zo(r));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=$u.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Ze(a);return}a=e.ownerDocument||e,i=eb(i),(r=en.get(r))&&Km(i,r),a=a.createElement("link"),Ze(a);var s=a;s._p=new Promise(function(l,u){s.onload=l,s.onerror=u}),ot(a,"link",i),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=$u.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var ff=0;function hx(t,e){return t.stylesheets&&t.count===0&&cu(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&cu(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&ff===0&&(ff=62500*GR());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&cu(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>ff?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function $u(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xu=null;function cu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xu=new Map,e.forEach(fx,t),Xu=null,$u.call(t))}function fx(t,e){if(!(e.state.loading&4)){var n=Xu.get(t);if(n)var i=n.get(null);else{n=new Map,Xu.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var s=r[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}r=e.instance,s=r.getAttribute("data-precedence"),a=n.get(s)||i,a===i&&n.set(null,r),n.set(s,r),this.count++,i=$u.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Io={$$typeof:jn,Provider:null,Consumer:null,_currentValue:Ar,_currentValue2:Ar,_threadCount:0};function dx(t,e,n,i,r,a,s,l,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vh(0),this.hiddenUpdates=Vh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function nb(t,e,n,i,r,a,s,l,u,c,f,m){return t=new dx(t,e,n,s,u,c,f,m,l),e=1,a===!0&&(e|=24),a=Ot(3,null,null,e),t.current=a,a.stateNode=t,e=Em(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},Am(a),t}function ib(t){return t?(t=ga,t):ga}function rb(t,e,n,i,r,a){r=ib(r),i.context===null?i.context=r:i.pendingContext=r,i=Li(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=ki(t,i,e),n!==null&&(Rt(n,t,e),no(n,t,e))}function v_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $m(t,e){v_(t,e),(t=t.alternate)&&v_(t,e)}function ab(t){if(t.tag===13||t.tag===31){var e=Fr(t,67108864);e!==null&&Rt(e,t,67108864),$m(t,67108864)}}function E_(t){if(t.tag===13||t.tag===31){var e=Ut();e=sm(e);var n=Fr(t,e);n!==null&&Rt(n,t,e),$m(t,e)}}var Ju=!0;function mx(t,e,n,i){var r=Y.T;Y.T=null;var a=he.p;try{he.p=2,Xm(t,e,n,i)}finally{he.p=a,Y.T=r}}function px(t,e,n,i){var r=Y.T;Y.T=null;var a=he.p;try{he.p=8,Xm(t,e,n,i)}finally{he.p=a,Y.T=r}}function Xm(t,e,n,i){if(Ju){var r=Td(i);if(r===null)cf(t,e,i,Zu,n),T_(t,i);else if(yx(r,t,e,n,i))i.stopPropagation();else if(T_(t,i),e&4&&-1<gx.indexOf(t)){for(;r!==null;){var a=es(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=yr(a.pendingLanes);if(s!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var u=1<<31-kt(s);l.entanglements[1]|=u,s&=~u}Cn(a),!(ce&6)&&(Bu=Pt()+500,Jo(0))}}break;case 31:case 13:l=Fr(a,2),l!==null&&Rt(l,a,2),Lc(),$m(a,2)}if(a=Td(i),a===null&&cf(t,e,i,Zu,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else cf(t,e,i,null,n)}}function Td(t){return t=cm(t),Jm(t)}var Zu=null;function Jm(t){if(Zu=null,t=ca(t),t!==null){var e=Fo(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=wE(e),t!==null)return t;t=null}else if(n===31){if(t=RE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Zu=t,null}function sb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tw()){case NE:return 2;case DE:return 8;case xu:case nw:return 32;case OE:return 268435456;default:return 32}default:return 32}}var bd=!1,zi=null,Bi=null,Fi=null,No=new Map,Do=new Map,Si=[],gx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T_(t,e){switch(t){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":No.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(e.pointerId)}}function js(t,e,n,i,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},e!==null&&(e=es(e),e!==null&&ab(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function yx(t,e,n,i,r){switch(e){case"focusin":return zi=js(zi,t,e,n,i,r),!0;case"dragenter":return Bi=js(Bi,t,e,n,i,r),!0;case"mouseover":return Fi=js(Fi,t,e,n,i,r),!0;case"pointerover":var a=r.pointerId;return No.set(a,js(No.get(a)||null,t,e,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Do.set(a,js(Do.get(a)||null,t,e,n,i,r)),!0}return!1}function ob(t){var e=ca(t.target);if(e!==null){var n=Fo(e);if(n!==null){if(e=n.tag,e===13){if(e=wE(n),e!==null){t.blockedOn=e,ay(t.priority,function(){E_(n)});return}}else if(e===31){if(e=RE(n),e!==null){t.blockedOn=e,ay(t.priority,function(){E_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Td(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);zf=i,n.target.dispatchEvent(i),zf=null}else return e=es(n),e!==null&&ab(e),t.blockedOn=n,!1;e.shift()}return!0}function b_(t,e,n){hu(t)&&n.delete(e)}function _x(){bd=!1,zi!==null&&hu(zi)&&(zi=null),Bi!==null&&hu(Bi)&&(Bi=null),Fi!==null&&hu(Fi)&&(Fi=null),No.forEach(b_),Do.forEach(b_)}function zl(t,e){t.blockedOn===e&&(t.blockedOn=null,bd||(bd=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,_x)))}var Bl=null;function A_(t){Bl!==t&&(Bl=t,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,function(){Bl===t&&(Bl=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(Jm(i||n)===null)continue;break}var a=es(n);a!==null&&(t.splice(e,3),e-=3,nd(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function qa(t){function e(u){return zl(u,t)}zi!==null&&zl(zi,t),Bi!==null&&zl(Bi,t),Fi!==null&&zl(Fi,t),No.forEach(e),Do.forEach(e);for(var n=0;n<Si.length;n++){var i=Si[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Si.length&&(n=Si[0],n.blockedOn===null);)ob(n),n.blockedOn===null&&Si.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],s=r[xt]||null;if(typeof a=="function")s||A_(n);else if(s){var l=null;if(a&&a.hasAttribute("formAction")){if(r=a,s=a[xt]||null)l=s.formAction;else if(Jm(r)!==null)continue}else l=s.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),A_(n)}}}function lb(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return r=s})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function Zm(t){this._internalRoot=t}jc.prototype.render=Zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));var n=e.current,i=Ut();rb(n,i,t,e,null,null)};jc.prototype.unmount=Zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rb(t.current,2,null,t,null,null),Lc(),e[Wa]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var e=kE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Si.length&&e!==0&&e<Si[n].priority;n++);Si.splice(n,0,t),n===0&&ob(t)}};var S_=AE.version;if(S_!=="19.2.0")throw Error(L(527,S_,"19.2.0"));he.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=Y1(e),t=t!==null?xE(t):null,t=t===null?null:t.stateNode,t};var vx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{qo=Fl.inject(vx),Lt=Fl}catch{}}bc.createRoot=function(t,e){if(!SE(t))throw Error(L(299));var n=!1,i="",r=WT,a=e0,s=t0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=nb(t,1,!1,null,null,n,i,null,r,a,s,lb),t[Wa]=e.current,Qm(t),new Zm(e)};bc.hydrateRoot=function(t,e,n){if(!SE(t))throw Error(L(299));var i=!1,r="",a=WT,s=e0,l=t0,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=nb(t,1,!0,e,n??null,i,r,u,a,s,l,lb),e.context=ib(null),n=e.current,i=Ut(),i=sm(i),r=Li(i),r.callback=null,ki(n,r,i),n=i,e.current.lanes=n,Go(e,n),Cn(e),t[Wa]=e.current,Qm(t),new jc(e)};bc.version="19.2.0";function ub(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ub)}catch(t){console.error(t)}}ub(),yE.exports=bc;var Ex=yE.exports;const Tx="modulepreload",bx=function(t){return"/Digital-Dreamers/"+t},w_={},Ax=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.all(n.map(l=>{if(l=bx(l),l in w_)return;w_[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Tx,u||(f.as="script",f.crossOrigin=""),f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}return r.then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})};var R_="popstate";function Sx(t={}){function e(i,r){let{pathname:a,search:s,hash:l}=i.location;return Ad("",{pathname:a,search:s,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Oo(r)}return Rx(e,n,null,t)}function Ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function un(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wx(){return Math.random().toString(36).substring(2,10)}function x_(t,e){return{usr:t.state,key:t.key,idx:e}}function Ad(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ss(e):e,state:n,key:e&&e.key||i||wx()}}function Oo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ss(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function Rx(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,s=r.history,l="POP",u=null,c=f();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function f(){return(s.state||{idx:null}).idx}function m(){l="POP";let I=f(),E=I==null?null:I-c;c=I,u&&u({action:l,location:N.location,delta:E})}function p(I,E){l="PUSH";let v=Ad(N.location,I,E);c=f()+1;let S=x_(v,c),D=N.createHref(v);try{s.pushState(S,"",D)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(D)}a&&u&&u({action:l,location:N.location,delta:1})}function y(I,E){l="REPLACE";let v=Ad(N.location,I,E);c=f();let S=x_(v,c),D=N.createHref(v);s.replaceState(S,"",D),a&&u&&u({action:l,location:N.location,delta:0})}function C(I){return xx(I)}let N={get action(){return l},get location(){return t(r,s)},listen(I){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(R_,m),u=I,()=>{r.removeEventListener(R_,m),u=null}},createHref(I){return e(r,I)},createURL:C,encodeLocation(I){let E=C(I);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:y,go(I){return s.go(I)}};return N}function xx(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Oo(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function cb(t,e,n="/"){return Cx(t,e,n,!1)}function Cx(t,e,n,i){let r=typeof e=="string"?ss(e):e,a=ti(r.pathname||"/",n);if(a==null)return null;let s=hb(t);Ix(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=zx(a);l=Ux(s[u],c,i)}return l}function hb(t,e=[],n=[],i="",r=!1){let a=(s,l,u=r,c)=>{let f={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;Ie(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let m=Kn([i,f.relativePath]),p=n.concat(f);s.children&&s.children.length>0&&(Ie(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),hb(s.children,e,p,m,u)),!(s.path==null&&!s.index)&&e.push({path:m,score:Lx(m,s.index),routesMeta:p})};return t.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))a(s,l);else for(let c of fb(s.path))a(s,l,!0,c)}),e}function fb(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let s=fb(i.join("/")),l=[];return l.push(...s.map(u=>u===""?a:[a,u].join("/"))),r&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Ix(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kx(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Nx=/^:[\w-]+$/,Dx=3,Ox=2,Mx=1,Vx=10,Px=-2,C_=t=>t==="*";function Lx(t,e){let n=t.split("/"),i=n.length;return n.some(C_)&&(i+=Px),e&&(i+=Ox),n.filter(r=>!C_(r)).reduce((r,a)=>r+(Nx.test(a)?Dx:a===""?Mx:Vx),i)}function kx(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function Ux(t,e,n=!1){let{routesMeta:i}=t,r={},a="/",s=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,f=a==="/"?e:e.slice(a.length)||"/",m=Wu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),p=u.route;if(!m&&c&&n&&!i[i.length-1].route.index&&(m=Wu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),s.push({params:r,pathname:Kn([a,m.pathname]),pathnameBase:Hx(Kn([a,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(a=Kn([a,m.pathnameBase]))}return s}function Wu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=jx(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((c,{paramName:f,isOptional:m},p)=>{if(f==="*"){let C=l[p]||"";s=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const y=l[p];return m&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function jx(t,e=!1,n=!0){un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function zx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ti(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Bx(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ss(t):t;return{pathname:n?n.startsWith("/")?n:Fx(n,e):e,search:Gx(i),hash:Qx(r)}}function Fx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function df(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wm(t){let e=qx(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function ep(t,e,n,i=!1){let r;typeof t=="string"?r=ss(t):(r={...t},Ie(!r.pathname||!r.pathname.includes("?"),df("?","pathname","search",r)),Ie(!r.pathname||!r.pathname.includes("#"),df("#","pathname","hash",r)),Ie(!r.search||!r.search.includes("#"),df("#","search","hash",r)));let a=t===""||r.pathname==="",s=a?"/":r.pathname,l;if(s==null)l=n;else{let m=e.length-1;if(!i&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),m-=1;r.pathname=p.join("/")}l=m>=0?e[m]:"/"}let u=Bx(r,l),c=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var Kn=t=>t.join("/").replace(/\/\/+/g,"/"),Hx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Gx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var db=["POST","PUT","PATCH","DELETE"];new Set(db);var Yx=["GET",...db];new Set(Yx);var os=P.createContext(null);os.displayName="DataRouter";var zc=P.createContext(null);zc.displayName="DataRouterState";P.createContext(!1);var mb=P.createContext({isTransitioning:!1});mb.displayName="ViewTransition";var $x=P.createContext(new Map);$x.displayName="Fetchers";var Xx=P.createContext(null);Xx.displayName="Await";var fn=P.createContext(null);fn.displayName="Navigation";var el=P.createContext(null);el.displayName="Location";var In=P.createContext({outlet:null,matches:[],isDataRoute:!1});In.displayName="Route";var tp=P.createContext(null);tp.displayName="RouteError";function Jx(t,{relative:e}={}){Ie(ls(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(fn),{hash:r,pathname:a,search:s}=tl(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:Kn([n,a])),i.createHref({pathname:l,search:s,hash:r})}function ls(){return P.useContext(el)!=null}function or(){return Ie(ls(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(el).location}var pb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gb(t){P.useContext(fn).static||P.useLayoutEffect(t)}function np(){let{isDataRoute:t}=P.useContext(In);return t?cC():Zx()}function Zx(){Ie(ls(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(os),{basename:e,navigator:n}=P.useContext(fn),{matches:i}=P.useContext(In),{pathname:r}=or(),a=JSON.stringify(Wm(i)),s=P.useRef(!1);return gb(()=>{s.current=!0}),P.useCallback((u,c={})=>{if(un(s.current,pb),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=ep(u,JSON.parse(a),r,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Kn([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,a,r,t])}P.createContext(null);function tl(t,{relative:e}={}){let{matches:n}=P.useContext(In),{pathname:i}=or(),r=JSON.stringify(Wm(n));return P.useMemo(()=>ep(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function Wx(t,e){return yb(t,e)}function yb(t,e,n,i,r){var v;Ie(ls(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(fn),{matches:s}=P.useContext(In),l=s[s.length-1],u=l?l.params:{},c=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let S=m&&m.path||"";_b(c,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=or(),y;if(e){let S=typeof e=="string"?ss(e):e;Ie(f==="/"||((v=S.pathname)==null?void 0:v.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),y=S}else y=p;let C=y.pathname||"/",N=C;if(f!=="/"){let S=f.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(S.length).join("/")}let I=cb(t,{pathname:N});un(m||I!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),un(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=rC(I&&I.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:Kn([f,a.encodeLocation?a.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Kn([f,a.encodeLocation?a.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),s,n,i,r);return e&&E?P.createElement(el.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function eC(){let t=uC(),e=Kx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:r},n):null,s)}var tC=P.createElement(eC,null),nC=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?P.createElement(In.Provider,{value:this.props.routeContext},P.createElement(tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iC({routeContext:t,match:e,children:n}){let i=P.useContext(os);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(In.Provider,{value:t},n)}function rC(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Ie(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:m,errors:p}=n,y=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,m)=>{let p,y=!1,C=null,N=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,C=f.route.errorElement||tC,l&&(u<0&&m===0?(_b("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,N=null):u===m&&(y=!0,N=f.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,m+1)),E=()=>{let v;return p?v=C:y?v=N:f.route.Component?v=P.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=c,P.createElement(iC,{match:f,routeContext:{outlet:c,matches:I,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?P.createElement(nC,{location:n.location,revalidation:n.revalidation,component:C,error:p,children:E(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:i}):E()},null)}function ip(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aC(t){let e=P.useContext(os);return Ie(e,ip(t)),e}function sC(t){let e=P.useContext(zc);return Ie(e,ip(t)),e}function oC(t){let e=P.useContext(In);return Ie(e,ip(t)),e}function rp(t){let e=oC(t),n=e.matches[e.matches.length-1];return Ie(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function lC(){return rp("useRouteId")}function uC(){var i;let t=P.useContext(tp),e=sC("useRouteError"),n=rp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function cC(){let{router:t}=aC("useNavigate"),e=rp("useNavigate"),n=P.useRef(!1);return gb(()=>{n.current=!0}),P.useCallback(async(r,a={})=>{un(n.current,pb),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...a}))},[t,e])}var I_={};function _b(t,e,n){!e&&!I_[t]&&(I_[t]=!0,un(!1,n))}P.memo(hC);function hC({routes:t,future:e,state:n,unstable_onError:i}){return yb(t,void 0,n,i,e)}function fC({to:t,replace:e,state:n,relative:i}){Ie(ls(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=P.useContext(fn);un(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=P.useContext(In),{pathname:s}=or(),l=np(),u=ep(t,Wm(a),s,i==="path"),c=JSON.stringify(u);return P.useEffect(()=>{l(JSON.parse(c),{replace:e,state:n,relative:i})},[l,c,i,e,n]),null}function pn(t){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:a=!1}){Ie(!ls(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:s,navigator:r,static:a,future:{}}),[s,r,a]);typeof n=="string"&&(n=ss(n));let{pathname:u="/",search:c="",hash:f="",state:m=null,key:p="default"}=n,y=P.useMemo(()=>{let C=ti(u,s);return C==null?null:{location:{pathname:C,search:c,hash:f,state:m,key:p},navigationType:i}},[s,u,c,f,m,p,i]);return un(y!=null,`<Router basename="${s}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:P.createElement(fn.Provider,{value:l},P.createElement(el.Provider,{children:e,value:y}))}function mC({children:t,location:e}){return Wx(Sd(t),e)}function Sd(t,e=[]){let n=[];return P.Children.forEach(t,(i,r)=>{if(!P.isValidElement(i))return;let a=[...e,r];if(i.type===P.Fragment){n.push.apply(n,Sd(i.props.children,a));return}Ie(i.type===pn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=Sd(i.props.children,a)),n.push(s)}),n}var fu="get",du="application/x-www-form-urlencoded";function Bc(t){return t!=null&&typeof t.tagName=="string"}function pC(t){return Bc(t)&&t.tagName.toLowerCase()==="button"}function gC(t){return Bc(t)&&t.tagName.toLowerCase()==="form"}function yC(t){return Bc(t)&&t.tagName.toLowerCase()==="input"}function _C(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vC(t,e){return t.button===0&&(!e||e==="_self")&&!_C(t)}var ql=null;function EC(){if(ql===null)try{new FormData(document.createElement("form"),0),ql=!1}catch{ql=!0}return ql}var TC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mf(t){return t!=null&&!TC.has(t)?(un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${du}"`),null):t}function bC(t,e){let n,i,r,a,s;if(gC(t)){let l=t.getAttribute("action");i=l?ti(l,e):null,n=t.getAttribute("method")||fu,r=mf(t.getAttribute("enctype"))||du,a=new FormData(t)}else if(pC(t)||yC(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(i=u?ti(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||fu,r=mf(t.getAttribute("formenctype"))||mf(l.getAttribute("enctype"))||du,a=new FormData(l,t),!EC()){let{name:c,type:f,value:m}=t;if(f==="image"){let p=c?`${c}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else c&&a.append(c,m)}}else{if(Bc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fu,i=null,r=du,s=t}return a&&r==="text/plain"&&(s=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ap(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AC(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&ti(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function SC(t,e){if(t.id in e)return e[t.id];try{let n=await Ax(()=>import(t.module),__vite__mapDeps([]));return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RC(t,e,n){let i=await Promise.all(t.map(async r=>{let a=e.routes[r.route.id];if(a){let s=await SC(a,n);return s.links?s.links():[]}return[]}));return NC(i.flat(1).filter(wC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function N_(t,e,n,i,r,a){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,c)=>s(u,c)||l(u,c)):a==="data"?e.filter((u,c)=>{var m;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(s(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function xC(t,e,{includeHydrateFallback:n}={}){return CC(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function CC(t){return[...new Set(t)]}function IC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function NC(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let a=JSON.stringify(IC(r));return n.has(a)||(n.add(a),i.push({key:a,link:r})),i},[])}function vb(){let t=P.useContext(os);return ap(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function DC(){let t=P.useContext(zc);return ap(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sp=P.createContext(void 0);sp.displayName="FrameworkContext";function Eb(){let t=P.useContext(sp);return ap(t,"You must render this element inside a <HydratedRouter> element"),t}function OC(t,e){let n=P.useContext(sp),[i,r]=P.useState(!1),[a,s]=P.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:m}=e,p=P.useRef(null);P.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let N=E=>{E.forEach(v=>{s(v.isIntersecting)})},I=new IntersectionObserver(N,{threshold:.5});return p.current&&I.observe(p.current),()=>{I.disconnect()}}},[t]),P.useEffect(()=>{if(i){let N=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(N)}}},[i]);let y=()=>{r(!0)},C=()=>{r(!1),s(!1)};return n?t!=="intent"?[a,p,{}]:[a,p,{onFocus:zs(l,y),onBlur:zs(u,C),onMouseEnter:zs(c,y),onMouseLeave:zs(f,C),onTouchStart:zs(m,y)}]:[!1,p,{}]}function zs(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function MC({page:t,...e}){let{router:n}=vb(),i=P.useMemo(()=>cb(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?P.createElement(PC,{page:t,matches:i,...e}):null}function VC(t){let{manifest:e,routeModules:n}=Eb(),[i,r]=P.useState([]);return P.useEffect(()=>{let a=!1;return RC(t,e,n).then(s=>{a||r(s)}),()=>{a=!0}},[t,e,n]),i}function PC({page:t,matches:e,...n}){let i=or(),{manifest:r,routeModules:a}=Eb(),{basename:s}=vb(),{loaderData:l,matches:u}=DC(),c=P.useMemo(()=>N_(t,e,u,r,i,"data"),[t,e,u,r,i]),f=P.useMemo(()=>N_(t,e,u,r,i,"assets"),[t,e,u,r,i]),m=P.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let C=new Set,N=!1;if(e.forEach(E=>{var S;let v=r.routes[E.route.id];!v||!v.hasLoader||(!c.some(D=>D.route.id===E.route.id)&&E.route.id in l&&((S=a[E.route.id])!=null&&S.shouldRevalidate)||v.hasClientLoader?N=!0:C.add(E.route.id))}),C.size===0)return[];let I=AC(t,s,"data");return N&&C.size>0&&I.searchParams.set("_routes",e.filter(E=>C.has(E.route.id)).map(E=>E.route.id).join(",")),[I.pathname+I.search]},[s,l,i,r,c,e,t,a]),p=P.useMemo(()=>xC(f,r),[f,r]),y=VC(f);return P.createElement(P.Fragment,null,m.map(C=>P.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),p.map(C=>P.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),y.map(({key:C,link:N})=>P.createElement("link",{key:C,nonce:n.nonce,...N})))}function LC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Tb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tb&&(window.__reactRouterVersion="7.9.4")}catch{}function kC({basename:t,children:e,window:n}){let i=P.useRef();i.current==null&&(i.current=Sx({window:n,v5Compat:!0}));let r=i.current,[a,s]=P.useState({action:r.action,location:r.location}),l=P.useCallback(u=>{P.startTransition(()=>s(u))},[s]);return P.useLayoutEffect(()=>r.listen(l),[r,l]),P.createElement(dC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:r})}var bb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qt=P.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:a,replace:s,state:l,target:u,to:c,preventScrollReset:f,viewTransition:m,...p},y){let{basename:C}=P.useContext(fn),N=typeof c=="string"&&bb.test(c),I,E=!1;if(typeof c=="string"&&N&&(I=c,Tb))try{let b=new URL(window.location.href),w=c.startsWith("//")?new URL(b.protocol+c):new URL(c),x=ti(w.pathname,C);w.origin===b.origin&&x!=null?c=x+w.search+w.hash:E=!0}catch{un(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=Jx(c,{relative:r}),[S,D,j]=OC(i,p),H=BC(c,{replace:s,state:l,target:u,preventScrollReset:f,relative:r,viewTransition:m});function A(b){e&&e(b),b.defaultPrevented||H(b)}let T=P.createElement("a",{...p,...j,href:I||v,onClick:E||a?e:A,ref:LC(y,D),target:u,"data-discover":!N&&n==="render"?"true":void 0});return S&&!N?P.createElement(P.Fragment,null,T,P.createElement(MC,{page:v})):T});qt.displayName="Link";var UC=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:a,to:s,viewTransition:l,children:u,...c},f){let m=tl(s,{relative:c.relative}),p=or(),y=P.useContext(zc),{navigator:C,basename:N}=P.useContext(fn),I=y!=null&&QC(m)&&l===!0,E=C.encodeLocation?C.encodeLocation(m).pathname:m.pathname,v=p.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(v=v.toLowerCase(),S=S?S.toLowerCase():null,E=E.toLowerCase()),S&&N&&(S=ti(S,N)||S);const D=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let j=v===E||!r&&v.startsWith(E)&&v.charAt(D)==="/",H=S!=null&&(S===E||!r&&S.startsWith(E)&&S.charAt(E.length)==="/"),A={isActive:j,isPending:H,isTransitioning:I},T=j?e:void 0,b;typeof i=="function"?b=i(A):b=[i,j?"active":null,H?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let w=typeof a=="function"?a(A):a;return P.createElement(qt,{...c,"aria-current":T,className:b,ref:f,style:w,to:s,viewTransition:l},typeof u=="function"?u(A):u)});UC.displayName="NavLink";var jC=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:a,method:s=fu,action:l,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:m,...p},y)=>{let C=HC(),N=GC(l,{relative:c}),I=s.toLowerCase()==="get"?"get":"post",E=typeof l=="string"&&bb.test(l),v=S=>{if(u&&u(S),S.defaultPrevented)return;S.preventDefault();let D=S.nativeEvent.submitter,j=(D==null?void 0:D.getAttribute("formmethod"))||s;C(D||S.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:r,state:a,relative:c,preventScrollReset:f,viewTransition:m})};return P.createElement("form",{ref:y,method:I,action:N,onSubmit:i?u:v,...p,"data-discover":!E&&t==="render"?"true":void 0})});jC.displayName="Form";function zC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ab(t){let e=P.useContext(os);return Ie(e,zC(t)),e}function BC(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:a,viewTransition:s}={}){let l=np(),u=or(),c=tl(t,{relative:a});return P.useCallback(f=>{if(vC(f,e)){f.preventDefault();let m=n!==void 0?n:Oo(u)===Oo(c);l(t,{replace:m,state:i,preventScrollReset:r,relative:a,viewTransition:s})}},[u,l,c,n,i,e,t,r,a,s])}var FC=0,qC=()=>`__${String(++FC)}__`;function HC(){let{router:t}=Ab("useSubmit"),{basename:e}=P.useContext(fn),n=lC();return P.useCallback(async(i,r={})=>{let{action:a,method:s,encType:l,formData:u,body:c}=bC(i,e);if(r.navigate===!1){let f=r.fetcherKey||qC();await t.fetch(f,n,r.action||a,{preventScrollReset:r.preventScrollReset,formData:u,body:c,formMethod:r.method||s,formEncType:r.encType||l,flushSync:r.flushSync})}else await t.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:u,body:c,formMethod:r.method||s,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function GC(t,{relative:e}={}){let{basename:n}=P.useContext(fn),i=P.useContext(In);Ie(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...tl(t||".",{relative:e})},s=or();if(t==null){a.search=s.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Kn([n,a.pathname])),Oo(a)}function QC(t,{relative:e}={}){let n=P.useContext(mb);Ie(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Ab("useViewTransitionState"),r=tl(t,{relative:e});if(!n.isTransitioning)return!1;let a=ti(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=ti(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Wu(r.pathname,s)!=null||Wu(r.pathname,a)!=null}const KC=()=>{};var D_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},YC=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],s=t[n++],l=t[n++],u=((r&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|s&63)}}return e.join("")},wb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const a=t[r],s=r+1<t.length,l=s?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,f=a>>2,m=(a&3)<<4|l>>4;let p=(l&15)<<2|c>>6,y=c&63;u||(y=64,s||(p=64)),i.push(n[f],n[m],n[p],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||l==null||c==null||m==null)throw new $C;const p=a<<2|l>>4;if(i.push(p),c!==64){const y=l<<4&240|c>>2;if(i.push(y),m!==64){const C=c<<6&192|m;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $C extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XC=function(t){const e=Sb(t);return wb.encodeByteArray(e,!0)},ec=function(t){return XC(t).replace(/\./g,"")},Rb=function(t){try{return wb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=()=>JC().__FIREBASE_DEFAULTS__,WC=()=>{if(typeof process>"u"||typeof D_>"u")return;const t=D_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},e2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rb(t[1]);return e&&JSON.parse(e)},Fc=()=>{try{return KC()||ZC()||WC()||e2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xb=t=>{var e,n;return(n=(e=Fc())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},t2=t=>{const e=xb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Cb=()=>{var t;return(t=Fc())==null?void 0:t.config},Ib=t=>{var e;return(e=Fc())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ec(JSON.stringify(n)),ec(JSON.stringify(s)),""].join(".")}const ho={};function r2(){const t={prod:[],emulator:[]};for(const e of Object.keys(ho))ho[e]?t.emulator.push(e):t.prod.push(e);return t}function a2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let O_=!1;function Db(t,e){if(typeof window>"u"||typeof document>"u"||!us(window.location.host)||ho[t]===e||ho[t]||O_)return;ho[t]=e;function n(p){return`__firebase__banner__${p}`}const i="__firebase__banner",a=r2().prod.length>0;function s(){const p=document.getElementById(i);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{O_=!0,s()},p}function f(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=a2(i),y=n("text"),C=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),I=document.getElementById(N)||document.createElement("a"),E=n("preprendIcon"),v=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;l(S),f(I,N);const D=c();u(v,E),S.append(v,C,I,D),document.body.appendChild(S)}a?(C.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function o2(){var e;const t=(e=Fc())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function c2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h2(){const t=mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function f2(){return!o2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d2(){try{return typeof indexedDB=="object"}catch{return!1}}function m2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;e(((a=r.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="FirebaseError";class oi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=p2,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nl.prototype.create)}}class nl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],s=a?g2(a,i):"Error",l=`${this.serviceName}: ${s} (${r}).`;return new oi(r,l,i)}}function g2(t,e){return t.replace(y2,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const y2=/\{\$([^}]+)}/g;function _2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const a=t[r],s=e[r];if(M_(a)&&M_(s)){if(!Mr(a,s))return!1}else if(a!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function M_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Qs(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function Ks(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function v2(t,e){const n=new E2(t,e);return n.subscribe.bind(n)}class E2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");T2(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=pf),r.error===void 0&&(r.error=pf),r.complete===void 0&&(r.complete=pf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class Vr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new n2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S2(e))try{this.getOrInitializeService({instanceIdentifier:Er})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=Er){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Er){return this.instances.has(e)}getOptions(e=Er){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);i===l&&s.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&e(a,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:A2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Er){return this.component?this.component.multipleInstances?e:Er:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A2(t){return t===Er?void 0:t}function S2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new b2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const R2={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},x2=re.INFO,C2={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},I2=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=C2[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class op{constructor(e){this.name=e,this._logLevel=x2,this._logHandler=I2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const N2=(t,e)=>e.some(n=>t instanceof n);let V_,P_;function D2(){return V_||(V_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O2(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ob=new WeakMap,wd=new WeakMap,Mb=new WeakMap,gf=new WeakMap,lp=new WeakMap;function M2(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(qi(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Ob.set(n,t)}).catch(()=>{}),lp.set(e,t),e}function V2(t){if(wd.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});wd.set(t,e)}let Rd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Mb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function P2(t){Rd=t(Rd)}function L2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(yf(this),e,...n);return Mb.set(i,e.sort?e.sort():[e]),qi(i)}:O2().includes(t)?function(...e){return t.apply(yf(this),e),qi(Ob.get(this))}:function(...e){return qi(t.apply(yf(this),e))}}function k2(t){return typeof t=="function"?L2(t):(t instanceof IDBTransaction&&V2(t),N2(t,D2())?new Proxy(t,Rd):t)}function qi(t){if(t instanceof IDBRequest)return M2(t);if(gf.has(t))return gf.get(t);const e=k2(t);return e!==t&&(gf.set(t,e),lp.set(e,t)),e}const yf=t=>lp.get(t);function U2(t,e,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const s=indexedDB.open(t,e),l=qi(s);return i&&s.addEventListener("upgradeneeded",u=>{i(qi(s.result),u.oldVersion,u.newVersion,qi(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const j2=["get","getKey","getAll","getAllKeys","count"],z2=["put","add","delete","clear"],_f=new Map;function L_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_f.get(e))return _f.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=z2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||j2.includes(n)))return;const a=async function(s,...l){const u=this.transaction(s,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&u.done]))[0]};return _f.set(e,a),a}P2(t=>({...t,get:(e,n,i)=>L_(e,n)||t.get(e,n,i),has:(e,n)=>!!L_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(F2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function F2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xd="@firebase/app",k_="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new op("@firebase/app"),q2="@firebase/app-compat",H2="@firebase/analytics-compat",G2="@firebase/analytics",Q2="@firebase/app-check-compat",K2="@firebase/app-check",Y2="@firebase/auth",$2="@firebase/auth-compat",X2="@firebase/database",J2="@firebase/data-connect",Z2="@firebase/database-compat",W2="@firebase/functions",eI="@firebase/functions-compat",tI="@firebase/installations",nI="@firebase/installations-compat",iI="@firebase/messaging",rI="@firebase/messaging-compat",aI="@firebase/performance",sI="@firebase/performance-compat",oI="@firebase/remote-config",lI="@firebase/remote-config-compat",uI="@firebase/storage",cI="@firebase/storage-compat",hI="@firebase/firestore",fI="@firebase/ai",dI="@firebase/firestore-compat",mI="firebase",pI="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="[DEFAULT]",gI={[xd]:"fire-core",[q2]:"fire-core-compat",[G2]:"fire-analytics",[H2]:"fire-analytics-compat",[K2]:"fire-app-check",[Q2]:"fire-app-check-compat",[Y2]:"fire-auth",[$2]:"fire-auth-compat",[X2]:"fire-rtdb",[J2]:"fire-data-connect",[Z2]:"fire-rtdb-compat",[W2]:"fire-fn",[eI]:"fire-fn-compat",[tI]:"fire-iid",[nI]:"fire-iid-compat",[iI]:"fire-fcm",[rI]:"fire-fcm-compat",[aI]:"fire-perf",[sI]:"fire-perf-compat",[oI]:"fire-rc",[lI]:"fire-rc-compat",[uI]:"fire-gcs",[cI]:"fire-gcs-compat",[hI]:"fire-fst",[dI]:"fire-fst-compat",[fI]:"fire-vertex","fire-js":"fire-js",[mI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,yI=new Map,Id=new Map;function U_(t,e){try{t.container.addComponent(e)}catch(n){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ha(t){const e=t.name;if(Id.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;Id.set(e,t);for(const n of tc.values())U_(n,t);for(const n of yI.values())U_(n,t);return!0}function up(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new nl("app","Firebase",_I);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=pI;function Vb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Cd,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Hi.create("bad-app-name",{appName:String(r)});if(n||(n=Cb()),!n)throw Hi.create("no-options");const a=tc.get(r);if(a){if(Mr(n,a.options)&&Mr(i,a.config))return a;throw Hi.create("duplicate-app",{appName:r})}const s=new w2(r);for(const u of Id.values())s.addComponent(u);const l=new vI(n,i,s);return tc.set(r,l),l}function Pb(t=Cd){const e=tc.get(t);if(!e&&t===Cd&&Cb())return Vb();if(!e)throw Hi.create("no-app",{appName:t});return e}function Gi(t,e,n){let i=gI[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const s=[`Unable to register library "${i}" with version "${e}":`];r&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(s.join(" "));return}Ha(new Vr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firebase-heartbeat-database",TI=1,Mo="firebase-heartbeat-store";let vf=null;function Lb(){return vf||(vf=U2(EI,TI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),vf}async function bI(t){try{const n=(await Lb()).transaction(Mo),i=await n.objectStore(Mo).get(kb(t));return await n.done,i}catch(e){if(e instanceof oi)ni.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ni.warn(n.message)}}}async function j_(t,e){try{const i=(await Lb()).transaction(Mo,"readwrite");await i.objectStore(Mo).put(e,kb(t)),await i.done}catch(n){if(n instanceof oi)ni.warn(n.message);else{const i=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ni.warn(i.message)}}}function kb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=1024,SI=30;class wI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=z_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>SI){const s=CI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ni.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=z_(),{heartbeatsToSend:i,unsentEntries:r}=RI(this._heartbeatsCache.heartbeats),a=ec(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ni.warn(n),""}}}function z_(){return new Date().toISOString().substring(0,10)}function RI(t,e=AI){const n=[];let i=t.slice();for(const r of t){const a=n.find(s=>s.agent===r.agent);if(a){if(a.dates.push(r.date),B_(n)>e){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),B_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class xI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d2()?m2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return j_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return j_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function B_(t){return ec(JSON.stringify({version:2,heartbeats:t})).length}function CI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){Ha(new Vr("platform-logger",e=>new B2(e),"PRIVATE")),Ha(new Vr("heartbeat",e=>new wI(e),"PRIVATE")),Gi(xd,k_,t),Gi(xd,k_,"esm2020"),Gi("fire-js","")}II("");var NI="firebase",DI="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(NI,DI,"app");function Ub(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OI=Ub,jb=new nl("auth","Firebase",Ub());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new op("@firebase/auth");function MI(t,...e){nc.logLevel<=re.WARN&&nc.warn(`Auth (${cs}): ${t}`,...e)}function mu(t,...e){nc.logLevel<=re.ERROR&&nc.error(`Auth (${cs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,...e){throw hp(t,...e)}function ln(t,...e){return hp(t,...e)}function cp(t,e,n){const i={...OI(),[e]:n};return new nl("auth","Firebase",i).create(e,{appName:t.name})}function Yn(t){return cp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VI(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&tn(t,"argument-error"),cp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hp(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return jb.create(t,...e)}function Q(t,e,...n){if(!t)throw hp(e,...n)}function Fn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mu(e),new Error(e)}function ii(t,e){t||Fn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function PI(){return F_()==="http:"||F_()==="https:"}function F_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PI()||u2()||"connection"in navigator)?navigator.onLine:!0}function kI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ii(n>e,"Short delay should be less than long delay!"),this.isMobile=s2()||c2()}get(){return LI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(t,e){ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zI=new rl(3e4,6e4);function li(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Nn(t,e,n,i,r={}){return Bb(t,r,async()=>{let a={},s={};i&&(e==="GET"?s=i:a={body:JSON.stringify(i)});const l=il({key:t.config.apiKey,...s}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...a};return l2()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&us(t.emulatorConfig.host)&&(c.credentials="include"),zb.fetch()(await Fb(t,t.config.apiHost,n,l),c)})}async function Bb(t,e,n){t._canInitEmulator=!1;const i={...UI,...e};try{const r=new FI(t),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Hl(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hl(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Hl(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Hl(t,"user-disabled",s);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw cp(t,f,c);tn(t,f)}}catch(r){if(r instanceof oi)throw r;tn(t,"network-request-failed",{message:String(r)})}}async function al(t,e,n,i,r={}){const a=await Nn(t,e,n,i,r);return"mfaPendingCredential"in a&&tn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Fb(t,e,n,i){const r=`${e}${n}?${i}`,a=t,s=a.config.emulator?fp(t.config,r):`${t.config.apiScheme}://${r}`;return jI.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function BI(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ln(this.auth,"network-request-failed")),zI.get())})}}function Hl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ln(t,e,i);return r.customData._tokenResponse=n,r}function q_(t){return t!==void 0&&t.enterprise!==void 0}class qI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HI(t,e){return Nn(t,"GET","/v2/recaptchaConfig",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(t,e){return Nn(t,"POST","/v1/accounts:delete",e)}async function ic(t,e){return Nn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QI(t,e=!1){const n=pt(t),i=await n.getIdToken(e),r=dp(i);Q(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:fo(Ef(r.auth_time)),issuedAtTime:fo(Ef(r.iat)),expirationTime:fo(Ef(r.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ef(t){return Number(t)*1e3}function dp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return mu("JWT malformed, contained fewer than 3 sections"),null;try{const r=Rb(n);return r?JSON.parse(r):(mu("Failed to decode base64 JWT payload"),null)}catch(r){return mu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function H_(t){const e=dp(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof oi&&KI(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function KI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fo(this.lastLoginAt),this.creationTime=fo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t){var m;const e=t.auth,n=await t.getIdToken(),i=await Ga(t,ic(e,{idToken:n}));Q(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const a=(m=r.providerUserInfo)!=null&&m.length?qb(r.providerUserInfo):[],s=XI(t.providerData,a),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Dd(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function $I(t){const e=pt(t);await rc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XI(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function qb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(t,e){const n=await Bb(t,{},async()=>{const i=il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,s=await Fb(t,r,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&us(t.emulatorConfig.host)&&(u.credentials="include"),zb.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZI(t,e){return Nn(t,"POST","/v2/accounts:revokeToken",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=H_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:a}=await JI(e,n);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:a}=n,s=new xa;return i&&(Q(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(Q(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),a&&(Q(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xa,this.toJSON())}_performRefresh(){return Fn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sn{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new YI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Dd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Ga(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QI(this,e)}reload(){return $I(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await rc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mt(this.auth.app))return Promise.reject(Yn(this.auth));const e=await this.getIdToken();return await Ga(this,GI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:y,providerData:C,stsTokenManager:N}=n;Q(m&&N,e,"internal-error");const I=xa.fromJSON(this.name,N);Q(typeof m=="string",e,"internal-error"),_i(i,e.name),_i(r,e.name),Q(typeof p=="boolean",e,"internal-error"),Q(typeof y=="boolean",e,"internal-error"),_i(a,e.name),_i(s,e.name),_i(l,e.name),_i(u,e.name),_i(c,e.name),_i(f,e.name);const E=new sn({uid:m,auth:e,email:r,emailVerified:p,displayName:i,isAnonymous:y,photoURL:s,phoneNumber:a,tenantId:l,stsTokenManager:I,createdAt:c,lastLoginAt:f});return C&&Array.isArray(C)&&(E.providerData=C.map(v=>({...v}))),u&&(E._redirectEventId=u),E}static async _fromIdTokenResponse(e,n,i=!1){const r=new xa;r.updateFromServerResponse(n);const a=new sn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await rc(a),a}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Q(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?qb(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),l=new xa;l.updateFromIdToken(i);const u=new sn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Dd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;function qn(t){ii(t instanceof Function,"Expected a class definition");let e=G_.get(t);return e?(ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hb.type="NONE";const Q_=Hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ca{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=pu(this.userKey,r.apiKey,a),this.fullPersistenceKey=pu("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ic(this.auth,{idToken:e}).catch(()=>{});return n?sn._fromGetAccountInfoResponse(this.auth,n,e):null}return sn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ca(qn(Q_),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=r[0]||qn(Q_);const s=pu(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(s);if(f){let m;if(typeof f=="string"){const p=await ic(e,{idToken:f}).catch(()=>{});if(!p)break;m=await sn._fromGetAccountInfoResponse(e,p,f)}else m=sn._fromJSON(e,f);c!==a&&(l=m),a=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Ca(a,e,i):(a=u[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Ca(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xb(e))return"Blackberry";if(Jb(e))return"Webos";if(Qb(e))return"Safari";if((e.includes("chrome/")||Kb(e))&&!e.includes("edge/"))return"Chrome";if($b(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Gb(t=mt()){return/firefox\//i.test(t)}function Qb(t=mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kb(t=mt()){return/crios\//i.test(t)}function Yb(t=mt()){return/iemobile/i.test(t)}function $b(t=mt()){return/android/i.test(t)}function Xb(t=mt()){return/blackberry/i.test(t)}function Jb(t=mt()){return/webos/i.test(t)}function mp(t=mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WI(t=mt()){var e;return mp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function eN(){return h2()&&document.documentMode===10}function Zb(t=mt()){return mp(t)||$b(t)||Jb(t)||Xb(t)||/windows phone/i.test(t)||Yb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t,e=[]){let n;switch(t){case"Browser":n=K_(mt());break;case"Worker":n=`${K_(mt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((s,l)=>{try{const u=e(a);s(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(t,e={}){return Nn(t,"GET","/v2/passwordPolicy",li(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=6;class rN{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y_(this),this.idTokenSubscription=new Y_(this),this.beforeStateQueue=new tN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var i,r,a;if(!this._deleted&&(this.persistenceManager=await Ca.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ic(this,{idToken:e}),i=await sn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Mt(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mt(this.app))return Promise.reject(Yn(this));const n=e?pt(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mt(this.app)?Promise.reject(Yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mt(this.app)?Promise.reject(Yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nN(this),n=new rN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await ZI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Mt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&MI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ui(t){return pt(t)}class Y_{constructor(e){this.auth=e,this.observer=null,this.addObserver=v2(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sN(t){qc=t}function eA(t){return qc.loadJS(t)}function oN(){return qc.recaptchaEnterpriseScript}function lN(){return qc.gapiScript}function uN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class cN{constructor(){this.enterprise=new hN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class hN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fN="recaptcha-enterprise",tA="NO_RECAPTCHA";class dN{constructor(e){this.type=fN,this.auth=ui(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,l)=>{HI(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new qI(u);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(u=>{l(u)})})}function r(a,s,l){const u=window.grecaptcha;q_(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(tA)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cN().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{i(this.auth).then(l=>{if(!n&&q_(window.grecaptcha))r(l,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=oN();u.length!==0&&(u+=l),eA(u).then(()=>{r(l,a,s)}).catch(c=>{s(c)})}}).catch(l=>{s(l)})})}}async function $_(t,e,n,i=!1,r=!1){const a=new dN(t);let s;if(r)s=tA;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function ac(t,e,n,i,r){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await $_(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await $_(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t,e){const n=up(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),a=n.getOptions();if(Mr(a,e??{}))return r;tn(r,"already-initialized")}return n.initialize({options:e})}function pN(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function gN(t,e,n){const i=ui(t);Q(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=nA(e),{host:s,port:l}=yN(e),u=l===null?"":`:${l}`,c={url:`${a}//${s}${u}/`},f=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Q(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Q(Mr(c,i.config.emulator)&&Mr(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,us(s)?(Nb(`${a}//${s}${u}`),Db("Auth",!0)):_N()}function nA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yN(t){const e=nA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:X_(i.substr(a.length+1))}}else{const[a,s]=i.split(":");return{host:a,port:X_(s)}}}function X_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _N(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fn("not implemented")}_getIdTokenResponse(e){return Fn("not implemented")}_linkToIdToken(e,n){return Fn("not implemented")}_getReauthenticationResolver(e){return Fn("not implemented")}}async function vN(t,e){return Nn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t,e){return al(t,"POST","/v1/accounts:signInWithPassword",li(t,e))}async function TN(t,e){return Nn(t,"POST","/v1/accounts:sendOobCode",li(t,e))}async function bN(t,e){return TN(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e){return al(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))}async function SN(t,e){return al(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends pp{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Vo(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Vo(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ac(e,n,"signInWithPassword",EN);case"emailLink":return AN(e,{email:this._email,oobCode:this._password});default:tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ac(e,i,"signUpPassword",vN);case"emailLink":return SN(e,{idToken:n,email:this._email,oobCode:this._password});default:tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e){return al(t,"POST","/v1/accounts:signInWithIdp",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="http://localhost";class Pr extends pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...a}=n;if(!i||!r)return null;const s=new Pr(i,r);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ia(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ia(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ia(e,n)}buildRequest(){const e={requestUri:wN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=il(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xN(t){const e=Qs(Ks(t)).link,n=e?Qs(Ks(e)).deep_link_id:null,i=Qs(Ks(t)).deep_link_id;return(i?Qs(Ks(i)).link:null)||i||n||e||t}class gp{constructor(e){const n=Qs(Ks(e)),i=n.apiKey??null,r=n.oobCode??null,a=RN(n.mode??null);Q(i&&r&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=xN(e);try{return new gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.providerId=hs.PROVIDER_ID}static credential(e,n){return Vo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=gp.parseLink(n);return Q(i,"argument-error"),Vo._fromEmailAndCode(e,i.code,i.tenantId)}}hs.PROVIDER_ID="password";hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends yp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends sl{constructor(){super("facebook.com")}static credential(e){return Pr._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un extends sl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pr._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Un.credentialFromTaggedObject(e)}static credentialFromError(e){return Un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Un.credential(n,i)}catch{return null}}}Un.GOOGLE_SIGN_IN_METHOD="google.com";Un.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends sl{constructor(){super("github.com")}static credential(e){return Pr._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends sl{constructor(){super("twitter.com")}static credential(e,n){return Pr._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return xi.credential(n,i)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(t,e){return al(t,"POST","/v1/accounts:signUp",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const a=await sn._fromIdTokenResponse(e,i,r),s=J_(i);return new Lr({user:a,providerId:s,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=J_(i);return new Lr({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function J_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends oi{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,sc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new sc(e,n,i,r)}}function iA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?sc._fromErrorAndOperation(t,a,e,i):a})}async function IN(t,e,n=!1){const i=await Ga(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e,n=!1){const{auth:i}=t;if(Mt(i.app))return Promise.reject(Yn(i));const r="reauthenticate";try{const a=await Ga(t,iA(i,r,e,t),n);Q(a.idToken,i,"internal-error");const s=dp(a.idToken);Q(s,i,"internal-error");const{sub:l}=s;return Q(t.uid===l,i,"user-mismatch"),Lr._forOperation(t,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&tn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(t,e,n=!1){if(Mt(t.app))return Promise.reject(Yn(t));const i="signIn",r=await iA(t,i,e),a=await Lr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(a.user),a}async function DN(t,e){return rA(ui(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(t){const e=ui(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ON(t,e,n){const i=ui(t);await ac(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",bN)}async function MN(t,e,n){if(Mt(t.app))return Promise.reject(Yn(t));const i=ui(t),s=await ac(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CN).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&aA(t),u}),l=await Lr._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function VN(t,e,n){return Mt(t.app)?Promise.reject(Yn(t)):DN(pt(t),hs.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&aA(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t,e){return Nn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=pt(t),a={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Ga(i,PN(i.auth,a));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const l=i.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=i.displayName,l.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function kN(t,e,n,i){return pt(t).onIdTokenChanged(e,n,i)}function UN(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function jN(t,e,n,i){return pt(t).onAuthStateChanged(e,n,i)}function zN(t){return pt(t).signOut()}const oc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oc,"1"),this.storage.removeItem(oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=1e3,FN=10;class oA extends sA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,u)=>{this.notifyListeners(s,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const s=this.storage.getItem(i);!n&&this.localCache[i]===s||this.notifyListeners(i,s)},a=this.storage.getItem(i);eN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,FN):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},BN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oA.type="LOCAL";const qN=oA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA extends sA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lA.type="SESSION";const uA=lA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Hc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:a}=n.data,s=this.handlersMap[r];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(s).map(async c=>c(n.origin,a)),u=await HN(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,s;return new Promise((l,u)=>{const c=_p("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(m){const p=m;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(p.data.response);break;default:clearTimeout(f),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return window}function QN(t){Tn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function KN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $N(){return cA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firebaseLocalStorageDb",XN=1,lc="firebaseLocalStorage",fA="fbase_key";class ol{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gc(t,e){return t.transaction([lc],e?"readwrite":"readonly").objectStore(lc)}function JN(){const t=indexedDB.deleteDatabase(hA);return new ol(t).toPromise()}function Od(){const t=indexedDB.open(hA,XN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(lc,{keyPath:fA})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(lc)?e(i):(i.close(),await JN(),e(await Od()))})})}async function Z_(t,e,n){const i=Gc(t,!0).put({[fA]:e,value:n});return new ol(i).toPromise()}async function ZN(t,e){const n=Gc(t,!1).get(e),i=await new ol(n).toPromise();return i===void 0?null:i.value}function W_(t,e){const n=Gc(t,!0).delete(e);return new ol(n).toPromise()}const WN=800,eD=3;class dA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Od(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>eD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hc._getInstance($N()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await KN(),!this.activeServiceWorker)return;this.sender=new GN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Od();return await Z_(e,oc,"1"),await W_(e,oc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Z_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>ZN(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>W_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=Gc(r,!1).getAll();return new ol(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dA.type="LOCAL";const tD=dA;new rl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t,e){return e?qn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nD(t){return rA(t.auth,new vp(t),t.bypassAuthState)}function iD(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),NN(n,new vp(t),t.bypassAuthState)}async function rD(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),IN(n,new vp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nD;case"linkViaPopup":case"linkViaRedirect":return rD;case"reauthViaPopup":case"reauthViaRedirect":return iD;default:tn(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=new rl(2e3,1e4);async function sD(t,e,n){if(Mt(t.app))return Promise.reject(ln(t,"operation-not-supported-in-this-environment"));const i=ui(t);VI(t,e,yp);const r=mA(i,n);return new Tr(i,"signInViaPopup",e,r).executeNotNull()}class Tr extends pA{constructor(e,n,i,r,a){super(e,n,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Tr.currentPopupAction&&Tr.currentPopupAction.cancel(),Tr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aD.get())};e()}}Tr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="pendingRedirect",gu=new Map;class lD extends pA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=gu.get(this.auth._key());if(!e){try{const i=await uD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}gu.set(this.auth._key(),e)}return this.bypassAuthState||gu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uD(t,e){const n=fD(e),i=hD(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function cD(t,e){gu.set(t._key(),e)}function hD(t){return qn(t._redirectPersistence)}function fD(t){return pu(oD,t.config.apiKey,t.name)}async function dD(t,e,n=!1){if(Mt(t.app))return Promise.reject(Yn(t));const i=ui(t),r=mA(i,e),s=await new lD(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=10*60*1e3;class pD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!gA(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(ln(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mD&&this.cachedEventUids.clear(),this.cachedEventUids.has(ev(e))}saveEventToCache(e){this.cachedEventUids.add(ev(e)),this.lastProcessedEventTime=Date.now()}}function ev(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(t,e={}){return Nn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vD=/^https?/;async function ED(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yD(t);for(const n of e)try{if(TD(n))return}catch{}tn(t,"unauthorized-domain")}function TD(t){const e=Nd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!vD.test(n))return!1;if(_D.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new rl(3e4,6e4);function tv(){const t=Tn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AD(t){return new Promise((e,n)=>{var r,a,s;function i(){tv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tv(),n(ln(t,"network-request-failed"))},timeout:bD.get()})}if((a=(r=Tn().gapi)==null?void 0:r.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=Tn().gapi)!=null&&s.load)i();else{const l=uN("iframefcb");return Tn()[l]=()=>{gapi.load?i():n(ln(t,"network-request-failed"))},eA(`${lN()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw yu=null,e})}let yu=null;function SD(t){return yu=yu||AD(t),yu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=new rl(5e3,15e3),RD="__/auth/iframe",xD="emulator/auth/iframe",CD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ID=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ND(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fp(e,xD):`https://${t.config.authDomain}/${RD}`,i={apiKey:e.apiKey,appName:t.name,v:cs},r=ID.get(t.config.apiHost);r&&(i.eid=r);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${il(i).slice(1)}`}async function DD(t){const e=await SD(t),n=Tn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:ND(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CD,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const s=ln(t,"network-request-failed"),l=Tn().setTimeout(()=>{a(s)},wD.get());function u(){Tn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MD=500,VD=600,PD="_blank",LD="http://localhost";class nv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kD(t,e,n,i=MD,r=VD){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...OD,width:i.toString(),height:r.toString(),top:a,left:s},c=mt().toLowerCase();n&&(l=Kb(c)?PD:n),Gb(c)&&(e=e||LD,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[y,C])=>`${p}${y}=${C},`,"");if(WI(c)&&l!=="_self")return UD(e||"",l),new nv(null);const m=window.open(e||"",l,f);Q(m,t,"popup-blocked");try{m.focus()}catch{}return new nv(m)}function UD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="__/auth/handler",zD="emulator/auth/handler",BD=encodeURIComponent("fac");async function iv(t,e,n,i,r,a){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:cs,eventId:r};if(e instanceof yp){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",_2(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))s[f]=m}if(e instanceof sl){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${BD}=${encodeURIComponent(u)}`:"";return`${FD(t)}?${il(l).slice(1)}${c}`}function FD({config:t}){return t.emulator?fp(t,zD):`https://${t.authDomain}/${jD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="webStorageSupport";class qD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uA,this._completeRedirectFn=dD,this._overrideRedirectResult=cD}async _openPopup(e,n,i,r){var s;ii((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await iv(e,n,i,Nd(),r);return kD(e,a,_p())}async _openRedirect(e,n,i,r){await this._originValidation(e);const a=await iv(e,n,i,Nd(),r);return QN(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:a}=this.eventManagers[n];return r?Promise.resolve(r):(ii(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await DD(e),i=new pD(e);return n.register("authEvent",r=>(Q(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tf,{type:Tf},r=>{var s;const a=(s=r==null?void 0:r[0])==null?void 0:s[Tf];a!==void 0&&n(!!a),tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ED(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Zb()||Qb()||mp()}}const HD=qD;var rv="@firebase/auth",av="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KD(t){Ha(new Vr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=i.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wb(t)},c=new aN(i,r,a,u);return pN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ha(new Vr("auth-internal",e=>{const n=ui(e.getProvider("auth").getImmediate());return(i=>new GD(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(rv,av,QD(t)),Gi(rv,av,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=5*60,$D=Ib("authIdTokenMaxAge")||YD;let sv=null;const XD=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>$D)return;const r=n==null?void 0:n.token;sv!==r&&(sv=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function JD(t=Pb()){const e=up(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mN(t,{popupRedirectResolver:HD,persistence:[tD,qN,uA]}),i=Ib("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const s=XD(a.toString());UN(n,s,()=>s(n.currentUser)),kN(n,l=>s(l))}}const r=xb("auth");return r&&gN(n,`http://${r}`),n}function ZD(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}sN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const a=ln("internal-error");a.customData=r,n(a)},i.type="text/javascript",i.charset="UTF-8",ZD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KD("Browser");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,yA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,T){function b(){}b.prototype=T.prototype,A.F=T.prototype,A.prototype=new b,A.prototype.constructor=A,A.D=function(w,x,O){for(var R=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)R[ut-2]=arguments[ut];return T.prototype[x].apply(w,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,T,b){b||(b=0);const w=Array(16);if(typeof T=="string")for(var x=0;x<16;++x)w[x]=T.charCodeAt(b++)|T.charCodeAt(b++)<<8|T.charCodeAt(b++)<<16|T.charCodeAt(b++)<<24;else for(x=0;x<16;++x)w[x]=T[b++]|T[b++]<<8|T[b++]<<16|T[b++]<<24;T=A.g[0],b=A.g[1],x=A.g[2];let O=A.g[3],R;R=T+(O^b&(x^O))+w[0]+3614090360&4294967295,T=b+(R<<7&4294967295|R>>>25),R=O+(x^T&(b^x))+w[1]+3905402710&4294967295,O=T+(R<<12&4294967295|R>>>20),R=x+(b^O&(T^b))+w[2]+606105819&4294967295,x=O+(R<<17&4294967295|R>>>15),R=b+(T^x&(O^T))+w[3]+3250441966&4294967295,b=x+(R<<22&4294967295|R>>>10),R=T+(O^b&(x^O))+w[4]+4118548399&4294967295,T=b+(R<<7&4294967295|R>>>25),R=O+(x^T&(b^x))+w[5]+1200080426&4294967295,O=T+(R<<12&4294967295|R>>>20),R=x+(b^O&(T^b))+w[6]+2821735955&4294967295,x=O+(R<<17&4294967295|R>>>15),R=b+(T^x&(O^T))+w[7]+4249261313&4294967295,b=x+(R<<22&4294967295|R>>>10),R=T+(O^b&(x^O))+w[8]+1770035416&4294967295,T=b+(R<<7&4294967295|R>>>25),R=O+(x^T&(b^x))+w[9]+2336552879&4294967295,O=T+(R<<12&4294967295|R>>>20),R=x+(b^O&(T^b))+w[10]+4294925233&4294967295,x=O+(R<<17&4294967295|R>>>15),R=b+(T^x&(O^T))+w[11]+2304563134&4294967295,b=x+(R<<22&4294967295|R>>>10),R=T+(O^b&(x^O))+w[12]+1804603682&4294967295,T=b+(R<<7&4294967295|R>>>25),R=O+(x^T&(b^x))+w[13]+4254626195&4294967295,O=T+(R<<12&4294967295|R>>>20),R=x+(b^O&(T^b))+w[14]+2792965006&4294967295,x=O+(R<<17&4294967295|R>>>15),R=b+(T^x&(O^T))+w[15]+1236535329&4294967295,b=x+(R<<22&4294967295|R>>>10),R=T+(x^O&(b^x))+w[1]+4129170786&4294967295,T=b+(R<<5&4294967295|R>>>27),R=O+(b^x&(T^b))+w[6]+3225465664&4294967295,O=T+(R<<9&4294967295|R>>>23),R=x+(T^b&(O^T))+w[11]+643717713&4294967295,x=O+(R<<14&4294967295|R>>>18),R=b+(O^T&(x^O))+w[0]+3921069994&4294967295,b=x+(R<<20&4294967295|R>>>12),R=T+(x^O&(b^x))+w[5]+3593408605&4294967295,T=b+(R<<5&4294967295|R>>>27),R=O+(b^x&(T^b))+w[10]+38016083&4294967295,O=T+(R<<9&4294967295|R>>>23),R=x+(T^b&(O^T))+w[15]+3634488961&4294967295,x=O+(R<<14&4294967295|R>>>18),R=b+(O^T&(x^O))+w[4]+3889429448&4294967295,b=x+(R<<20&4294967295|R>>>12),R=T+(x^O&(b^x))+w[9]+568446438&4294967295,T=b+(R<<5&4294967295|R>>>27),R=O+(b^x&(T^b))+w[14]+3275163606&4294967295,O=T+(R<<9&4294967295|R>>>23),R=x+(T^b&(O^T))+w[3]+4107603335&4294967295,x=O+(R<<14&4294967295|R>>>18),R=b+(O^T&(x^O))+w[8]+1163531501&4294967295,b=x+(R<<20&4294967295|R>>>12),R=T+(x^O&(b^x))+w[13]+2850285829&4294967295,T=b+(R<<5&4294967295|R>>>27),R=O+(b^x&(T^b))+w[2]+4243563512&4294967295,O=T+(R<<9&4294967295|R>>>23),R=x+(T^b&(O^T))+w[7]+1735328473&4294967295,x=O+(R<<14&4294967295|R>>>18),R=b+(O^T&(x^O))+w[12]+2368359562&4294967295,b=x+(R<<20&4294967295|R>>>12),R=T+(b^x^O)+w[5]+4294588738&4294967295,T=b+(R<<4&4294967295|R>>>28),R=O+(T^b^x)+w[8]+2272392833&4294967295,O=T+(R<<11&4294967295|R>>>21),R=x+(O^T^b)+w[11]+1839030562&4294967295,x=O+(R<<16&4294967295|R>>>16),R=b+(x^O^T)+w[14]+4259657740&4294967295,b=x+(R<<23&4294967295|R>>>9),R=T+(b^x^O)+w[1]+2763975236&4294967295,T=b+(R<<4&4294967295|R>>>28),R=O+(T^b^x)+w[4]+1272893353&4294967295,O=T+(R<<11&4294967295|R>>>21),R=x+(O^T^b)+w[7]+4139469664&4294967295,x=O+(R<<16&4294967295|R>>>16),R=b+(x^O^T)+w[10]+3200236656&4294967295,b=x+(R<<23&4294967295|R>>>9),R=T+(b^x^O)+w[13]+681279174&4294967295,T=b+(R<<4&4294967295|R>>>28),R=O+(T^b^x)+w[0]+3936430074&4294967295,O=T+(R<<11&4294967295|R>>>21),R=x+(O^T^b)+w[3]+3572445317&4294967295,x=O+(R<<16&4294967295|R>>>16),R=b+(x^O^T)+w[6]+76029189&4294967295,b=x+(R<<23&4294967295|R>>>9),R=T+(b^x^O)+w[9]+3654602809&4294967295,T=b+(R<<4&4294967295|R>>>28),R=O+(T^b^x)+w[12]+3873151461&4294967295,O=T+(R<<11&4294967295|R>>>21),R=x+(O^T^b)+w[15]+530742520&4294967295,x=O+(R<<16&4294967295|R>>>16),R=b+(x^O^T)+w[2]+3299628645&4294967295,b=x+(R<<23&4294967295|R>>>9),R=T+(x^(b|~O))+w[0]+4096336452&4294967295,T=b+(R<<6&4294967295|R>>>26),R=O+(b^(T|~x))+w[7]+1126891415&4294967295,O=T+(R<<10&4294967295|R>>>22),R=x+(T^(O|~b))+w[14]+2878612391&4294967295,x=O+(R<<15&4294967295|R>>>17),R=b+(O^(x|~T))+w[5]+4237533241&4294967295,b=x+(R<<21&4294967295|R>>>11),R=T+(x^(b|~O))+w[12]+1700485571&4294967295,T=b+(R<<6&4294967295|R>>>26),R=O+(b^(T|~x))+w[3]+2399980690&4294967295,O=T+(R<<10&4294967295|R>>>22),R=x+(T^(O|~b))+w[10]+4293915773&4294967295,x=O+(R<<15&4294967295|R>>>17),R=b+(O^(x|~T))+w[1]+2240044497&4294967295,b=x+(R<<21&4294967295|R>>>11),R=T+(x^(b|~O))+w[8]+1873313359&4294967295,T=b+(R<<6&4294967295|R>>>26),R=O+(b^(T|~x))+w[15]+4264355552&4294967295,O=T+(R<<10&4294967295|R>>>22),R=x+(T^(O|~b))+w[6]+2734768916&4294967295,x=O+(R<<15&4294967295|R>>>17),R=b+(O^(x|~T))+w[13]+1309151649&4294967295,b=x+(R<<21&4294967295|R>>>11),R=T+(x^(b|~O))+w[4]+4149444226&4294967295,T=b+(R<<6&4294967295|R>>>26),R=O+(b^(T|~x))+w[11]+3174756917&4294967295,O=T+(R<<10&4294967295|R>>>22),R=x+(T^(O|~b))+w[2]+718787259&4294967295,x=O+(R<<15&4294967295|R>>>17),R=b+(O^(x|~T))+w[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+x&4294967295,A.g[3]=A.g[3]+O&4294967295}i.prototype.v=function(A,T){T===void 0&&(T=A.length);const b=T-this.blockSize,w=this.C;let x=this.h,O=0;for(;O<T;){if(x==0)for(;O<=b;)r(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<T;)if(w[x++]=A.charCodeAt(O++),x==this.blockSize){r(this,w),x=0;break}}else for(;O<T;)if(w[x++]=A[O++],x==this.blockSize){r(this,w),x=0;break}}this.h=x,this.o+=T},i.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;T=this.o*8;for(var b=A.length-8;b<A.length;++b)A[b]=T&255,T/=256;for(this.v(A),A=Array(16),T=0,b=0;b<4;++b)for(let w=0;w<32;w+=8)A[T++]=this.g[b]>>>w&255;return A};function a(A,T){var b=l;return Object.prototype.hasOwnProperty.call(b,A)?b[A]:b[A]=T(A)}function s(A,T){this.h=T;const b=[];let w=!0;for(let x=A.length-1;x>=0;x--){const O=A[x]|0;w&&O==T||(b[x]=O,w=!1)}this.g=b}var l={};function u(A){return-128<=A&&A<128?a(A,function(T){return new s([T|0],T<0?-1:0)}):new s([A|0],A<0?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return m;if(A<0)return I(c(-A));const T=[];let b=1;for(let w=0;A>=b;w++)T[w]=A/b|0,b*=4294967296;return new s(T,0)}function f(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return I(f(A.substring(1),T));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=c(Math.pow(T,8));let w=m;for(let O=0;O<A.length;O+=8){var x=Math.min(8,A.length-O);const R=parseInt(A.substring(O,O+x),T);x<8?(x=c(Math.pow(T,x)),w=w.j(x).add(c(R))):(w=w.j(b),w=w.add(c(R)))}return w}var m=u(0),p=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-I(this).m();let A=0,T=1;for(let b=0;b<this.g.length;b++){const w=this.i(b);A+=(w>=0?w:4294967296+w)*T,T*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C(this))return"0";if(N(this))return"-"+I(this).toString(A);const T=c(Math.pow(A,6));var b=this;let w="";for(;;){const x=D(b,T).g;b=E(b,x.j(T));let O=((b.g.length>0?b.g[0]:b.h)>>>0).toString(A);if(b=x,C(b))return O+w;for(;O.length<6;)O="0"+O;w=O+w}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function C(A){if(A.h!=0)return!1;for(let T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function N(A){return A.h==-1}t.l=function(A){return A=E(this,A),N(A)?-1:C(A)?0:1};function I(A){const T=A.g.length,b=[];for(let w=0;w<T;w++)b[w]=~A.g[w];return new s(b,~A.h).add(p)}t.abs=function(){return N(this)?I(this):this},t.add=function(A){const T=Math.max(this.g.length,A.g.length),b=[];let w=0;for(let x=0;x<=T;x++){let O=w+(this.i(x)&65535)+(A.i(x)&65535),R=(O>>>16)+(this.i(x)>>>16)+(A.i(x)>>>16);w=R>>>16,O&=65535,R&=65535,b[x]=R<<16|O}return new s(b,b[b.length-1]&-2147483648?-1:0)};function E(A,T){return A.add(I(T))}t.j=function(A){if(C(this)||C(A))return m;if(N(this))return N(A)?I(this).j(I(A)):I(I(this).j(A));if(N(A))return I(this.j(I(A)));if(this.l(y)<0&&A.l(y)<0)return c(this.m()*A.m());const T=this.g.length+A.g.length,b=[];for(var w=0;w<2*T;w++)b[w]=0;for(w=0;w<this.g.length;w++)for(let x=0;x<A.g.length;x++){const O=this.i(w)>>>16,R=this.i(w)&65535,ut=A.i(x)>>>16,nn=A.i(x)&65535;b[2*w+2*x]+=R*nn,v(b,2*w+2*x),b[2*w+2*x+1]+=O*nn,v(b,2*w+2*x+1),b[2*w+2*x+1]+=R*ut,v(b,2*w+2*x+1),b[2*w+2*x+2]+=O*ut,v(b,2*w+2*x+2)}for(A=0;A<T;A++)b[A]=b[2*A+1]<<16|b[2*A];for(A=T;A<2*T;A++)b[A]=0;return new s(b,0)};function v(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function S(A,T){this.g=A,this.h=T}function D(A,T){if(C(T))throw Error("division by zero");if(C(A))return new S(m,m);if(N(A))return T=D(I(A),T),new S(I(T.g),I(T.h));if(N(T))return T=D(A,I(T)),new S(I(T.g),T.h);if(A.g.length>30){if(N(A)||N(T))throw Error("slowDivide_ only works with positive integers.");for(var b=p,w=T;w.l(A)<=0;)b=j(b),w=j(w);var x=H(b,1),O=H(w,1);for(w=H(w,2),b=H(b,2);!C(w);){var R=O.add(w);R.l(A)<=0&&(x=x.add(b),O=R),w=H(w,1),b=H(b,1)}return T=E(A,x.j(T)),new S(x,T)}for(x=m;A.l(T)>=0;){for(b=Math.max(1,Math.floor(A.m()/T.m())),w=Math.ceil(Math.log(b)/Math.LN2),w=w<=48?1:Math.pow(2,w-48),O=c(b),R=O.j(T);N(R)||R.l(A)>0;)b-=w,O=c(b),R=O.j(T);C(O)&&(O=p),x=x.add(O),A=E(A,R)}return new S(x,A)}t.B=function(A){return D(this,A).h},t.and=function(A){const T=Math.max(this.g.length,A.g.length),b=[];for(let w=0;w<T;w++)b[w]=this.i(w)&A.i(w);return new s(b,this.h&A.h)},t.or=function(A){const T=Math.max(this.g.length,A.g.length),b=[];for(let w=0;w<T;w++)b[w]=this.i(w)|A.i(w);return new s(b,this.h|A.h)},t.xor=function(A){const T=Math.max(this.g.length,A.g.length),b=[];for(let w=0;w<T;w++)b[w]=this.i(w)^A.i(w);return new s(b,this.h^A.h)};function j(A){const T=A.g.length+1,b=[];for(let w=0;w<T;w++)b[w]=A.i(w)<<1|A.i(w-1)>>>31;return new s(b,A.h)}function H(A,T){const b=T>>5;T%=32;const w=A.g.length-b,x=[];for(let O=0;O<w;O++)x[O]=T>0?A.i(O+b)>>>T|A.i(O+b+1)<<32-T:A.i(O+b);return new s(x,A.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,yA=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,Qi=s}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _A,Ys,vA,_u,Md,EA,TA,bA;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gl=="object"&&Gl];for(var h=0;h<o.length;++h){var d=o[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function r(o,h){if(h)e:{var d=i;o=o.split(".");for(var _=0;_<o.length-1;_++){var M=o[_];if(!(M in d))break e;d=d[M]}o=o[o.length-1],_=d[o],h=h(_),h!=_&&h!=null&&e(d,o,{configurable:!0,writable:!0,value:h})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(h){var d=[],_;for(_ in h)Object.prototype.hasOwnProperty.call(h,_)&&d.push([_,h[_]]);return d}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function u(o,h,d){return o.call.apply(o.bind,arguments)}function c(o,h,d){return c=u,c.apply(null,arguments)}function f(o,h){var d=Array.prototype.slice.call(arguments,1);return function(){var _=d.slice();return _.push.apply(_,arguments),o.apply(this,_)}}function m(o,h){function d(){}d.prototype=h.prototype,o.Z=h.prototype,o.prototype=new d,o.prototype.constructor=o,o.Ob=function(_,M,V){for(var z=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)z[ee-2]=arguments[ee];return h.prototype[M].apply(_,z)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function y(o){const h=o.length;if(h>0){const d=Array(h);for(let _=0;_<h;_++)d[_]=o[_];return d}return[]}function C(o,h){for(let _=1;_<arguments.length;_++){const M=arguments[_];var d=typeof M;if(d=d!="object"?d:M?Array.isArray(M)?"array":d:"null",d=="array"||d=="object"&&typeof M.length=="number"){d=o.length||0;const V=M.length||0;o.length=d+V;for(let z=0;z<V;z++)o[d+z]=M[z]}else o.push(M)}}class N{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function I(o){s.setTimeout(()=>{throw o},0)}function E(){var o=A;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class v{constructor(){this.h=this.g=null}add(h,d){const _=S.get();_.set(h,d),this.h?this.h.next=_:this.g=_,this.h=_}}var S=new N(()=>new D,o=>o.reset());class D{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let j,H=!1,A=new v,T=()=>{const o=Promise.resolve(void 0);j=()=>{o.then(b)}};function b(){for(var o;o=E();){try{o.h.call(o.g)}catch(d){I(d)}var h=S;h.j(o),h.h<100&&(h.h++,o.next=h.g,h.g=o)}H=!1}function w(){this.u=this.u,this.C=this.C}w.prototype.u=!1,w.prototype.dispose=function(){this.u||(this.u=!0,this.N())},w.prototype[Symbol.dispose]=function(){this.dispose()},w.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};s.addEventListener("test",d,h),s.removeEventListener("test",d,h)}catch{}return o}();function R(o){return/^[\s\xa0]*$/.test(o)}function ut(o,h){x.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,h)}m(ut,x),ut.prototype.init=function(o,h){const d=this.type=o.type,_=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget,h||(d=="mouseover"?h=o.fromElement:d=="mouseout"&&(h=o.toElement)),this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ut.Z.h.call(this)},ut.prototype.h=function(){ut.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var nn="closure_listenable_"+(Math.random()*1e6|0),B=0;function te(o,h,d,_,M){this.listener=o,this.proxy=null,this.src=h,this.type=d,this.capture=!!_,this.ha=M,this.key=++B,this.da=this.fa=!1}function J(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ve(o,h,d){for(const _ in o)h.call(d,o[_],_,o)}function ke(o,h){for(const d in o)h.call(void 0,o[d],d,o)}function lr(o){const h={};for(const d in o)h[d]=o[d];return h}const ur="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yr(o,h){let d,_;for(let M=1;M<arguments.length;M++){_=arguments[M];for(d in _)o[d]=_[d];for(let V=0;V<ur.length;V++)d=ur[V],Object.prototype.hasOwnProperty.call(_,d)&&(o[d]=_[d])}}function Bt(o){this.src=o,this.g={},this.h=0}Bt.prototype.add=function(o,h,d,_,M){const V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);const z=sh(o,h,_,M);return z>-1?(h=o[z],d||(h.fa=!1)):(h=new te(h,this.src,V,!!_,M),h.fa=d,o.push(h)),h};function ci(o,h){const d=h.type;if(d in o.g){var _=o.g[d],M=Array.prototype.indexOf.call(_,h,void 0),V;(V=M>=0)&&Array.prototype.splice.call(_,M,1),V&&(J(h),o.g[d].length==0&&(delete o.g[d],o.h--))}}function sh(o,h,d,_){for(let M=0;M<o.length;++M){const V=o[M];if(!V.da&&V.listener==h&&V.capture==!!d&&V.ha==_)return M}return-1}var oh="closure_lm_"+(Math.random()*1e6|0),lh={};function Wp(o,h,d,_,M){if(Array.isArray(h)){for(let V=0;V<h.length;V++)Wp(o,h[V],d,_,M);return null}return d=ng(d),o&&o[nn]?o.J(h,d,l(_)?!!_.capture:!1,M):$S(o,h,d,!1,_,M)}function $S(o,h,d,_,M,V){if(!h)throw Error("Invalid event type");const z=l(M)?!!M.capture:!!M;let ee=ch(o);if(ee||(o[oh]=ee=new Bt(o)),d=ee.add(h,d,_,z,V),d.proxy)return d;if(_=XS(),d.proxy=_,_.src=o,_.listener=d,o.addEventListener)O||(M=z),M===void 0&&(M=!1),o.addEventListener(h.toString(),_,M);else if(o.attachEvent)o.attachEvent(tg(h.toString()),_);else if(o.addListener&&o.removeListener)o.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return d}function XS(){function o(d){return h.call(o.src,o.listener,d)}const h=JS;return o}function eg(o,h,d,_,M){if(Array.isArray(h))for(var V=0;V<h.length;V++)eg(o,h[V],d,_,M);else _=l(_)?!!_.capture:!!_,d=ng(d),o&&o[nn]?(o=o.i,V=String(h).toString(),V in o.g&&(h=o.g[V],d=sh(h,d,_,M),d>-1&&(J(h[d]),Array.prototype.splice.call(h,d,1),h.length==0&&(delete o.g[V],o.h--)))):o&&(o=ch(o))&&(h=o.g[h.toString()],o=-1,h&&(o=sh(h,d,_,M)),(d=o>-1?h[o]:null)&&uh(d))}function uh(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[nn])ci(h.i,o);else{var d=o.type,_=o.proxy;h.removeEventListener?h.removeEventListener(d,_,o.capture):h.detachEvent?h.detachEvent(tg(d),_):h.addListener&&h.removeListener&&h.removeListener(_),(d=ch(h))?(ci(d,o),d.h==0&&(d.src=null,h[oh]=null)):J(o)}}}function tg(o){return o in lh?lh[o]:lh[o]="on"+o}function JS(o,h){if(o.da)o=!0;else{h=new ut(h,this);const d=o.listener,_=o.ha||o.src;o.fa&&uh(o),o=d.call(_,h)}return o}function ch(o){return o=o[oh],o instanceof Bt?o:null}var hh="__closure_events_fn_"+(Math.random()*1e9>>>0);function ng(o){return typeof o=="function"?o:(o[hh]||(o[hh]=function(h){return o.handleEvent(h)}),o[hh])}function ct(){w.call(this),this.i=new Bt(this),this.M=this,this.G=null}m(ct,w),ct.prototype[nn]=!0,ct.prototype.removeEventListener=function(o,h,d,_){eg(this,o,h,d,_)};function gt(o,h){var d,_=o.G;if(_)for(d=[];_;_=_.G)d.push(_);if(o=o.M,_=h.type||h,typeof h=="string")h=new x(h,o);else if(h instanceof x)h.target=h.target||o;else{var M=h;h=new x(_,o),Yr(h,M)}M=!0;let V,z;if(d)for(z=d.length-1;z>=0;z--)V=h.g=d[z],M=pl(V,_,!0,h)&&M;if(V=h.g=o,M=pl(V,_,!0,h)&&M,M=pl(V,_,!1,h)&&M,d)for(z=0;z<d.length;z++)V=h.g=d[z],M=pl(V,_,!1,h)&&M}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var o=this.i;for(const h in o.g){const d=o.g[h];for(let _=0;_<d.length;_++)J(d[_]);delete o.g[h],o.h--}}this.G=null},ct.prototype.J=function(o,h,d,_){return this.i.add(String(o),h,!1,d,_)},ct.prototype.K=function(o,h,d,_){return this.i.add(String(o),h,!0,d,_)};function pl(o,h,d,_){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();let M=!0;for(let V=0;V<h.length;++V){const z=h[V];if(z&&!z.da&&z.capture==d){const ee=z.listener,Ge=z.ha||z.src;z.fa&&ci(o.i,z),M=ee.call(Ge,_)!==!1&&M}}return M&&!_.defaultPrevented}function ZS(o,h){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=c(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:s.setTimeout(o,h||0)}function ig(o){o.g=ZS(()=>{o.g=null,o.i&&(o.i=!1,ig(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class WS extends w{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ig(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(o){w.call(this),this.h=o,this.g={}}m(ys,w);var rg=[];function ag(o){ve(o.g,function(h,d){this.g.hasOwnProperty(d)&&uh(h)},o),o.g={}}ys.prototype.N=function(){ys.Z.N.call(this),ag(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fh=s.JSON.stringify,e1=s.JSON.parse,t1=class{stringify(o){return s.JSON.stringify(o,void 0)}parse(o){return s.JSON.parse(o,void 0)}};function sg(){}function og(){}var _s={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dh(){x.call(this,"d")}m(dh,x);function mh(){x.call(this,"c")}m(mh,x);var cr={},lg=null;function gl(){return lg=lg||new ct}cr.Ia="serverreachability";function ug(o){x.call(this,cr.Ia,o)}m(ug,x);function vs(o){const h=gl();gt(h,new ug(h))}cr.STAT_EVENT="statevent";function cg(o,h){x.call(this,cr.STAT_EVENT,o),this.stat=h}m(cg,x);function yt(o){const h=gl();gt(h,new cg(h,o))}cr.Ja="timingevent";function hg(o,h){x.call(this,cr.Ja,o),this.size=h}m(hg,x);function Es(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){o()},h)}function Ts(){this.g=!0}Ts.prototype.ua=function(){this.g=!1};function n1(o,h,d,_,M,V){o.info(function(){if(o.g)if(V){var z="",ee=V.split("&");for(let ye=0;ye<ee.length;ye++){var Ge=ee[ye].split("=");if(Ge.length>1){const $e=Ge[0];Ge=Ge[1];const mn=$e.split("_");z=mn.length>=2&&mn[1]=="type"?z+($e+"="+Ge+"&"):z+($e+"=redacted&")}}}else z=null;else z=V;return"XMLHTTP REQ ("+_+") [attempt "+M+"]: "+h+`
`+d+`
`+z})}function i1(o,h,d,_,M,V,z){o.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+M+"]: "+h+`
`+d+`
`+V+" "+z})}function $r(o,h,d,_){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+a1(o,d)+(_?" "+_:"")})}function r1(o,h){o.info(function(){return"TIMEOUT: "+h})}Ts.prototype.info=function(){};function a1(o,h){if(!o.g)return h;if(!h)return null;try{const V=JSON.parse(h);if(V){for(o=0;o<V.length;o++)if(Array.isArray(V[o])){var d=V[o];if(!(d.length<2)){var _=d[1];if(Array.isArray(_)&&!(_.length<1)){var M=_[0];if(M!="noop"&&M!="stop"&&M!="close")for(let z=1;z<_.length;z++)_[z]=""}}}}return fh(V)}catch{return h}}var yl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dg;function ph(){}m(ph,sg),ph.prototype.g=function(){return new XMLHttpRequest},dg=new ph;function bs(o){return encodeURIComponent(String(o))}function s1(o){var h=1;o=o.split(":");const d=[];for(;h>0&&o.length;)d.push(o.shift()),h--;return o.length&&d.push(o.join(":")),d}function hi(o,h,d,_){this.j=o,this.i=h,this.l=d,this.S=_||1,this.V=new ys(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new mg}function mg(){this.i=null,this.g="",this.h=!1}var pg={},gh={};function yh(o,h,d){o.M=1,o.A=vl(dn(h)),o.u=d,o.R=!0,gg(o,null)}function gg(o,h){o.F=Date.now(),_l(o),o.B=dn(o.A);var d=o.B,_=o.S;Array.isArray(_)||(_=[String(_)]),Ig(d.i,"t",_),o.C=0,d=o.j.L,o.h=new mg,o.g=Kg(o.j,d?h:null,!o.u),o.P>0&&(o.O=new WS(c(o.Y,o,o.g),o.P)),h=o.V,d=o.g,_=o.ba;var M="readystatechange";Array.isArray(M)||(M&&(rg[0]=M.toString()),M=rg);for(let V=0;V<M.length;V++){const z=Wp(d,M[V],_||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=o.J?lr(o.J):{},o.u?(o.v||(o.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,h)):(o.v="GET",o.g.ea(o.B,o.v,null,h)),vs(),n1(o.i,o.v,o.B,o.l,o.S,o.u)}hi.prototype.ba=function(o){o=o.target;const h=this.O;h&&mi(o)==3?h.j():this.Y(o)},hi.prototype.Y=function(o){try{if(o==this.g)e:{const ee=mi(this.g),Ge=this.g.ya(),ye=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||Lg(this.g)))){this.K||ee!=4||Ge==7||(Ge==8||ye<=0?vs(3):vs(2)),_h(this);var h=this.g.ca();this.X=h;var d=o1(this);if(this.o=h==200,i1(this.i,this.v,this.B,this.l,this.S,ee,h),this.o){if(this.U&&!this.L){t:{if(this.g){var _,M=this.g;if((_=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(_)){var V=_;break t}}V=null}if(o=V)$r(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vh(this,o);else{this.o=!1,this.m=3,yt(12),hr(this),As(this);break e}}if(this.R){o=!0;let $e;for(;!this.K&&this.C<d.length;)if($e=l1(this,d),$e==gh){ee==4&&(this.m=4,yt(14),o=!1),$r(this.i,this.l,null,"[Incomplete Response]");break}else if($e==pg){this.m=4,yt(15),$r(this.i,this.l,d,"[Invalid Chunk]"),o=!1;break}else $r(this.i,this.l,$e,null),vh(this,$e);if(yg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||d.length!=0||this.h.h||(this.m=1,yt(16),o=!1),this.o=this.o&&o,!o)$r(this.i,this.l,d,"[Invalid Chunked Response]"),hr(this),As(this);else if(d.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),xh(z),z.P=!0,yt(11))}}else $r(this.i,this.l,d,null),vh(this,d);ee==4&&hr(this),this.o&&!this.K&&(ee==4?qg(this.j,this):(this.o=!1,_l(this)))}else b1(this.g),h==400&&d.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),hr(this),As(this)}}}catch{}finally{}};function o1(o){if(!yg(o))return o.g.la();const h=Lg(o.g);if(h==="")return"";let d="";const _=h.length,M=mi(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return hr(o),As(o),"";o.h.i=new s.TextDecoder}for(let V=0;V<_;V++)o.h.h=!0,d+=o.h.i.decode(h[V],{stream:!(M&&V==_-1)});return h.length=0,o.h.g+=d,o.C=0,o.h.g}function yg(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function l1(o,h){var d=o.C,_=h.indexOf(`
`,d);return _==-1?gh:(d=Number(h.substring(d,_)),isNaN(d)?pg:(_+=1,_+d>h.length?gh:(h=h.slice(_,_+d),o.C=_+d,h)))}hi.prototype.cancel=function(){this.K=!0,hr(this)};function _l(o){o.T=Date.now()+o.H,_g(o,o.H)}function _g(o,h){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Es(c(o.aa,o),h)}function _h(o){o.D&&(s.clearTimeout(o.D),o.D=null)}hi.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(r1(this.i,this.B),this.M!=2&&(vs(),yt(17)),hr(this),this.m=2,As(this)):_g(this,this.T-o)};function As(o){o.j.I==0||o.K||qg(o.j,o)}function hr(o){_h(o);var h=o.O;h&&typeof h.dispose=="function"&&h.dispose(),o.O=null,ag(o.V),o.g&&(h=o.g,o.g=null,h.abort(),h.dispose())}function vh(o,h){try{var d=o.j;if(d.I!=0&&(d.g==o||Eh(d.h,o))){if(!o.L&&Eh(d.h,o)&&d.I==3){try{var _=d.Ba.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var M=_;if(M[0]==0){e:if(!d.v){if(d.g)if(d.g.F+3e3<o.F)Sl(d),bl(d);else break e;Rh(d),yt(18)}}else d.xa=M[1],0<d.xa-d.K&&M[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=Es(c(d.Va,d),6e3));Tg(d.h)<=1&&d.ta&&(d.ta=void 0)}else dr(d,11)}else if((o.L||d.g==o)&&Sl(d),!R(h))for(M=d.Ba.g.parse(h),h=0;h<M.length;h++){let ye=M[h];const $e=ye[0];if(!($e<=d.K))if(d.K=$e,ye=ye[1],d.I==2)if(ye[0]=="c"){d.M=ye[1],d.ba=ye[2];const mn=ye[3];mn!=null&&(d.ka=mn,d.j.info("VER="+d.ka));const mr=ye[4];mr!=null&&(d.za=mr,d.j.info("SVER="+d.za));const pi=ye[5];pi!=null&&typeof pi=="number"&&pi>0&&(_=1.5*pi,d.O=_,d.j.info("backChannelRequestTimeoutMs_="+_)),_=d;const gi=o.g;if(gi){const Rl=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rl){var V=_.h;V.g||Rl.indexOf("spdy")==-1&&Rl.indexOf("quic")==-1&&Rl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Th(V,V.h),V.h=null))}if(_.G){const Ch=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ch&&(_.wa=Ch,be(_.J,_.G,Ch))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-o.F,d.j.info("Handshake RTT: "+d.T+"ms")),_=d;var z=o;if(_.na=Qg(_,_.L?_.ba:null,_.W),z.L){bg(_.h,z);var ee=z,Ge=_.O;Ge&&(ee.H=Ge),ee.D&&(_h(ee),_l(ee)),_.g=z}else Bg(_);d.i.length>0&&Al(d)}else ye[0]!="stop"&&ye[0]!="close"||dr(d,7);else d.I==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?dr(d,7):wh(d):ye[0]!="noop"&&d.l&&d.l.qa(ye),d.A=0)}}vs(4)}catch{}}var u1=class{constructor(o,h){this.g=o,this.map=h}};function vg(o){this.l=o||10,s.PerformanceNavigationTiming?(o=s.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Tg(o){return o.h?1:o.g?o.g.size:0}function Eh(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function Th(o,h){o.g?o.g.add(h):o.h=h}function bg(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}vg.prototype.cancel=function(){if(this.i=Ag(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ag(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const d of o.g.values())h=h.concat(d.G);return h}return y(o.i)}var Sg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function c1(o,h){if(o){o=o.split("&");for(let d=0;d<o.length;d++){const _=o[d].indexOf("=");let M,V=null;_>=0?(M=o[d].substring(0,_),V=o[d].substring(_+1)):M=o[d],h(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function fi(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;o instanceof fi?(this.l=o.l,Ss(this,o.j),this.o=o.o,this.g=o.g,ws(this,o.u),this.h=o.h,bh(this,Ng(o.i)),this.m=o.m):o&&(h=String(o).match(Sg))?(this.l=!1,Ss(this,h[1]||"",!0),this.o=Rs(h[2]||""),this.g=Rs(h[3]||"",!0),ws(this,h[4]),this.h=Rs(h[5]||"",!0),bh(this,h[6]||"",!0),this.m=Rs(h[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}fi.prototype.toString=function(){const o=[];var h=this.j;h&&o.push(xs(h,wg,!0),":");var d=this.g;return(d||h=="file")&&(o.push("//"),(h=this.o)&&o.push(xs(h,wg,!0),"@"),o.push(bs(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&o.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(xs(d,d.charAt(0)=="/"?d1:f1,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",xs(d,p1)),o.join("")},fi.prototype.resolve=function(o){const h=dn(this);let d=!!o.j;d?Ss(h,o.j):d=!!o.o,d?h.o=o.o:d=!!o.g,d?h.g=o.g:d=o.u!=null;var _=o.h;if(d)ws(h,o.u);else if(d=!!o.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var M=h.h.lastIndexOf("/");M!=-1&&(_=h.h.slice(0,M+1)+_)}if(M=_,M==".."||M==".")_="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){_=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let z=0;z<M.length;){const ee=M[z++];ee=="."?_&&z==M.length&&V.push(""):ee==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),_&&z==M.length&&V.push("")):(V.push(ee),_=!0)}_=V.join("/")}else _=M}return d?h.h=_:d=o.i.toString()!=="",d?bh(h,Ng(o.i)):d=!!o.m,d&&(h.m=o.m),h};function dn(o){return new fi(o)}function Ss(o,h,d){o.j=d?Rs(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function ws(o,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);o.u=h}else o.u=null}function bh(o,h,d){h instanceof Cs?(o.i=h,g1(o.i,o.l)):(d||(h=xs(h,m1)),o.i=new Cs(h,o.l))}function be(o,h,d){o.i.set(h,d)}function vl(o){return be(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Rs(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function xs(o,h,d){return typeof o=="string"?(o=encodeURI(o).replace(h,h1),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function h1(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var wg=/[#\/\?@]/g,f1=/[#\?:]/g,d1=/[#\?]/g,m1=/[#\?@]/g,p1=/#/g;function Cs(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function fr(o){o.g||(o.g=new Map,o.h=0,o.i&&c1(o.i,function(h,d){o.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=Cs.prototype,t.add=function(o,h){fr(this),this.i=null,o=Xr(this,o);let d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(h),this.h+=1,this};function Rg(o,h){fr(o),h=Xr(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function xg(o,h){return fr(o),h=Xr(o,h),o.g.has(h)}t.forEach=function(o,h){fr(this),this.g.forEach(function(d,_){d.forEach(function(M){o.call(h,M,_,this)},this)},this)};function Cg(o,h){fr(o);let d=[];if(typeof h=="string")xg(o,h)&&(d=d.concat(o.g.get(Xr(o,h))));else for(o=Array.from(o.g.values()),h=0;h<o.length;h++)d=d.concat(o[h]);return d}t.set=function(o,h){return fr(this),this.i=null,o=Xr(this,o),xg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=Cg(this,o),o.length>0?String(o[0]):h):h};function Ig(o,h,d){Rg(o,h),d.length>0&&(o.i=null,o.g.set(Xr(o,h),y(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(let _=0;_<h.length;_++){var d=h[_];const M=bs(d);d=Cg(this,d);for(let V=0;V<d.length;V++){let z=M;d[V]!==""&&(z+="="+bs(d[V])),o.push(z)}}return this.i=o.join("&")};function Ng(o){const h=new Cs;return h.i=o.i,o.g&&(h.g=new Map(o.g),h.h=o.h),h}function Xr(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function g1(o,h){h&&!o.j&&(fr(o),o.i=null,o.g.forEach(function(d,_){const M=_.toLowerCase();_!=M&&(Rg(this,_),Ig(this,M,d))},o)),o.j=h}function y1(o,h){const d=new Ts;if(s.Image){const _=new Image;_.onload=f(di,d,"TestLoadImage: loaded",!0,h,_),_.onerror=f(di,d,"TestLoadImage: error",!1,h,_),_.onabort=f(di,d,"TestLoadImage: abort",!1,h,_),_.ontimeout=f(di,d,"TestLoadImage: timeout",!1,h,_),s.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=o}else h(!1)}function _1(o,h){const d=new Ts,_=new AbortController,M=setTimeout(()=>{_.abort(),di(d,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:_.signal}).then(V=>{clearTimeout(M),V.ok?di(d,"TestPingServer: ok",!0,h):di(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),di(d,"TestPingServer: error",!1,h)})}function di(o,h,d,_,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),_(d)}catch{}}function v1(){this.g=new t1}function Ah(o){this.i=o.Sb||null,this.h=o.ab||!1}m(Ah,sg),Ah.prototype.g=function(){return new El(this.i,this.h)};function El(o,h){ct.call(this),this.H=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(El,ct),t=El.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=h,this.readyState=1,Ns(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(h.body=o),(this.H||s).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Dg(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Dg(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?Is(this):Ns(this),this.readyState==3&&Dg(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,Is(this))},t.Na=function(o){this.g&&(this.response=o,Is(this))},t.ga=function(){this.g&&Is(this)};function Is(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Ns(o)}t.setRequestHeader=function(o,h){this.A.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=h.next();return o.join(`\r
`)};function Ns(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(El.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Og(o){let h="";return ve(o,function(d,_){h+=_,h+=":",h+=d,h+=`\r
`}),h}function Sh(o,h,d){e:{for(_ in d){var _=!1;break e}_=!0}_||(d=Og(d),typeof o=="string"?d!=null&&bs(d):be(o,h,d))}function De(o){ct.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(De,ct);var E1=/^https?$/i,T1=["POST","PUT"];t=De.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,h,d,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dg.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(V){Mg(this,V);return}if(o=d||"",d=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var M in _)d.set(M,_[M]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const V of _.keys())d.set(V,_.get(V));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(d.keys()).find(V=>V.toLowerCase()=="content-type"),M=s.FormData&&o instanceof s.FormData,!(Array.prototype.indexOf.call(T1,h,void 0)>=0)||_||M||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of d)this.g.setRequestHeader(V,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(V){Mg(this,V)}};function Mg(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.o=5,Vg(o),Tl(o)}function Vg(o){o.A||(o.A=!0,gt(o,"complete"),gt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,gt(this,"complete"),gt(this,"abort"),Tl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tl(this,!0)),De.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Pg(this):this.Xa())},t.Xa=function(){Pg(this)};function Pg(o){if(o.h&&typeof a<"u"){if(o.v&&mi(o)==4)setTimeout(o.Ca.bind(o),0);else if(gt(o,"readystatechange"),mi(o)==4){o.h=!1;try{const V=o.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var _;if(_=V===0){let z=String(o.D).match(Sg)[1]||null;!z&&s.self&&s.self.location&&(z=s.self.location.protocol.slice(0,-1)),_=!E1.test(z?z.toLowerCase():"")}d=_}if(d)gt(o,"complete"),gt(o,"success");else{o.o=6;try{var M=mi(o)>2?o.g.statusText:""}catch{M=""}o.l=M+" ["+o.ca()+"]",Vg(o)}}finally{Tl(o)}}}}function Tl(o,h){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const d=o.g;o.g=null,h||gt(o,"ready");try{d.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function mi(o){return o.g?o.g.readyState:0}t.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),e1(h)}};function Lg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function b1(o){const h={};o=(o.g&&mi(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<o.length;_++){if(R(o[_]))continue;var d=s1(o[_]);const M=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const V=h[M]||[];h[M]=V,V.push(d)}ke(h,function(_){return _.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(o,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||h}function kg(o){this.za=0,this.i=[],this.j=new Ts,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ds("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ds("baseRetryDelayMs",5e3,o),this.Za=Ds("retryDelaySeedMs",1e4,o),this.Ta=Ds("forwardChannelMaxRetries",2,o),this.va=Ds("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new vg(o&&o.concurrentRequestLimit),this.Ba=new v1,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=kg.prototype,t.ka=8,t.I=1,t.connect=function(o,h,d,_){yt(0),this.W=o,this.H=h||{},d&&_!==void 0&&(this.H.OSID=d,this.H.OAID=_),this.F=this.X,this.J=Qg(this,null,this.W),Al(this)};function wh(o){if(Ug(o),o.I==3){var h=o.V++,d=dn(o.J);if(be(d,"SID",o.M),be(d,"RID",h),be(d,"TYPE","terminate"),Os(o,d),h=new hi(o,o.j,h),h.M=2,h.A=vl(dn(d)),d=!1,s.navigator&&s.navigator.sendBeacon)try{d=s.navigator.sendBeacon(h.A.toString(),"")}catch{}!d&&s.Image&&(new Image().src=h.A,d=!0),d||(h.g=Kg(h.j,null),h.g.ea(h.A)),h.F=Date.now(),_l(h)}Gg(o)}function bl(o){o.g&&(xh(o),o.g.cancel(),o.g=null)}function Ug(o){bl(o),o.v&&(s.clearTimeout(o.v),o.v=null),Sl(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&s.clearTimeout(o.m),o.m=null)}function Al(o){if(!Eg(o.h)&&!o.m){o.m=!0;var h=o.Ea;j||T(),H||(j(),H=!0),A.add(h,o),o.D=0}}function A1(o,h){return Tg(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=h.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Es(c(o.Ea,o,h),Hg(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const M=new hi(this,this.j,o);let V=this.o;if(this.U&&(V?(V=lr(V),Yr(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var _=this.i[d];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,h>4096){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=zg(this,M,h),d=dn(this.J),be(d,"RID",o),be(d,"CVER",22),this.G&&be(d,"X-HTTP-Session-Id",this.G),Os(this,d),V&&(this.R?h="headers="+bs(Og(V))+"&"+h:this.u&&Sh(d,this.u,V)),Th(this.h,M),this.Ra&&be(d,"TYPE","init"),this.S?(be(d,"$req",h),be(d,"SID","null"),M.U=!0,yh(M,d,null)):yh(M,d,h),this.I=2}}else this.I==3&&(o?jg(this,o):this.i.length==0||Eg(this.h)||jg(this))};function jg(o,h){var d;h?d=h.l:d=o.V++;const _=dn(o.J);be(_,"SID",o.M),be(_,"RID",d),be(_,"AID",o.K),Os(o,_),o.u&&o.o&&Sh(_,o.u,o.o),d=new hi(o,o.j,d,o.D+1),o.u===null&&(d.J=o.o),h&&(o.i=h.G.concat(o.i)),h=zg(o,d,1e3),d.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Th(o.h,d),yh(d,_,h)}function Os(o,h){o.H&&ve(o.H,function(d,_){be(h,_,d)}),o.l&&ve({},function(d,_){be(h,_,d)})}function zg(o,h,d){d=Math.min(o.i.length,d);const _=o.l?c(o.l.Ka,o.l,o):null;e:{var M=o.i;let ee=-1;for(;;){const Ge=["count="+d];ee==-1?d>0?(ee=M[0].g,Ge.push("ofs="+ee)):ee=0:Ge.push("ofs="+ee);let ye=!0;for(let $e=0;$e<d;$e++){var V=M[$e].g;const mn=M[$e].map;if(V-=ee,V<0)ee=Math.max(0,M[$e].g-100),ye=!1;else try{V="req"+V+"_"||"";try{var z=mn instanceof Map?mn:Object.entries(mn);for(const[mr,pi]of z){let gi=pi;l(pi)&&(gi=fh(pi)),Ge.push(V+mr+"="+encodeURIComponent(gi))}}catch(mr){throw Ge.push(V+"type="+encodeURIComponent("_badmap")),mr}}catch{_&&_(mn)}}if(ye){z=Ge.join("&");break e}}z=void 0}return o=o.i.splice(0,d),h.G=o,z}function Bg(o){if(!o.g&&!o.v){o.Y=1;var h=o.Da;j||T(),H||(j(),H=!0),A.add(h,o),o.A=0}}function Rh(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Es(c(o.Da,o),Hg(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,Fg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Es(c(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),bl(this),Fg(this))};function xh(o){o.B!=null&&(s.clearTimeout(o.B),o.B=null)}function Fg(o){o.g=new hi(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var h=dn(o.na);be(h,"RID","rpc"),be(h,"SID",o.M),be(h,"AID",o.K),be(h,"CI",o.F?"0":"1"),!o.F&&o.ia&&be(h,"TO",o.ia),be(h,"TYPE","xmlhttp"),Os(o,h),o.u&&o.o&&Sh(h,o.u,o.o),o.O&&(o.g.H=o.O);var d=o.g;o=o.ba,d.M=1,d.A=vl(dn(h)),d.u=null,d.R=!0,gg(d,o)}t.Va=function(){this.C!=null&&(this.C=null,bl(this),Rh(this),yt(19))};function Sl(o){o.C!=null&&(s.clearTimeout(o.C),o.C=null)}function qg(o,h){var d=null;if(o.g==h){Sl(o),xh(o),o.g=null;var _=2}else if(Eh(o.h,h))d=h.G,bg(o.h,h),_=1;else return;if(o.I!=0){if(h.o)if(_==1){d=h.u?h.u.length:0,h=Date.now()-h.F;var M=o.D;_=gl(),gt(_,new hg(_,d)),Al(o)}else Bg(o);else if(M=h.m,M==3||M==0&&h.X>0||!(_==1&&A1(o,h)||_==2&&Rh(o)))switch(d&&d.length>0&&(h=o.h,h.i=h.i.concat(d)),M){case 1:dr(o,5);break;case 4:dr(o,10);break;case 3:dr(o,6);break;default:dr(o,2)}}}function Hg(o,h){let d=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(d*=2),d*h}function dr(o,h){if(o.j.info("Error code "+h),h==2){var d=c(o.bb,o),_=o.Ua;const M=!_;_=new fi(_||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ss(_,"https"),vl(_),M?y1(_.toString(),d):_1(_.toString(),d)}else yt(2);o.I=0,o.l&&o.l.pa(h),Gg(o),Ug(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Gg(o){if(o.I=0,o.ja=[],o.l){const h=Ag(o.h);(h.length!=0||o.i.length!=0)&&(C(o.ja,h),C(o.ja,o.i),o.h.i.length=0,y(o.i),o.i.length=0),o.l.oa()}}function Qg(o,h,d){var _=d instanceof fi?dn(d):new fi(d);if(_.g!="")h&&(_.g=h+"."+_.g),ws(_,_.u);else{var M=s.location;_=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;const V=new fi(null);_&&Ss(V,_),h&&(V.g=h),M&&ws(V,M),d&&(V.h=d),_=V}return d=o.G,h=o.wa,d&&h&&be(_,d,h),be(_,"VER",o.ka),Os(o,_),_}function Kg(o,h,d){if(h&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Aa&&!o.ma?new De(new Ah({ab:d})):new De(o.ma),h.Fa(o.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yg(){}t=Yg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wl(){}wl.prototype.g=function(o,h){return new It(o,h)};function It(o,h){ct.call(this),this.g=new kg(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(o?o["X-WebChannel-Client-Profile"]=h.sa:o={"X-WebChannel-Client-Profile":h.sa}),this.g.U=o,(o=h&&h.Qb)&&!R(o)&&(this.g.u=o),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!R(h)&&(this.g.G=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new Jr(this)}m(It,ct),It.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){wh(this.g)},It.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.v&&(d={},d.__data__=fh(o),o=d);h.i.push(new u1(h.Ya++,o)),h.I==3&&Al(h)},It.prototype.N=function(){this.g.l=null,delete this.j,wh(this.g),delete this.g,It.Z.N.call(this)};function $g(o){dh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const d in h){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}m($g,dh);function Xg(){mh.call(this),this.status=1}m(Xg,mh);function Jr(o){this.g=o}m(Jr,Yg),Jr.prototype.ra=function(){gt(this.g,"a")},Jr.prototype.qa=function(o){gt(this.g,new $g(o))},Jr.prototype.pa=function(o){gt(this.g,new Xg)},Jr.prototype.oa=function(){gt(this.g,"b")},wl.prototype.createWebChannel=wl.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,bA=function(){return new wl},TA=function(){return gl()},EA=cr,Md={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yl.NO_ERROR=0,yl.TIMEOUT=8,yl.HTTP_ERROR=6,_u=yl,fg.COMPLETE="complete",vA=fg,og.EventType=_s,_s.OPEN="a",_s.CLOSE="b",_s.ERROR="c",_s.MESSAGE="d",ct.prototype.listen=ct.prototype.J,Ys=og,De.prototype.listenOnce=De.prototype.K,De.prototype.getLastError=De.prototype.Ha,De.prototype.getLastErrorCode=De.prototype.ya,De.prototype.getStatus=De.prototype.ca,De.prototype.getResponseJson=De.prototype.La,De.prototype.getResponseText=De.prototype.la,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Fa,_A=De}).apply(typeof Gl<"u"?Gl:typeof self<"u"?self:typeof window<"u"?window:{});const lv="@firebase/firestore",uv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new op("@firebase/firestore");function ra(){return kr.logLevel}function F(t,...e){if(kr.logLevel<=re.DEBUG){const n=e.map(Ep);kr.debug(`Firestore (${fs}): ${t}`,...n)}}function ri(t,...e){if(kr.logLevel<=re.ERROR){const n=e.map(Ep);kr.error(`Firestore (${fs}): ${t}`,...n)}}function Qa(t,...e){if(kr.logLevel<=re.WARN){const n=e.map(Ep);kr.warn(`Firestore (${fs}): ${t}`,...n)}}function Ep(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,AA(t,i,n)}function AA(t,e,n){let i=`FIRESTORE (${fs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ri(i),new Error(i)}function fe(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||AA(e,r,i)}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}}class eO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tO{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let a=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ki,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ki)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fe(typeof i.accessToken=="string",31837,{l:i}),new SA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string",2055,{h:e}),new ft(e)}}class nO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new nO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){fe(this.o===void 0,3512);const i=a=>{a.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=aO(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<n&&(i+=e.charAt(r[a]%62))}return i}}function ae(t,e){return t<e?-1:t>e?1:0}function Vd(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),a=e.charAt(i);if(r!==a)return bf(r)===bf(a)?ae(r,a):bf(r)?1:-1}return ae(t.length,e.length)}const sO=55296,oO=57343;function bf(t){const e=t.charCodeAt(0);return e>=sO&&e<=oO}function Ka(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="__name__";class gn{constructor(e,n,i){n===void 0?n=0:n>e.length&&K(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&K(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return gn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const a=gn.compareSegments(e.get(r),n.get(r));if(a!==0)return a}return ae(e.length,n.length)}static compareSegments(e,n){const i=gn.isNumericId(e),r=gn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?gn.extractNumericId(e).compare(gn.extractNumericId(n)):Vd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class Ee extends gn{construct(e,n,i){return new Ee(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new q(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const lO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends gn{construct(e,n,i){return new at(e,n,i)}static isValidIdentifier(e){return lO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hv}static keyField(){return new at([hv])}static fromServerFormat(e){const n=[];let i="",r=0;const a=()=>{if(i.length===0)throw new q(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let s=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new q(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(s=!s,r++):l!=="."||s?(i+=l,r++):(a(),r++)}if(a(),s)throw new q(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Ee.fromString(e))}static fromName(e){return new G(Ee.fromString(e).popFirst(5))}static empty(){return new G(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t,e,n){if(!n)throw new q(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uO(t,e,n,i){if(e===!0&&i===!0)throw new q(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fv(t){if(!G.isDocumentKey(t))throw new q(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dv(t){if(G.isDocumentKey(t))throw new q(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function RA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Qc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K(12329,{type:typeof t})}function uc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qc(t);throw new q(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e){const n={typeString:t};return e&&(n.value=e),n}function ll(t,e){if(!RA(t))throw new q(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const s=t[i];if(r&&typeof s!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new q(k.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=-62135596800,pv=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*pv);return new we(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mv)throw new q(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pv}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:we._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ll(e,we._jsonSchema))return new we(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}we._jsonSchemaVersion="firestore/timestamp/1.0",we._jsonSchema={type:He("string",we._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${static fromTimestamp(e){return new $(e)}static min(){return new $(new we(0,0))}static max(){return new $(new we(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=-1;function cO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=$.fromTimestamp(i===1e9?new we(n+1,0):new we(n,i));return new Wi(r,G.empty(),e)}function hO(t){return new Wi(t.readTime,t.key,Po)}class Wi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Wi($.min(),G.empty(),Po)}static max(){return new Wi($.max(),G.empty(),Po)}}function fO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ds(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==dO)throw t;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,i)=>{n(e)})}static reject(e){return new U((n,i)=>{i(e)})}static waitFor(e){return new U((n,i)=>{let r=0,a=0,s=!1;e.forEach(l=>{++r,l.next(()=>{++a,s&&a===r&&n()},u=>i(u))}),s=!0,a===r&&n()})}static or(e){let n=U.resolve(!1);for(const i of e)n=n.next(r=>r?U.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,a)=>{i.push(n.call(this,r,a))}),this.waitFor(i)}static mapArray(e,n){return new U((i,r)=>{const a=e.length,s=new Array(a);let l=0;for(let u=0;u<a;u++){const c=u;n(e[c]).next(f=>{s[c]=f,++l,l===a&&i(s)},f=>r(f))}})}static doWhile(e,n){return new U((i,r)=>{const a=()=>{e()===!0?n().next(()=>{a()},r):i()};a()})}}function pO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ms(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=-1;function Yc(t){return t==null}function cc(t){return t===0&&1/t==-1/0}function gO(t){return typeof t=="number"&&Number.isInteger(t)&&!cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="";function yO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gv(e)),e=_O(t.get(n),e);return gv(e)}function _O(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const a=t.charAt(r);switch(a){case"\0":n+="";break;case xA:n+="";break;default:n+=a}}return n}function gv(t){return t+xA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||nt.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ql(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ql(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ql(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ql(this.root,e,this.comparator,!0)}}class Ql{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nt{constructor(e,n,i,r,a){this.key=e,this.value=n,this.color=i??nt.RED,this.left=r??nt.EMPTY,this.right=a??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,a){return new nt(e??this.key,n??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,n,i),null):a===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return nt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,n,i,r,a){return this}insert(e,n,i){return new nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _v(this.data.getIterator())}getIteratorFrom(e){return new _v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class _v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new on([])}unionWith(e){let n=new Ke(at.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new on(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new IA("Invalid base64 string: "+a):a}}(e);return new lt(n)}static fromUint8Array(e){const n=function(r){let a="";for(let s=0;s<r.length;++s)a+=String.fromCharCode(r[s]);return a}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const vO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(t){if(fe(!!t,39018),typeof t=="string"){let e=0;const n=vO.exec(t);if(fe(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function tr(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="server_timestamp",DA="__type__",OA="__previous_value__",MA="__local_write_time__";function Ap(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[DA])==null?void 0:i.stringValue)===NA}function $c(t){const e=t.mapValue.fields[OA];return Ap(e)?$c(e):e}function Lo(t){const e=er(t.mapValue.fields[MA].timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n,i,r,a,s,l,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f}}const hc="(default)";class ko{constructor(e,n){this.projectId=e,this.database=n||hc}static empty(){return new ko("","")}get isDefaultDatabase(){return this.database===hc}isEqual(e){return e instanceof ko&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="__type__",TO="__max__",Kl={mapValue:{}},PA="__vector__",fc="value";function nr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ap(t)?4:AO(t)?9007199254740991:bO(t)?10:11:K(28295,{value:t})}function Rn(t,e){if(t===e)return!0;const n=nr(t);if(n!==nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lo(t).isEqual(Lo(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const s=er(r.timestampValue),l=er(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,a){return tr(r.bytesValue).isEqual(tr(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,a){return Ve(r.geoPointValue.latitude)===Ve(a.geoPointValue.latitude)&&Ve(r.geoPointValue.longitude)===Ve(a.geoPointValue.longitude)}(t,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Ve(r.integerValue)===Ve(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const s=Ve(r.doubleValue),l=Ve(a.doubleValue);return s===l?cc(s)===cc(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Ka(t.arrayValue.values||[],e.arrayValue.values||[],Rn);case 10:case 11:return function(r,a){const s=r.mapValue.fields||{},l=a.mapValue.fields||{};if(yv(s)!==yv(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!Rn(s[u],l[u])))return!1;return!0}(t,e);default:return K(52216,{left:t})}}function Uo(t,e){return(t.values||[]).find(n=>Rn(n,e))!==void 0}function Ya(t,e){if(t===e)return 0;const n=nr(t),i=nr(e);if(n!==i)return ae(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(a,s){const l=Ve(a.integerValue||a.doubleValue),u=Ve(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return vv(t.timestampValue,e.timestampValue);case 4:return vv(Lo(t),Lo(e));case 5:return Vd(t.stringValue,e.stringValue);case 6:return function(a,s){const l=tr(a),u=tr(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const l=a.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=ae(l[c],u[c]);if(f!==0)return f}return ae(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const l=ae(Ve(a.latitude),Ve(s.latitude));return l!==0?l:ae(Ve(a.longitude),Ve(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ev(t.arrayValue,e.arrayValue);case 10:return function(a,s){var p,y,C,N;const l=a.fields||{},u=s.fields||{},c=(p=l[fc])==null?void 0:p.arrayValue,f=(y=u[fc])==null?void 0:y.arrayValue,m=ae(((C=c==null?void 0:c.values)==null?void 0:C.length)||0,((N=f==null?void 0:f.values)==null?void 0:N.length)||0);return m!==0?m:Ev(c,f)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Kl.mapValue&&s===Kl.mapValue)return 0;if(a===Kl.mapValue)return 1;if(s===Kl.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),c=s.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const p=Vd(u[m],f[m]);if(p!==0)return p;const y=Ya(l[u[m]],c[f[m]]);if(y!==0)return y}return ae(u.length,f.length)}(t.mapValue,e.mapValue);default:throw K(23264,{he:n})}}function vv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=er(t),i=er(e),r=ae(n.seconds,i.seconds);return r!==0?r:ae(n.nanos,i.nanos)}function Ev(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const a=Ya(n[r],i[r]);if(a)return a}return ae(n.length,i.length)}function $a(t){return Pd(t)}function Pd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=er(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return tr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const a of n.values||[])r?r=!1:i+=",",i+=Pd(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",a=!0;for(const s of i)a?a=!1:r+=",",r+=`${s}:${Pd(n.fields[s])}`;return r+"}"}(t.mapValue):K(61005,{value:t})}function vu(t){switch(nr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$c(t);return e?16+vu(e):16;case 5:return 2*t.stringValue.length;case 6:return tr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,a)=>r+vu(a),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return Hr(i.fields,(a,s)=>{r+=a.length+vu(s)}),r}(t.mapValue);default:throw K(13486,{value:t})}}function Tv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ld(t){return!!t&&"integerValue"in t}function Sp(t){return!!t&&"arrayValue"in t}function bv(t){return!!t&&"nullValue"in t}function Av(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eu(t){return!!t&&"mapValue"in t}function bO(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[VA])==null?void 0:i.stringValue)===PA}function mo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Hr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=mo(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mo(t.arrayValue.values[n]);return e}return{...t}}function AO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Eu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mo(n)}setAll(e){let n=at.emptyPath(),i={},r=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}s?i[l.lastSegment()]=mo(s):r.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,r)}delete(e){const n=this.field(e.popLast());Eu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Eu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Hr(n,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Xt(mo(this.value))}}function LA(t){const e=[];return Hr(t.fields,(n,i)=>{const r=new at([n]);if(Eu(i)){const a=LA(i.mapValue).fields;if(a.length===0)e.push(r);else for(const s of a)e.push(r.child(s))}else e.push(r)}),new on(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n,i,r,a,s,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new dt(e,0,$.min(),$.min(),$.min(),Xt.empty(),0)}static newFoundDocument(e,n,i,r){return new dt(e,1,n,$.min(),i,r,0)}static newNoDocument(e,n){return new dt(e,2,n,$.min(),$.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new dt(e,3,n,$.min(),$.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.position=e,this.inclusive=n}}function Sv(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const a=e[r],s=t.position[r];if(a.field.isKeyField()?i=G.comparator(G.fromName(s.referenceValue),n.key):i=Ya(s,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function wv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function SO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{}class Fe extends kA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new RO(e,n,i):n==="array-contains"?new IO(e,i):n==="in"?new NO(e,i):n==="not-in"?new DO(e,i):n==="array-contains-any"?new OO(e,i):new Fe(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new xO(e,i):new CO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ya(n,this.value)):n!==null&&nr(this.value)===nr(n)&&this.matchesComparison(Ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cn extends kA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cn(e,n)}matches(e){return UA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UA(t){return t.op==="and"}function jA(t){return wO(t)&&UA(t)}function wO(t){for(const e of t.filters)if(e instanceof cn)return!1;return!0}function kd(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+$a(t.value);if(jA(t))return t.filters.map(e=>kd(e)).join(",");{const e=t.filters.map(n=>kd(n)).join(",");return`${t.op}(${e})`}}function zA(t,e){return t instanceof Fe?function(i,r){return r instanceof Fe&&i.op===r.op&&i.field.isEqual(r.field)&&Rn(i.value,r.value)}(t,e):t instanceof cn?function(i,r){return r instanceof cn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((a,s,l)=>a&&zA(s,r.filters[l]),!0):!1}(t,e):void K(19439)}function BA(t){return t instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${$a(n.value)}`}(t):t instanceof cn?function(n){return n.op.toString()+" {"+n.getFilters().map(BA).join(" ,")+"}"}(t):"Filter"}class RO extends Fe{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class xO extends Fe{constructor(e,n){super(e,"in",n),this.keys=FA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CO extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=FA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class IO extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sp(n)&&Uo(n.arrayValue,this.value)}}class NO extends Fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uo(this.value.arrayValue,n)}}class DO extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Uo(this.value.arrayValue,n)}}class OO extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Uo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n=null,i=[],r=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=s,this.endAt=l,this.Te=null}}function Rv(t,e=null,n=[],i=[],r=null,a=null,s=null){return new MO(t,e,n,i,r,a,s)}function wp(t){const e=X(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>kd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Yc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>$a(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>$a(i)).join(",")),e.Te=n}return e.Te}function Rp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wv(t.startAt,e.startAt)&&wv(t.endAt,e.endAt)}function Ud(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n=null,i=[],r=[],a=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VO(t,e,n,i,r,a,s,l){return new ul(t,e,n,i,r,a,s,l)}function qA(t){return new ul(t)}function xv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HA(t){return t.collectionGroup!==null}function po(t){const e=X(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Ke(at.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new mc(a,i))}),n.has(at.keyField().canonicalString())||e.Ie.push(new mc(at.keyField(),i))}return e.Ie}function bn(t){const e=X(t);return e.Ee||(e.Ee=PO(e,po(t))),e.Ee}function PO(t,e){if(t.limitType==="F")return Rv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new mc(r.field,a)});const n=t.endAt?new dc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new dc(t.startAt.position,t.startAt.inclusive):null;return Rv(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function jd(t,e){const n=t.filters.concat([e]);return new ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zd(t,e,n){return new ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xc(t,e){return Rp(bn(t),bn(e))&&t.limitType===e.limitType}function GA(t){return`${wp(bn(t))}|lt:${t.limitType}`}function aa(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>BA(r)).join(", ")}]`),Yc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>$a(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>$a(r)).join(",")),`Target(${i})`}(bn(t))}; limitType=${t.limitType})`}function Jc(t,e){return e.isFoundDocument()&&function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):G.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(t,e)&&function(i,r){for(const a of po(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,l,u){const c=Sv(s,l,u);return s.inclusive?c<=0:c<0}(i.startAt,po(i),r)||i.endAt&&!function(s,l,u){const c=Sv(s,l,u);return s.inclusive?c>=0:c>0}(i.endAt,po(i),r))}(t,e)}function LO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QA(t){return(e,n)=>{let i=!1;for(const r of po(t)){const a=kO(r,e,n);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function kO(t,e,n){const i=t.field.isKeyField()?G.comparator(e.key,n.key):function(a,s,l){const u=s.data.field(a),c=l.data.field(a);return u!==null&&c!==null?Ya(u,c):K(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return K(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Hr(this.inner,(n,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return CA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=new Ne(G.comparator);function ai(){return UO}const KA=new Ne(G.comparator);function $s(...t){let e=KA;for(const n of t)e=e.insert(n.key,n);return e}function YA(t){let e=KA;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function br(){return go()}function $A(){return go()}function go(){return new Gr(t=>t.toString(),(t,e)=>t.isEqual(e))}const jO=new Ne(G.comparator),zO=new Ke(G.comparator);function se(...t){let e=zO;for(const n of t)e=e.add(n);return e}const BO=new Ke(ae);function FO(){return BO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function XA(t){return{integerValue:""+t}}function qO(t,e){return gO(e)?XA(e):xp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this._=void 0}}function HO(t,e,n){return t instanceof jo?function(r,a){const s={fields:{[DA]:{stringValue:NA},[MA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&Ap(a)&&(a=$c(a)),a&&(s.fields[OA]=a),{mapValue:s}}(n,e):t instanceof zo?ZA(t,e):t instanceof Bo?WA(t,e):function(r,a){const s=JA(r,a),l=Cv(s)+Cv(r.Ae);return Ld(s)&&Ld(r.Ae)?XA(l):xp(r.serializer,l)}(t,e)}function GO(t,e,n){return t instanceof zo?ZA(t,e):t instanceof Bo?WA(t,e):n}function JA(t,e){return t instanceof pc?function(i){return Ld(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class jo extends Zc{}class zo extends Zc{constructor(e){super(),this.elements=e}}function ZA(t,e){const n=eS(e);for(const i of t.elements)n.some(r=>Rn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Bo extends Zc{constructor(e){super(),this.elements=e}}function WA(t,e){let n=eS(e);for(const i of t.elements)n=n.filter(r=>!Rn(r,i));return{arrayValue:{values:n}}}class pc extends Zc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Cv(t){return Ve(t.integerValue||t.doubleValue)}function eS(t){return Sp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n){this.field=e,this.transform=n}}function KO(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof zo&&r instanceof zo||i instanceof Bo&&r instanceof Bo?Ka(i.elements,r.elements,Rn):i instanceof pc&&r instanceof pc?Rn(i.Ae,r.Ae):i instanceof jo&&r instanceof jo}(t.transform,e.transform)}class YO{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wc{}function tS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iS(t.key,$n.none()):new cl(t.key,t.data,$n.none());{const n=t.data,i=Xt.empty();let r=new Ke(at.comparator);for(let a of e.fields)if(!r.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?i.delete(a):i.set(a,s),r=r.add(a)}return new Qr(t.key,i,new on(r.toArray()),$n.none())}}function $O(t,e,n){t instanceof cl?function(r,a,s){const l=r.value.clone(),u=Nv(r.fieldTransforms,a,s.transformResults);l.setAll(u),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Qr?function(r,a,s){if(!Tu(r.precondition,a))return void a.convertToUnknownDocument(s.version);const l=Nv(r.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(nS(r)),u.setAll(l),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(r,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function yo(t,e,n,i){return t instanceof cl?function(a,s,l,u){if(!Tu(a.precondition,s))return l;const c=a.value.clone(),f=Dv(a.fieldTransforms,u,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Qr?function(a,s,l,u){if(!Tu(a.precondition,s))return l;const c=Dv(a.fieldTransforms,u,s),f=s.data;return f.setAll(nS(a)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,n,i):function(a,s,l){return Tu(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function XO(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),a=JA(i.transform,r||null);a!=null&&(n===null&&(n=Xt.empty()),n.set(i.field,a))}return n||null}function Iv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ka(i,r,(a,s)=>KO(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cl extends Wc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Qr extends Wc{constructor(e,n,i,r,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function nS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Nv(t,e,n){const i=new Map;fe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const a=t[r],s=a.transform,l=e.data.field(a.field);i.set(a.field,GO(s,l,n[r]))}return i}function Dv(t,e,n){const i=new Map;for(const r of t){const a=r.transform,s=n.data.field(r.field);i.set(r.field,HO(a,s,e))}return i}class iS extends Wc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JO extends Wc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&$O(a,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=yo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=yo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=$A();return this.mutations.forEach(r=>{const a=e.get(r.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(r.key)?null:l;const u=tS(s,l);u!==null&&i.set(r.key,u),s.isValidDocument()||s.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,(n,i)=>Iv(n,i))&&Ka(this.baseMutations,e.baseMutations,(n,i)=>Iv(n,i))}}class Cp{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){fe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return jO}();const a=e.mutations;for(let s=0;s<a.length;s++)r=r.insert(a[s].key,i[s].version);return new Cp(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,ue;function t4(t){switch(t){case k.OK:return K(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return K(15467,{code:t})}}function rS(t){if(t===void 0)return ri("GRPC error has no .code"),k.UNKNOWN;switch(t){case Ue.OK:return k.OK;case Ue.CANCELLED:return k.CANCELLED;case Ue.UNKNOWN:return k.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return k.INTERNAL;case Ue.UNAVAILABLE:return k.UNAVAILABLE;case Ue.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ue.NOT_FOUND:return k.NOT_FOUND;case Ue.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ue.ABORTED:return k.ABORTED;case Ue.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ue.DATA_LOSS:return k.DATA_LOSS;default:return K(39323,{code:t})}}(ue=Ue||(Ue={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new Qi([4294967295,4294967295],0);function Ov(t){const e=n4().encode(t),n=new yA;return n.update(e),new Uint8Array(n.digest())}function Mv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qi([n,i],0),new Qi([r,a],0)]}class Ip{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Xs(`Invalid padding: ${n}`);if(i<0)throw new Xs(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Xs(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Xs(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qi.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(Qi.fromNumber(i)));return r.compare(i4)===1&&(r=new Qi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ov(e),[i,r]=Mv(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(i,r,a);if(!this.we(s))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new Ip(a,r,n);return i.forEach(l=>s.insert(l)),s}insert(e){if(this.ge===0)return;const n=Ov(e),[i,r]=Mv(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(i,r,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Xs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,i,r,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,hl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new eh($.min(),r,new Ne(ae),ai(),se())}}class hl{constructor(e,n,i,r,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new hl(i,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n,i,r){this.be=e,this.removedTargetIds=n,this.key=i,this.De=r}}class aS{constructor(e,n){this.targetId=e,this.Ce=n}}class sS{constructor(e,n,i=lt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Vv{constructor(){this.ve=0,this.Fe=Pv(),this.Me=lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=se(),n=se(),i=se();return this.Fe.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:K(38017,{changeType:a})}}),new hl(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Pv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class r4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ai(),this.Je=Yl(),this.He=Yl(),this.Ye=new Ne(ae)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:K(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const a=r.target;if(Ud(a))if(i===0){const s=new G(a.path);this.et(n,s,dt.newNoDocument(s,$.min()))}else fe(i===1,20013,{expectedCount:i});else{const s=this._t(n);if(s!==i){const l=this.ut(e),u=l?this.ct(l,e,s):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=n;let s,l;try{s=tr(i).toUint8Array()}catch(u){if(u instanceof IA)return Qa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Ip(s,r,a)}catch(u){return Qa(u instanceof Xs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(a=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const l=this.ot(s);if(l){if(a.current&&Ud(l.target)){const u=new G(l.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,dt.newNoDocument(u,e))}a.Be&&(n.set(s,a.ke()),a.qe())}});let i=se();this.He.forEach((a,s)=>{let l=!0;s.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const r=new eh(e,n,this.Ye,this.je,i);return this.je=ai(),this.Je=Yl(),this.He=Yl(),this.Ye=new Ne(ae),r}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Vv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ke(ae),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ke(ae),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Vv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Yl(){return new Ne(G.comparator)}function Pv(){return new Ne(G.comparator)}const a4={asc:"ASCENDING",desc:"DESCENDING"},s4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o4={and:"AND",or:"OR"};class l4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bd(t,e){return t.useProto3Json||Yc(e)?e:{value:e}}function gc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u4(t,e){return gc(t,e.toTimestamp())}function An(t){return fe(!!t,49232),$.fromTimestamp(function(n){const i=er(n);return new we(i.seconds,i.nanos)}(t))}function Np(t,e){return Fd(t,e).canonicalString()}function Fd(t,e){const n=function(r){return new Ee(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function lS(t){const e=Ee.fromString(t);return fe(dS(e),10190,{key:e.toString()}),e}function qd(t,e){return Np(t.databaseId,e.path)}function Af(t,e){const n=lS(e);if(n.get(1)!==t.databaseId.projectId)throw new q(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(cS(n))}function uS(t,e){return Np(t.databaseId,e)}function c4(t){const e=lS(t);return e.length===4?Ee.emptyPath():cS(e)}function Hd(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cS(t){return fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Lv(t,e,n){return{name:qd(t,e),fields:n.value.mapValue.fields}}function h4(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:K(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(c,f){return c.useProto3Json?(fe(f===void 0||typeof f=="string",58123),lt.fromBase64String(f||"")):(fe(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),lt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(c){const f=c.code===void 0?k.UNKNOWN:rS(c.code);return new q(f,c.message||"")}(s);n=new sS(i,r,a,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Af(t,i.document.name),a=An(i.document.updateTime),s=i.document.createTime?An(i.document.createTime):$.min(),l=new Xt({mapValue:{fields:i.document.fields}}),u=dt.newFoundDocument(r,a,s,l),c=i.targetIds||[],f=i.removedTargetIds||[];n=new bu(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Af(t,i.document),a=i.readTime?An(i.readTime):$.min(),s=dt.newNoDocument(r,a),l=i.removedTargetIds||[];n=new bu([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Af(t,i.document),a=i.removedTargetIds||[];n=new bu([],a,r,null)}else{if(!("filter"in e))return K(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,s=new e4(r,a),l=i.targetId;n=new aS(l,s)}}return n}function f4(t,e){let n;if(e instanceof cl)n={update:Lv(t,e.key,e.value)};else if(e instanceof iS)n={delete:qd(t,e.key)};else if(e instanceof Qr)n={update:Lv(t,e.key,e.data),updateMask:T4(e.fieldMask)};else{if(!(e instanceof JO))return K(16599,{Vt:e.type});n={verify:qd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(a,s){const l=s.transform;if(l instanceof jo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof pc)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw K(20930,{transform:s.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:u4(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:K(27497)}(t,e.precondition)),n}function d4(t,e){return t&&t.length>0?(fe(e!==void 0,14353),t.map(n=>function(r,a){let s=r.updateTime?An(r.updateTime):An(a);return s.isEqual($.min())&&(s=An(a)),new YO(s,r.transformResults||[])}(n,e))):[]}function m4(t,e){return{documents:[uS(t,e.path)]}}function p4(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=uS(t,r);const a=function(c){if(c.length!==0)return fS(cn.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(f=>function(p){return{field:sa(p.field),direction:_4(p.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Bd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:r}}function g4(t){let e=c4(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){fe(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let a=[];n.where&&(a=function(m){const p=hS(m);return p instanceof cn&&jA(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(p=>function(C){return new mc(oa(C.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(m){let p;return p=typeof m=="object"?m.value:m,Yc(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,y=m.values||[];return new dc(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const p=!m.before,y=m.values||[];return new dc(y,p)}(n.endAt)),VO(e,r,s,a,l,"F",u,c)}function y4(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=oa(n.unaryFilter.field);return Fe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=oa(n.unaryFilter.field);return Fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=oa(n.unaryFilter.field);return Fe.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=oa(n.unaryFilter.field);return Fe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}}(t):t.fieldFilter!==void 0?function(n){return Fe.create(oa(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cn.create(n.compositeFilter.filters.map(i=>hS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return K(1026)}}(n.compositeFilter.op))}(t):K(30097,{filter:t})}function _4(t){return a4[t]}function v4(t){return s4[t]}function E4(t){return o4[t]}function sa(t){return{fieldPath:t.canonicalString()}}function oa(t){return at.fromServerFormat(t.fieldPath)}function fS(t){return t instanceof Fe?function(n){if(n.op==="=="){if(Av(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NAN"}};if(bv(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Av(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NOT_NAN"}};if(bv(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sa(n.field),op:v4(n.op),value:n.value}}}(t):t instanceof cn?function(n){const i=n.getFilters().map(r=>fS(r));return i.length===1?i[0]:{compositeFilter:{op:E4(n.op),filters:i}}}(t):K(54877,{filter:t})}function T4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,i,r,a=$.min(),s=$.min(),l=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.yt=e}}function A4(t){const e=g4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.Cn=new w4}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Wi.min())}updateCollectionGroup(e,n,i){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class w4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ke(Ee.comparator),a=!r.has(i);return this.index[n]=r.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ke(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mS=41943040;class wt{static withCacheSize(e){return new wt(e,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wt.DEFAULT_COLLECTION_PERCENTILE=10,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wt.DEFAULT=new wt(mS,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wt.DISABLED=new wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xa(0)}static cr(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="LruGarbageCollector",R4=1048576;function jv([t,e],[n,i]){const r=ae(t,n);return r===0?ae(e,i):r}class x4{constructor(e){this.Ir=e,this.buffer=new Ke(jv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();jv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){F(Uv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ms(n)?F(Uv,"Ignoring IndexedDB error during garbage collection: ",n):await ds(n)}await this.Vr(3e5)})}}class I4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Kc.ce);const i=new x4(n);return this.mr.forEachTarget(e,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(kv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kv):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,r,a,s,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,s=Date.now(),this.nthSequenceNumber(e,r))).next(m=>(i=m,l=Date.now(),this.removeTargets(e,i,n))).next(m=>(a=m,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(m=>(c=Date.now(),ra()<=re.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${r} in `+(l-s)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:m})))}}function N4(t,e){return new I4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.changes=new Gr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&yo(i.mutation,r,on.empty(),we.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,se()).next(()=>i))}getLocalViewOfDocuments(e,n,i=se()){const r=br();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(a=>{let s=$s();return a.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const i=br();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,se()))}populateOverlays(e,n,i){const r=[];return i.forEach(a=>{n.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,i,r){let a=ai();const s=go(),l=function(){return go()}();return n.forEach((u,c)=>{const f=i.get(c.key);r.has(c.key)&&(f===void 0||f.mutation instanceof Qr)?a=a.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),yo(f.mutation,c,f.mutation.getFieldMask(),we.now())):s.set(c.key,on.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((c,f)=>s.set(c,f)),n.forEach((c,f)=>l.set(c,new O4(f,s.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const i=go();let r=new Ne((s,l)=>s-l),a=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||on.empty();f=l.applyToLocalView(c,f),i.set(u,f);const m=(r.get(l.batchId)||se()).add(u);r=r.insert(l.batchId,m)})}).next(()=>{const s=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,m=$A();f.forEach(p=>{if(!a.has(p)){const y=tS(n.get(p),i.get(p));y!==null&&m.set(p,y),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,m))}return U.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(a=>{const s=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-a.size):U.resolve(br());let l=Po,u=a;return s.next(c=>U.forEach(c,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,u,c,se())).next(f=>({batchId:l,changes:YA(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=$s();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const a=n.collectionGroup;let s=$s();return this.indexManager.getCollectionParents(e,a).next(l=>U.forEach(l,u=>{const c=function(m,p){return new ul(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(f=>{f.forEach((m,p)=>{s=s.insert(m,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,r))).next(s=>{a.forEach((u,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,dt.newInvalidDocument(f)))});let l=$s();return s.forEach((u,c)=>{const f=a.get(u);f!==void 0&&yo(f.mutation,c,on.empty(),we.now()),Jc(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:An(r.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:A4(r.bundledQuery),readTime:An(r.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.overlays=new Ne(G.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const i=br();return U.forEach(n,r=>this.getOverlay(e,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,a)=>{this.St(e,n,a)}),U.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(i)),U.resolve()}getOverlaysForCollection(e,n,i){const r=br(),a=n.length+1,s=new G(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&u.largestBatchId>i&&r.set(u.getKey(),u)}return U.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let a=new Ne((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=a.get(c.largestBatchId);f===null&&(f=br(),a=a.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=br(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=r)););return U.resolve(l)}St(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const s=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new WO(n,i));let a=this.qr.get(n);a===void 0&&(a=se(),this.qr.set(n,a)),this.qr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.Qr=new Ke(Xe.$r),this.Ur=new Ke(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Xe(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new Xe(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new G(new Ee([])),i=new Xe(n,e),r=new Xe(n,e+1),a=[];return this.Ur.forEachInRange([i,r],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new G(new Ee([])),i=new Xe(n,e),r=new Xe(n,e+1);let a=se();return this.Ur.forEachInRange([i,r],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new Xe(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Xe{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return G.comparator(e.key,n.key)||ae(e.Yr,n.Yr)}static Kr(e,n){return ae(e.Yr,n.Yr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ke(Xe.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ZO(a,n,i,r);this.mutationQueue.push(s);for(const l of r)this.Zr=this.Zr.add(new Xe(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ei(i),a=r<0?0:r;return U.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?bp:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Xe(n,0),r=new Xe(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,r],s=>{const l=this.Xr(s.Yr);a.push(l)}),U.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ke(ae);return n.forEach(r=>{const a=new Xe(r,0),s=new Xe(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],l=>{i=i.add(l.Yr)})}),U.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let a=i;G.isDocumentKey(a)||(a=a.child(""));const s=new Xe(new G(a),0);let l=new Ke(ae);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(l=l.add(u.Yr)),!0)},s),U.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(i=>{const r=this.Xr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return U.forEach(n.mutations,r=>{const a=new Xe(r.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new Xe(n,0),r=this.Zr.firstAfterOrEqual(i);return U.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.ri=e,this.docs=function(){return new Ne(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),a=r?r.size:0,s=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(e,n){let i=ai();return n.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():dt.newInvalidDocument(r))}),U.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let a=ai();const s=n.path,l=new G(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||fO(hO(f),i)<=0||(r.has(f.key)||Jc(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return U.resolve(a)}getAllFromCollectionGroup(e,n,i,r){K(9500)}ii(e,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new j4(this)}getSize(e){return U.resolve(this.size)}}class j4 extends D4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.persistence=e,this.si=new Gr(n=>wp(n),Rp),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.oi=0,this._i=new Dp,this.targetCount=0,this.ai=Xa.ur()}forEachTarget(e,n){return this.si.forEach((i,r)=>n(r)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Xa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,i){let r=0;const a=[];return this.si.forEach((s,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),U.waitFor(a).next(()=>r)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return U.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),U.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach(s=>{a.push(r.markPotentiallyOrphaned(e,s))}),U.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return U.resolve(i)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Kc(0),this.li=!1,this.li=!0,this.hi=new L4,this.referenceDelegate=e(this),this.Pi=new z4(this),this.indexManager=new S4,this.remoteDocumentCache=function(r){return new U4(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new b4(n),this.Ii=new V4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new P4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new k4(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){F("MemoryPersistence","Starting transaction:",e);const r=new B4(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(a=>this.referenceDelegate.di(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ai(e,n){return U.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class B4 extends mO{constructor(e){super(),this.currentSequenceNumber=e}}class Op{constructor(e){this.persistence=e,this.Ri=new Dp,this.Vi=null}static mi(e){return new Op(e)}get fi(){if(this.Vi)return this.Vi;throw K(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),U.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(a=>this.fi.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,i=>{const r=G.fromPath(i);return this.gi(e,r).next(a=>{a||n.removeEntry(r,$.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class yc{constructor(e,n){this.persistence=e,this.pi=new Gr(i=>yO(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=N4(this,n)}static mi(e,n){return new yc(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(i,r)=>this.br(e,i,r).next(a=>a?U.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,s=>this.br(e,s,n).next(l=>{l||(i++,a.removeEntry(s,$.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),U.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vu(e.data.value)),n}br(e,n,i){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return U.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=r}static As(e,n){let i=se(),r=se();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Mp(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return f2()?8:pO(mt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const a={result:null};return this.ys(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,n,r,i).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new F4;return this.Ss(e,n,s).next(l=>{if(a.result=l,this.Vs)return this.bs(e,n,s,l.size)})}).next(()=>a.result)}bs(e,n,i,r){return i.documentReadCount<this.fs?(ra()<=re.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(ra()<=re.DEBUG&&F("QueryEngine","Query:",aa(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(ra()<=re.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bn(n))):U.resolve())}ys(e,n){if(xv(n))return U.resolve(null);let i=bn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=zd(n,null,"F"),i=bn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const s=se(...a);return this.ps.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.Ds(n,l);return this.Cs(n,c,s,u.readTime)?this.ys(e,zd(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,i,r){return xv(n)||r.isEqual($.min())?U.resolve(null):this.ps.getDocuments(e,i).next(a=>{const s=this.Ds(n,a);return this.Cs(n,s,i,r)?U.resolve(null):(ra()<=re.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),aa(n)),this.vs(e,s,n,cO(r,Po)).next(l=>l))})}Ds(e,n){let i=new Ke(QA(e));return n.forEach((r,a)=>{Jc(e,a)&&(i=i.add(a))}),i}Cs(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,n,i){return ra()<=re.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",aa(n)),this.ps.getDocumentsMatchingQuery(e,n,Wi.min(),i)}vs(e,n,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="LocalStore",H4=3e8;class G4{constructor(e,n,i,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Ne(ae),this.xs=new Gr(a=>wp(a),Rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Q4(t,e,n,i){return new G4(t,e,n,i)}async function gS(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const s=[],l=[];let u=se();for(const c of r){s.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of a){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:l}))})})}function K4(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const m=c.batch,p=m.keys();let y=U.resolve();return p.forEach(C=>{y=y.next(()=>f.getEntry(u,C)).next(N=>{const I=c.docVersions.get(C);fe(I!==null,48541),N.version.compareTo(I)<0&&(m.applyToRemoteDocument(N,c),N.isValidDocument()&&(N.setReadTime(c.commitVersion),f.addEntry(N)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,i,e,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=se();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function yS(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Y4(t,e){const n=X(t),i=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((f,m)=>{const p=r.get(m);if(!p)return;l.push(n.Pi.removeMatchingKeys(a,f.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(a,f.addedDocuments,m)));let y=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(lt.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,i)),r=r.insert(m,y),function(N,I,E){return N.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=H4?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,y,f)&&l.push(n.Pi.updateTargetData(a,y))});let u=ai(),c=se();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))}),l.push($4(a,s,e.documentUpdates).next(f=>{u=f.ks,c=f.qs})),!i.isEqual($.min())){const f=n.Pi.getLastRemoteSnapshotVersion(a).next(m=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i));l.push(f)}return U.waitFor(l).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,c)).next(()=>u)}).then(a=>(n.Ms=r,a))}function $4(t,e,n){let i=se(),r=se();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let s=ai();return n.forEach((l,u)=>{const c=a.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual($.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):F(Vp,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{ks:s,qs:r}})}function X4(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=bp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function J4(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Pi.getTargetData(i,e).next(a=>a?(r=a,U.resolve(r)):n.Pi.allocateTargetId(i).next(s=>(r=new Mi(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function Gd(t,e,n){const i=X(t),r=i.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,s=>i.persistence.referenceDelegate.removeTarget(s,r))}catch(s){if(!ms(s))throw s;F(Vp,`Failed to update sequence numbers for target ${e}: ${s}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function zv(t,e,n){const i=X(t);let r=$.min(),a=se();return i.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,f){const m=X(u),p=m.xs.get(f);return p!==void 0?U.resolve(m.Ms.get(p)):m.Pi.getTargetData(c,f)}(i,s,bn(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(s,l.targetId).next(u=>{a=u})}).next(()=>i.Fs.getDocumentsMatchingQuery(s,e,n?r:$.min(),n?a:se())).next(l=>(Z4(i,LO(e),l),{documents:l,Qs:a})))}function Z4(t,e,n){let i=t.Os.get(e)||$.min();n.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.Os.set(e,i)}class Bv{constructor(){this.activeTargetIds=FO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W4{constructor(){this.Mo=new Bv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Bv,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="ConnectivityMonitor";class qv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){F(Fv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){F(Fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l=null;function Qd(){return $l===null?$l=function(){return 268435456+Math.round(2147483648*Math.random())}():$l++,"0x"+$l.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="RestConnection",tM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===hc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,n,i,r,a){const s=Qd(),l=this.zo(e,n.toUriEncodedString());F(Sf,`Sending RPC '${e}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,a);const{host:c}=new URL(l),f=us(c);return this.Jo(e,l,u,i,f).then(m=>(F(Sf,`Received RPC '${e}' ${s}: `,m),m),m=>{throw Qa(Sf,`RPC '${e}' ${s} failed with error: `,m,"url: ",l,"request:",i),m})}Ho(e,n,i,r,a,s){return this.Go(e,n,i,r,a)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}zo(e,n){const i=tM[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht="WebChannelConnection";class rM extends nM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,r,a){const s=Qd();return new Promise((l,u)=>{const c=new _A;c.setWithCredentials(!0),c.listenOnce(vA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case _u.NO_ERROR:const m=c.getResponseJson();F(ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case _u.TIMEOUT:F(ht,`RPC '${e}' ${s} timed out`),u(new q(k.DEADLINE_EXCEEDED,"Request time out"));break;case _u.HTTP_ERROR:const p=c.getStatus();if(F(ht,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const C=y==null?void 0:y.error;if(C&&C.status&&C.message){const N=function(E){const v=E.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(v)>=0?v:k.UNKNOWN}(C.status);u(new q(N,C.message))}else u(new q(k.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new q(k.UNAVAILABLE,"Connection failed."));break;default:K(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{F(ht,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(r);F(ht,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",f,i,15)})}T_(e,n,i){const r=Qd(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=bA(),l=TA(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=a.join("");F(ht,`Creating RPC '${e}' stream ${r}: ${f}`,u);const m=s.createWebChannel(f,u);this.I_(m);let p=!1,y=!1;const C=new iM({Yo:I=>{y?F(ht,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(p||(F(ht,`Opening RPC '${e}' stream ${r} transport.`),m.open(),p=!0),F(ht,`RPC '${e}' stream ${r} sending:`,I),m.send(I))},Zo:()=>m.close()}),N=(I,E,v)=>{I.listen(E,S=>{try{v(S)}catch(D){setTimeout(()=>{throw D},0)}})};return N(m,Ys.EventType.OPEN,()=>{y||(F(ht,`RPC '${e}' stream ${r} transport opened.`),C.o_())}),N(m,Ys.EventType.CLOSE,()=>{y||(y=!0,F(ht,`RPC '${e}' stream ${r} transport closed`),C.a_(),this.E_(m))}),N(m,Ys.EventType.ERROR,I=>{y||(y=!0,Qa(ht,`RPC '${e}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),C.a_(new q(k.UNAVAILABLE,"The operation could not be completed")))}),N(m,Ys.EventType.MESSAGE,I=>{var E;if(!y){const v=I.data[0];fe(!!v,16349);const S=v,D=(S==null?void 0:S.error)||((E=S[0])==null?void 0:E.error);if(D){F(ht,`RPC '${e}' stream ${r} received error:`,D);const j=D.status;let H=function(b){const w=Ue[b];if(w!==void 0)return rS(w)}(j),A=D.message;H===void 0&&(H=k.INTERNAL,A="Unknown error status: "+j+" with message "+D.message),y=!0,C.a_(new q(H,A)),m.close()}else F(ht,`RPC '${e}' stream ${r} received:`,v),C.u_(v)}}),N(l,EA.STAT_EVENT,I=>{I.stat===Md.PROXY?F(ht,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===Md.NOPROXY&&F(ht,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){return new l4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n,i=1e3,r=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&F("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="PersistentStream";class vS{constructor(e,n,i,r,a,s,l,u){this.Mi=e,this.S_=i,this.b_=r,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _S(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new q(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return F(Hv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(F(Hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aM extends vS{constructor(e,n,i,r,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=h4(this.serializer,e),i=function(a){if(!("targetChange"in a))return $.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?$.min():s.readTime?An(s.readTime):$.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Hd(this.serializer),n.addTarget=function(a,s){let l;const u=s.target;if(l=Ud(u)?{documents:m4(a,u)}:{query:p4(a,u).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=oS(a,s.resumeToken);const c=Bd(a,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo($.min())>0){l.readTime=gc(a,s.snapshotVersion.toTimestamp());const c=Bd(a,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const i=y4(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Hd(this.serializer),n.removeTarget=e,this.q_(n)}}class sM extends vS{constructor(e,n,i,r,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=d4(e.writeResults,e.commitTime),i=An(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Hd(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>f4(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{}class lM extends oM{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new q(k.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,Fd(n,i),r,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(k.UNKNOWN,a.toString())})}Ho(e,n,i,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Ho(e,Fd(n,i),r,s,l,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(k.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class uM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ri(n),this.aa=!1):F("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="RemoteStore";class cM{constructor(e,n,i,r,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{i.enqueueAndForget(async()=>{Kr(this)&&(F(Ur,"Restarting streams for network reachability change."),await async function(u){const c=X(u);c.Ea.add(4),await fl(c),c.Ra.set("Unknown"),c.Ea.delete(4),await nh(c)}(this))})}),this.Ra=new uM(i,r)}}async function nh(t){if(Kr(t))for(const e of t.da)await e(!0)}async function fl(t){for(const e of t.da)await e(!1)}function ES(t,e){const n=X(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Up(n)?kp(n):ps(n).O_()&&Lp(n,e))}function Pp(t,e){const n=X(t),i=ps(n);n.Ia.delete(e),i.O_()&&TS(n,e),n.Ia.size===0&&(i.O_()?i.L_():Kr(n)&&n.Ra.set("Unknown"))}function Lp(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ps(t).Y_(e)}function TS(t,e){t.Va.Ue(e),ps(t).Z_(e)}function kp(t){t.Va=new r4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ps(t).start(),t.Ra.ua()}function Up(t){return Kr(t)&&!ps(t).x_()&&t.Ia.size>0}function Kr(t){return X(t).Ea.size===0}function bS(t){t.Va=void 0}async function hM(t){t.Ra.set("Online")}async function fM(t){t.Ia.forEach((e,n)=>{Lp(t,e)})}async function dM(t,e){bS(t),Up(t)?(t.Ra.ha(e),kp(t)):t.Ra.set("Unknown")}async function mM(t,e,n){if(t.Ra.set("Online"),e instanceof sS&&e.state===2&&e.cause)try{await async function(r,a){const s=a.cause;for(const l of a.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,s),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(i){F(Ur,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await _c(t,i)}else if(e instanceof bu?t.Va.Ze(e):e instanceof aS?t.Va.st(e):t.Va.tt(e),!n.isEqual($.min()))try{const i=await yS(t.localStore);n.compareTo(i)>=0&&await function(a,s){const l=a.Va.Tt(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=a.Ia.get(c);f&&a.Ia.set(c,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const f=a.Ia.get(u);if(!f)return;a.Ia.set(u,f.withResumeToken(lt.EMPTY_BYTE_STRING,f.snapshotVersion)),TS(a,u);const m=new Mi(f.target,u,c,f.sequenceNumber);Lp(a,m)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){F(Ur,"Failed to raise snapshot:",i),await _c(t,i)}}async function _c(t,e,n){if(!ms(e))throw e;t.Ea.add(1),await fl(t),t.Ra.set("Offline"),n||(n=()=>yS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{F(Ur,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await nh(t)})}function AS(t,e){return e().catch(n=>_c(t,n,e))}async function ih(t){const e=X(t),n=ir(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bp;for(;pM(e);)try{const r=await X4(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,gM(e,r)}catch(r){await _c(e,r)}SS(e)&&wS(e)}function pM(t){return Kr(t)&&t.Ta.length<10}function gM(t,e){t.Ta.push(e);const n=ir(t);n.O_()&&n.X_&&n.ea(e.mutations)}function SS(t){return Kr(t)&&!ir(t).x_()&&t.Ta.length>0}function wS(t){ir(t).start()}async function yM(t){ir(t).ra()}async function _M(t){const e=ir(t);for(const n of t.Ta)e.ea(n.mutations)}async function vM(t,e,n){const i=t.Ta.shift(),r=Cp.from(i,e,n);await AS(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await ih(t)}async function EM(t,e){e&&ir(t).X_&&await async function(i,r){if(function(s){return t4(s)&&s!==k.ABORTED}(r.code)){const a=i.Ta.shift();ir(i).B_(),await AS(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),await ih(i)}}(t,e),SS(t)&&wS(t)}async function Gv(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),F(Ur,"RemoteStore received new credentials");const i=Kr(n);n.Ea.add(3),await fl(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await nh(n)}async function TM(t,e){const n=X(t);e?(n.Ea.delete(2),await nh(n)):e||(n.Ea.add(2),await fl(n),n.Ra.set("Unknown"))}function ps(t){return t.ma||(t.ma=function(n,i,r){const a=X(n);return a.sa(),new aM(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{Xo:hM.bind(null,t),t_:fM.bind(null,t),r_:dM.bind(null,t),H_:mM.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Up(t)?kp(t):t.Ra.set("Unknown")):(await t.ma.stop(),bS(t))})),t.ma}function ir(t){return t.fa||(t.fa=function(n,i,r){const a=X(n);return a.sa(),new sM(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:yM.bind(null,t),r_:EM.bind(null,t),ta:_M.bind(null,t),na:vM.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ih(t)):(await t.fa.stop(),t.Ta.length>0&&(F(Ur,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,i,r,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,a){const s=Date.now()+i,l=new jp(e,n,s,r,a);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(t,e){if(ri("AsyncQueue",`${e}: ${t}`),ms(t))return new q(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{static emptySet(e){return new Na(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=$s(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Na;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.ga=new Ne(G.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):K(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ja{constructor(e,n,i,r,a,s,l,u,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,a){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new Ja(e,n,Na.emptySet(n),s,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class AM{constructor(){this.queries=Kv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=X(n),a=r.queries;r.queries=Kv(),a.forEach((s,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new q(k.ABORTED,"Firestore shutting down"))}}function Kv(){return new Gr(t=>GA(t),Xc)}async function SM(t,e){const n=X(t);let i=3;const r=e.query;let a=n.queries.get(r);a?!a.ba()&&e.Da()&&(i=2):(a=new bM,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(r,!0);break;case 1:a.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(s){const l=zp(s,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Bp(n)}async function wM(t,e){const n=X(t),i=e.query;let r=3;const a=n.queries.get(i);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?r=e.Da()?0:1:!a.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function RM(t,e){const n=X(t);let i=!1;for(const r of e){const a=r.query,s=n.queries.get(a);if(s){for(const l of s.Sa)l.Fa(r)&&(i=!0);s.wa=r}}i&&Bp(n)}function xM(t,e,n){const i=X(t),r=i.queries.get(e);if(r)for(const a of r.Sa)a.onError(n);i.queries.delete(e)}function Bp(t){t.Ca.forEach(e=>{e.next()})}var Kd,Yv;(Yv=Kd||(Kd={})).Ma="default",Yv.Cache="cache";class CM{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Ja(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.key=e}}class xS{constructor(e){this.key=e}}class IM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=se(),this.mutatedKeys=se(),this.eu=QA(e),this.tu=new Na(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Qv,r=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,m)=>{const p=r.get(f),y=Jc(this.query,m)?m:null,C=!!p&&this.mutatedKeys.has(p.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;p&&y?p.data.isEqual(y.data)?C!==N&&(i.track({type:3,doc:y}),I=!0):this.su(p,y)||(i.track({type:2,doc:y}),I=!0,(u&&this.eu(y,u)>0||c&&this.eu(y,c)<0)&&(l=!0)):!p&&y?(i.track({type:0,doc:y}),I=!0):p&&!y&&(i.track({type:1,doc:p}),I=!0,(u||c)&&(l=!0)),I&&(y?(s=s.add(y),a=N?a.add(f):a.delete(f)):(s=s.delete(f),a=a.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),a=a.delete(f.key),i.track({type:1,doc:f})}return{tu:s,iu:i,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((f,m)=>function(y,C){const N=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{Rt:I})}};return N(y)-N(C)}(f.type,m.type)||this.eu(f.doc,m.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,c=u!==this.Za;return this.Za=u,s.length!==0||c?{snapshot:new Ja(this.query,e.tu,a,s,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=se(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new xS(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new RS(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=se();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fp="SyncEngine";class NM{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class DM{constructor(e){this.key=e,this.hu=!1}}class OM{constructor(e,n,i,r,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Gr(l=>GA(l),Xc),this.Iu=new Map,this.Eu=new Set,this.du=new Ne(G.comparator),this.Au=new Map,this.Ru=new Dp,this.Vu={},this.mu=new Map,this.fu=Xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MM(t,e,n=!0){const i=MS(t);let r;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await CS(i,e,n,!0),r}async function VM(t,e){const n=MS(t);await CS(n,e,!0,!1)}async function CS(t,e,n,i){const r=await J4(t.localStore,bn(e)),a=r.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return i&&(l=await PM(t,e,a,s==="current",r.resumeToken)),t.isPrimaryClient&&n&&ES(t.remoteStore,r),l}async function PM(t,e,n,i,r){t.pu=(m,p,y)=>async function(N,I,E,v){let S=I.view.ru(E);S.Cs&&(S=await zv(N.localStore,I.query,!1).then(({documents:A})=>I.view.ru(A,S)));const D=v&&v.targetChanges.get(I.targetId),j=v&&v.targetMismatches.get(I.targetId)!=null,H=I.view.applyChanges(S,N.isPrimaryClient,D,j);return Xv(N,I.targetId,H.au),H.snapshot}(t,m,p,y);const a=await zv(t.localStore,e,!0),s=new IM(e,a.Qs),l=s.ru(a.documents),u=hl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=s.applyChanges(l,t.isPrimaryClient,u);Xv(t,n,c.au);const f=new NM(e,n,s);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function LM(t,e,n){const i=X(t),r=i.Tu.get(e),a=i.Iu.get(r.targetId);if(a.length>1)return i.Iu.set(r.targetId,a.filter(s=>!Xc(s,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Gd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Pp(i.remoteStore,r.targetId),Yd(i,r.targetId)}).catch(ds)):(Yd(i,r.targetId),await Gd(i.localStore,r.targetId,!0))}async function kM(t,e){const n=X(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Pp(n.remoteStore,i.targetId))}async function UM(t,e,n){const i=GM(t);try{const r=await function(s,l){const u=X(s),c=we.now(),f=l.reduce((y,C)=>y.add(C.key),se());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=ai(),N=se();return u.Ns.getEntries(y,f).next(I=>{C=I,C.forEach((E,v)=>{v.isValidDocument()||(N=N.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(I=>{m=I;const E=[];for(const v of l){const S=XO(v,m.get(v.key).overlayedDocument);S!=null&&E.push(new Qr(v.key,S,LA(S.value.mapValue),$n.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,E,l)}).next(I=>{p=I;const E=I.applyToLocalDocumentSet(m,N);return u.documentOverlayCache.saveOverlays(y,I.batchId,E)})}).then(()=>({batchId:p.batchId,changes:YA(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,u){let c=s.Vu[s.currentUser.toKey()];c||(c=new Ne(ae)),c=c.insert(l,u),s.Vu[s.currentUser.toKey()]=c}(i,r.batchId,n),await dl(i,r.changes),await ih(i.remoteStore)}catch(r){const a=zp(r,"Failed to persist write");n.reject(a)}}async function IS(t,e){const n=X(t);try{const i=await Y4(n.localStore,e);e.targetChanges.forEach((r,a)=>{const s=n.Au.get(a);s&&(fe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?s.hu=!0:r.modifiedDocuments.size>0?fe(s.hu,14607):r.removedDocuments.size>0&&(fe(s.hu,42227),s.hu=!1))}),await dl(n,i,e)}catch(i){await ds(i)}}function $v(t,e,n){const i=X(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((a,s)=>{const l=s.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(s,l){const u=X(s);u.onlineState=l;let c=!1;u.queries.forEach((f,m)=>{for(const p of m.Sa)p.va(l)&&(c=!0)}),c&&Bp(u)}(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jM(t,e,n){const i=X(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),a=r&&r.key;if(a){let s=new Ne(G.comparator);s=s.insert(a,dt.newNoDocument(a,$.min()));const l=se().add(a),u=new eh($.min(),new Map,new Ne(ae),s,l);await IS(i,u),i.du=i.du.remove(a),i.Au.delete(e),qp(i)}else await Gd(i.localStore,e,!1).then(()=>Yd(i,e,n)).catch(ds)}async function zM(t,e){const n=X(t),i=e.batch.batchId;try{const r=await K4(n.localStore,e);DS(n,i,null),NS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await dl(n,r)}catch(r){await ds(r)}}async function BM(t,e,n){const i=X(t);try{const r=await function(s,l){const u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(m=>(fe(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(i.localStore,e);DS(i,e,n),NS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await dl(i,r)}catch(r){await ds(r)}}function NS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function DS(t,e,n){const i=X(t);let r=i.Vu[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(n?a.reject(n):a.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function Yd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||OS(t,i)})}function OS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Pp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),qp(t))}function Xv(t,e,n){for(const i of n)i instanceof RS?(t.Ru.addReference(i.key,e),FM(t,i)):i instanceof xS?(F(Fp,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||OS(t,i.key)):K(19791,{wu:i})}function FM(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(F(Fp,"New document in limbo: "+n),t.Eu.add(i),qp(t))}function qp(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(Ee.fromString(e)),i=t.fu.next();t.Au.set(i,new DM(n)),t.du=t.du.insert(n,i),ES(t.remoteStore,new Mi(bn(qA(n.path)),i,"TargetPurposeLimboResolution",Kc.ce))}}async function dl(t,e,n){const i=X(t),r=[],a=[],s=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{s.push(i.pu(u,e,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const m=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){r.push(c);const m=Mp.As(u.targetId,c);a.push(m)}}))}),await Promise.all(s),i.Pu.H_(r),await async function(u,c){const f=X(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>U.forEach(c,p=>U.forEach(p.Es,y=>f.persistence.referenceDelegate.addReference(m,p.targetId,y)).next(()=>U.forEach(p.ds,y=>f.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))}catch(m){if(!ms(m))throw m;F(Vp,"Failed to update sequence numbers: "+m)}for(const m of c){const p=m.targetId;if(!m.fromCache){const y=f.Ms.get(p),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);f.Ms=f.Ms.insert(p,N)}}}(i.localStore,a))}async function qM(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){F(Fp,"User change. New user:",e.toKey());const i=await gS(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(l=>{l.forEach(u=>{u.reject(new q(k.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await dl(n,i.Ls)}}function HM(t,e){const n=X(t),i=n.Au.get(e);if(i&&i.hu)return se().add(i.key);{let r=se();const a=n.Iu.get(e);if(!a)return r;for(const s of a){const l=n.Tu.get(s);r=r.unionWith(l.view.nu)}return r}}function MS(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jM.bind(null,e),e.Pu.H_=RM.bind(null,e.eventManager),e.Pu.yu=xM.bind(null,e.eventManager),e}function GM(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BM.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=th(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Q4(this.persistence,new q4,e.initialUser,this.serializer)}Cu(e){return new pS(Op.mi,this.serializer)}Du(e){return new W4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class QM extends vc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){fe(this.persistence.referenceDelegate instanceof yc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new C4(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wt.withCacheSize(this.cacheSizeBytes):wt.DEFAULT;return new pS(i=>yc.mi(i,n),this.serializer)}}class $d{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$v(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=qM.bind(null,this.syncEngine),await TM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AM}()}createDatastore(e){const n=th(e.databaseInfo.databaseId),i=function(a){return new rM(a)}(e.databaseInfo);return function(a,s,l,u){return new lM(a,s,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,a,s,l){return new cM(i,r,a,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>$v(this.syncEngine,n,0),function(){return qv.v()?new qv:new eM}())}createSyncEngine(e,n){return function(r,a,s,l,u,c,f){const m=new OM(r,a,s,l,u,c);return f&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const a=X(r);F(Ur,"RemoteStore shutting down."),a.Ea.add(5),await fl(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}$d.provider={build:()=>new $d};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="FirestoreClient";class YM{constructor(e,n,i,r,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=ft.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async s=>{F(rr,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(F(rr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=zp(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Rf(t,e){t.asyncQueue.verifyOperationInProgress(),F(rr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await gS(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Jv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $M(t);F(rr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Gv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>Gv(e.remoteStore,r)),t._onlineComponents=e}async function $M(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F(rr,"Using user provided OfflineComponentProvider");try{await Rf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===k.FAILED_PRECONDITION||r.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Qa("Error using user provided cache. Falling back to memory cache: "+n),await Rf(t,new vc)}}else F(rr,"Using default OfflineComponentProvider"),await Rf(t,new QM(void 0));return t._offlineComponents}async function VS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(F(rr,"Using user provided OnlineComponentProvider"),await Jv(t,t._uninitializedComponentsProvider._online)):(F(rr,"Using default OnlineComponentProvider"),await Jv(t,new $d))),t._onlineComponents}function XM(t){return VS(t).then(e=>e.syncEngine)}async function JM(t){const e=await VS(t),n=e.eventManager;return n.onListen=MM.bind(null,e.syncEngine),n.onUnlisten=LM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kM.bind(null,e.syncEngine),n}function ZM(t,e,n={}){const i=new Ki;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,l,u,c){const f=new KM({next:p=>{f.Nu(),s.enqueueAndForget(()=>wM(a,m)),p.fromCache&&u.source==="server"?c.reject(new q(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new CM(l,f,{includeMetadataChanges:!0,qa:!0});return SM(a,m)}(await JM(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firestore.googleapis.com",Wv=!0;class eE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LS,this.ssl=Wv}else this.host=e.host,this.ssl=e.ssl??Wv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R4)throw new q(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PS(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new WD;switch(i.type){case"firstParty":return new iO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Zv.get(n);i&&(F("ComponentProvider","Removing Datastore"),Zv.delete(n),i.terminate())}(this),Promise.resolve()}}function WM(t,e,n,i={}){var c;t=uc(t,rh);const r=us(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(Nb(`https://${l}`),Db("Firestore",!0)),a.host!==LS&&a.host!==l&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:l,ssl:r,emulatorOptions:i};if(!Mr(u,s)&&(t._setSettings(u),i.mockUserToken)){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=ft.MOCK_USER;else{f=i2(i.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new q(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ft(p)}t._authCredentials=new eO(new SA(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class We{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new We(this.firestore,e,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(ll(n,We._jsonSchema))return new We(e,i||null,new G(Ee.fromString(n.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:He("string",We._jsonSchemaVersion),referencePath:He("string")};class Yi extends gs{constructor(e,n,i){super(e,n,qA(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new G(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function Xd(t,e,...n){if(t=pt(t),wA("collection","path",e),t instanceof rh){const i=Ee.fromString(e,...n);return dv(i),new Yi(t,null,i)}{if(!(t instanceof We||t instanceof Yi))throw new q(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ee.fromString(e,...n));return dv(i),new Yi(t.firestore,null,i)}}function e3(t,e,...n){if(t=pt(t),arguments.length===1&&(e=Tp.newId()),wA("doc","path",e),t instanceof rh){const i=Ee.fromString(e,...n);return fv(i),new We(t,null,new G(i))}{if(!(t instanceof We||t instanceof Yi))throw new q(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ee.fromString(e,...n));return fv(i),new We(t.firestore,t instanceof Yi?t.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="AsyncQueue";class nE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _S(this,"async_queue_retry"),this._c=()=>{const i=wf();i&&F(tE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=wf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ki;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ms(e))throw e;F(tE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,ri("INTERNAL UNHANDLED ERROR: ",iE(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=jp.createAndSchedule(this,e,n,i,a=>this.hc(a));return this.tc.push(r),r}uc(){this.nc&&K(47125,{Pc:iE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function iE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Hp extends rh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new nE,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nE(e),this._firestoreClient=void 0,await e}}}function t3(t,e){const n=typeof t=="object"?t:Pb(),i=typeof t=="string"?t:hc,r=up(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=t2("firestore");a&&WM(r,...a)}return r}function kS(t){if(t._terminated)throw new q(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n3(t),t._firestoreClient}function n3(t){var i,r,a;const e=t._freezeSettings(),n=function(l,u,c,f){return new EO(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,PS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jt(lt.fromBase64String(e))}catch(n){throw new q(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jt(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ll(e,Jt._jsonSchema))return Jt.fromBase64String(e.bytes)}}Jt._jsonSchemaVersion="firestore/bytes/1.0",Jt._jsonSchema={type:He("string",Jt._jsonSchemaVersion),bytes:He("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sn._jsonSchemaVersion}}static fromJSON(e){if(ll(e,Sn._jsonSchema))return new Sn(e.latitude,e.longitude)}}Sn._jsonSchemaVersion="firestore/geoPoint/1.0",Sn._jsonSchema={type:He("string",Sn._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ll(e,wn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new wn(e.vectorValues);throw new q(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wn._jsonSchemaVersion="firestore/vectorValue/1.0",wn._jsonSchema={type:He("string",wn._jsonSchemaVersion),vectorValues:He("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=/^__.*__$/;class r3{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new cl(e,this.data,n,this.fieldTransforms)}}function US(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{Ac:t})}}class Kp{constructor(e,n,i,r,a,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ec(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(US(this.Ac)&&i3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class a3{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||th(e)}Cc(e,n,i,r=!1){return new Kp({Ac:e,methodName:n,Dc:i,path:at.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jS(t){const e=t._freezeSettings(),n=th(t._databaseId);return new a3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function s3(t,e,n,i,r,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,r);FS("Data must be an object, but it was:",s,i);const l=zS(i,s);let u,c;if(a.merge)u=new on(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const f=[];for(const m of a.mergeFields){const p=l3(e,m,n);if(!s.contains(p))throw new q(k.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);c3(f,p)||f.push(p)}u=new on(f),c=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=s.fieldTransforms;return new r3(new Xt(l),u,c)}class Yp extends Qp{_toFieldTransform(e){return new QO(e.path,new jo)}isEqual(e){return e instanceof Yp}}function o3(t,e,n,i=!1){return $p(n,t.Cc(i?4:3,e))}function $p(t,e){if(BS(t=pt(t)))return FS("Unsupported field value:",e,t),zS(t,e);if(t instanceof Qp)return function(i,r){if(!US(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,r){const a=[];let s=0;for(const l of i){let u=$p(l,r.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),s++}return{arrayValue:{values:a}}}(t,e)}return function(i,r){if((i=pt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return qO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=we.fromDate(i);return{timestampValue:gc(r.serializer,a)}}if(i instanceof we){const a=new we(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:gc(r.serializer,a)}}if(i instanceof Sn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jt)return{bytesValue:oS(r.serializer,i._byteString)};if(i instanceof We){const a=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(a))throw r.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Np(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof wn)return function(s,l){return{mapValue:{fields:{[VA]:{stringValue:PA},[fc]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw l.Sc("VectorValues must only contain numeric values.");return xp(l.serializer,c)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${Qc(i)}`)}(t,e)}function zS(t,e){const n={};return CA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hr(t,(i,r)=>{const a=$p(r,e.mc(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function BS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof we||t instanceof Sn||t instanceof Jt||t instanceof We||t instanceof Qp||t instanceof wn)}function FS(t,e,n){if(!BS(n)||!RA(n)){const i=Qc(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function l3(t,e,n){if((e=pt(e))instanceof Gp)return e._internalPath;if(typeof e=="string")return qS(t,e);throw Ec("Field path arguments must be of type string or ",t,!1,void 0,n)}const u3=new RegExp("[~\\*/\\[\\]]");function qS(t,e,n){if(e.search(u3)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gp(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ec(t,e,n,i,r){const a=i&&!i.isEmpty(),s=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||s)&&(u+=" (found",a&&(u+=` in field ${i}`),s&&(u+=` in document ${r}`),u+=")"),new q(k.INVALID_ARGUMENT,l+t+u)}function c3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,i,r,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h3 extends HS{data(){return super.data()}}function Xp(t,e){return typeof e=="string"?qS(t,e):e instanceof Gp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class d3 extends Jp{}function m3(t,e,...n){let i=[];e instanceof Jp&&i.push(e),i=i.concat(n),function(a){const s=a.filter(u=>u instanceof Zp).length,l=a.filter(u=>u instanceof ah).length;if(s>1||s>0&&l>0)throw new q(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class ah extends d3{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ah(e,n,i)}_apply(e){const n=this._parse(e);return GS(e._query,n),new gs(e.firestore,e.converter,jd(e._query,n))}_parse(e){const n=jS(e.firestore);return function(a,s,l,u,c,f,m){let p;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new q(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){aE(m,f);const C=[];for(const N of m)C.push(rE(u,a,N));p={arrayValue:{values:C}}}else p=rE(u,a,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||aE(m,f),p=o3(l,s,m,f==="in"||f==="not-in");return Fe.create(c,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function p3(t,e,n){const i=e,r=Xp("where",t);return ah._create(r,i,n)}class Zp extends Jp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zp(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:cn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,a){let s=r;const l=a.getFlattenedFilters();for(const u of l)GS(s,u),s=jd(s,u)}(e._query,n),new gs(e.firestore,e.converter,jd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rE(t,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new q(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HA(e)&&n.indexOf("/")!==-1)throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ee.fromString(n));if(!G.isDocumentKey(i))throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Tv(t,new G(i))}if(n instanceof We)return Tv(t,n._key);throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qc(n)}.`)}function aE(t,e){if(!Array.isArray(t)||t.length===0)throw new q(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GS(t,e){const n=function(r,a){for(const s of r)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class g3{convertValue(e,n="none"){switch(nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw K(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Hr(e,(r,a)=>{i[r]=this.convertValue(a,n)}),i}convertVectorValue(e){var i,r,a;const n=(a=(r=(i=e.fields)==null?void 0:i[fc].arrayValue)==null?void 0:r.values)==null?void 0:a.map(s=>Ve(s.doubleValue));return new wn(n)}convertGeoPoint(e){return new Sn(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=$c(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Lo(e));default:return null}}convertTimestamp(e){const n=er(e);return new we(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ee.fromString(e);fe(dS(i),9688,{name:e});const r=new ko(i.get(1),i.get(3)),a=new G(i.popFirst(5));return r.isEqual(n)||ri(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Da extends HS{constructor(e,n,i,r,a,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Xp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:He("string",Da._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class Au extends Da{data(e={}){return super.data(e)}}class Oa{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Xl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Au(this._firestore,this._userDataWriter,i.key,i,new Xl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(l=>{const u=new Au(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Xl(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const u=new Au(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Xl(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,f=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:_3(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:t})}}Oa._jsonSchemaVersion="firestore/querySnapshot/1.0",Oa._jsonSchema={type:He("string",Oa._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};class v3 extends g3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}}function E3(t){t=uc(t,gs);const e=uc(t.firestore,Hp),n=kS(e),i=new v3(e);return f3(t._query),ZM(n,t._query).then(r=>new Oa(e,i,t,r))}function QS(t,e){const n=uc(t.firestore,Hp),i=e3(t),r=y3(t.converter,e);return T3(n,[s3(jS(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,$n.exists(!1))]).then(()=>i)}function T3(t,e){return function(i,r){const a=new Ki;return i.asyncQueue.enqueueAndForget(async()=>UM(await XM(i),r,a)),a.promise}(kS(t),e)}function b3(){return new Yp("serverTimestamp")}(function(e,n=!0){(function(r){fs=r})(cs),Ha(new Vr("firestore",(i,{instanceIdentifier:r,options:a})=>{const s=i.getProvider("app").getImmediate(),l=new Hp(new tO(i.getProvider("auth-internal")),new rO(s,i.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ko(c.options.projectId,f)}(s,r),s);return a={useFetchStreams:n,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Gi(lv,uv,e),Gi(lv,uv,"esm2020")})();const A3={apiKey:"AIzaSyAkALoqnH9haoyExBTjgNji42urZQU4TmQ",authDomain:"mi-proyecto-336a0.firebaseapp.com",projectId:"mi-proyecto-336a0",storageBucket:"mi-proyecto-336a0.appspot.com",messagingSenderId:"820500491445",appId:"1:820500491445:web:072c097cd5d09dbae362fc"},KS=Vb(A3),ea=JD(KS),Jd=t3(KS),YS=P.createContext(null);function S3({children:t}){const[e,n]=P.useState(null),[i,r]=P.useState(!0),[a,s]=P.useState(""),l=new Un;P.useEffect(()=>{const y=jN(ea,C=>{n(C||null),r(!1)});return()=>y()},[]);const u=async({email:y,password:C,displayName:N})=>{s("");const I=await MN(ea,y,C);return N&&await LN(I.user,{displayName:N}),I.user},c=async({email:y,password:C})=>{s("");const{user:N}=await VN(ea,y,C);return N},f=async()=>(s(""),(await sD(ea,l)).user),m=()=>zN(ea),p=y=>ON(ea,y);return g.jsx(YS.Provider,{value:{user:e,loading:i,error:a,setError:s,register:u,login:c,logout:m,resetPassword:p,loginWithGoogle:f},children:t})}const ml=()=>P.useContext(YS);function w3(){const{user:t,logout:e}=ml();return g.jsx("div",{className:"bg-[#493D9E] flex justify-evenly items-center px-10 py-6 sticky top-0 z-10",children:g.jsxs("nav",{className:"grid grid-cols-[1.7fr_4fr_2fr] gap-3 w-full items-center",children:[g.jsx("div",{className:"text-white text-2xl font-bold self-center",children:"Digital Dreamers"}),g.jsxs("div",{className:"flex justify-center items-center gap-4 text-white text-lg font-semibold",children:[g.jsx(qt,{to:"/",className:"menu-boton border-none px-3 py-2 rounded-full bg-[#493D9E] transition-transform duration-300 ease-in-out hover:bg-[#DAD2FF] hover:text-[#493D9E] hover:shadow-md hover:-translate-y-1 active:bg-[#493D9E] active:text-[#FFF2AF]",children:"Inicio"}),g.jsx(qt,{to:"/nosotras",className:"menu-boton border-none px-3 py-2 rounded-full bg-[#493D9E] transition-transform duration-300 ease-in-out hover:bg-[#DAD2FF] hover:text-[#493D9E] hover:shadow-md hover:-translate-y-1 active:bg-[#493D9E] active:text-[#FFF2AF]",children:"Sobre nosotras"}),g.jsx(qt,{to:"/valores",className:"menu-boton border-none px-3 py-2 rounded-full bg-[#493D9E] transition-transform duration-300 ease-in-out hover:bg-[#DAD2FF] hover:text-[#493D9E] hover:shadow-md hover:-translate-y-1 active:bg-[#493D9E] active:text-[#FFF2AF]",children:"Nuestros valores"}),g.jsx(qt,{to:"/contacto",className:"menu-boton border-none px-3 py-2 rounded-full bg-[#493D9E] transition-transform duration-300 ease-in-out hover:bg-[#DAD2FF] hover:text-[#493D9E] hover:shadow-md hover:-translate-y-1 active:bg-[#493D9E] active:text-[#FFF2AF]",children:"Contacto"}),g.jsx(qt,{to:"/confianza",className:"menu-boton border-none px-3 py-2 rounded-full bg-[#493D9E] transition-transform duration-300 ease-in-out hover:bg-[#DAD2FF] hover:text-[#493D9E] hover:shadow-md hover:-translate-y-1 active:bg-[#493D9E] active:text-[#FFF2AF]",children:"Confianza"})]}),g.jsxs("div",{className:"flex justify-center items-center gap-4",children:[g.jsxs("div",{className:"flex justify-center items-center gap-2 bg-[#FFF2AF] px-3 py-2 rounded-2xl shadow-md max-w-[60%]",children:[g.jsx("input",{type:"text",placeholder:"Buscar",className:"border-none bg-transparent text-[#493D9E] text-base focus:outline-none w-[60%]"}),g.jsx("button",{type:"submit",className:"bg-none border-none text-[#493D9E] rounded-full cursor-pointer transition duration-300 hover:bg-[#B2A5FF] px-2",children:""})]}),g.jsx("div",{className:"flex items-center gap-3 text-white text-sm",children:t?g.jsxs(g.Fragment,{children:[g.jsxs("span",{className:"text-[#FFF2AF]",children:["Hola, ",t.displayName||t.email]}),g.jsx(qt,{to:"/dashboard",className:"px-3 py-1.5 rounded bg-[#FFF2AF] text-[#493D9E] font-semibold transition duration-300 hover:bg-[#B2A5FF]",children:"Dashboard"}),g.jsx(qt,{to:"/perfil",className:"px-3 py-1.5 rounded border border-[#FFF2AF] font-semibold hover:bg-[#DAD2FF] hover:text-[#493D9E] transition",children:"Perfil"}),g.jsx("button",{onClick:e,className:"px-3 py-1.5 rounded border border-[#FFF2AF] font-semibold hover:bg-[#DAD2FF] hover:text-[#493D9E] transition",children:"Salir"})]}):g.jsx(qt,{to:"/login",className:"px-3 py-1.5 rounded bg-[#FFF2AF] text-[#493D9E] font-semibold hover:bg-[#DAD2FF] transition",children:"Iniciar sesin"})})]})]})})}function R3(){return g.jsx("footer",{className:"bg-[#493D9E] text-[#FFFFFF] flex justify-center py-9 text-lg font-bold",children:g.jsx("p",{children:" 2025 Digital Dreamers. Todos los derechos reservados."})})}const x3=[{id:1,proyectoId:1,nombre:"Mara Huamn",rol:"Fundadora de Cooperativa EcoRaces",motivacion:"Quise crear una red justa donde los agricultores pudieran vender sus productos sin intermediarios, promoviendo el consumo responsable.",testimonio:"Trabajar con su equipo fue una experiencia transformadora. Lograron traducir nuestra misin ecolgica en una plataforma funcional, clida y accesible para productores rurales. Hoy sentimos que nuestra causa tiene voz digital."},{id:2,proyectoId:2,nombre:"Carolina Surez",rol:"Directora de Mujeres que Inspiran",motivacion:"Buscaba un espacio para visibilizar historias de mujeres fuertes, creativas y resilientes en Latinoamrica.",testimonio:"El diseo y la sensibilidad del equipo fueron increbles. Entendieron perfectamente la esencia del proyecto y nos ayudaron a construir una comunidad digital autntica y emptica."},{id:3,proyectoId:3,nombre:"Diego Salazar",rol:"Cofundador de GreenCycle App",motivacion:"Queramos facilitar el reciclaje urbano mediante tecnologa y educacin ambiental.",testimonio:"Su equipo combin innovacin y propsito social. Nos acompaaron en todo el proceso, desde la idea hasta el lanzamiento. Gracias a ellos, la app super nuestras expectativas tcnicas y de impacto."},{id:4,proyectoId:4,nombre:"Rosa Quispe",rol:"Lder del Colectivo Artesanas del Sol",motivacion:"Nuestro sueo era vender nuestras artesanas hechas con materiales reciclados y llegar a ms personas sin perder nuestra identidad.",testimonio:"Nos escucharon con paciencia y disearon una tienda hermosa y fcil de usar. Por primera vez sentimos que nuestra historia se cuenta tambin a travs del diseo."},{id:5,proyectoId:5,nombre:"Alejandro Paredes",rol:"CEO de BioMarket Per",motivacion:"Queramos conectar a productores ecolgicos con consumidores que valoran el origen de lo que compran.",testimonio:"El resultado fue un marketplace gil, estticamente impecable y alineado con nuestra filosofa verde. Su profesionalismo y compromiso marcaron la diferencia."},{id:6,proyectoId:6,nombre:"Luca Ramos",rol:"Fundadora de Fundacin Races",motivacion:"Desebamos ensear sobre huertos urbanos y sostenibilidad de forma digital para llegar a ms familias.",testimonio:"El equipo entendi que no solo queramos una web, sino una herramienta educativa viva. Disearon una experiencia interactiva que realmente inspira a aprender y sembrar."},{id:7,proyectoId:7,nombre:"Marta Aguilar",rol:"Directora de Caf Femenino",motivacion:"Nuestro caf naci para empoderar a mujeres campesinas y contar sus historias a travs de cada taza.",testimonio:"El trabajo de diseo y marketing fue impecable. Nos ayudaron a construir una marca slida y coherente. Desde entonces, nuestra presencia en lnea refleja la fuerza y calidez de nuestras productoras."},{id:8,proyectoId:8,nombre:"Javier Len",rol:"Coordinador de ONG Agua Viva",motivacion:"Queramos crear un espacio educativo para que nios y jvenes comprendan la importancia del agua y el medio ambiente.",testimonio:"El resultado super nuestras expectativas. El sitio es dinmico, educativo y visualmente encantador. Su equipo trabaja con un sentido de propsito que se nota en cada detalle."},{id:9,proyectoId:9,nombre:"Valeria Soto",rol:"Creadora de EcoModa Circular",motivacion:"Siempre so con unir la moda y la sostenibilidad, demostrando que el estilo y el respeto al planeta pueden ir de la mano.",testimonio:"El diseo de la tienda fue elegante, moderno y completamente funcional. Lograron captar la esencia de la moda consciente. Fue un proceso lleno de creatividad y empata."},{id:10,proyectoId:10,nombre:"Andrs Flores",rol:"Fundador de Movimiento Reverdece",motivacion:"Mi meta era crear una campaa digital que inspirara a las personas a plantar rboles y reconectar con la naturaleza.",testimonio:"Gracias al equipo, logramos transmitir nuestra pasin ambiental en una plataforma interactiva. Su visin estratgica y esttica hicieron que miles se sumaran al movimiento."}];function C3(){const[t,e]=P.useState(0),n=["/Digital-Dreamers/images/carrusel1.jpg","/Digital-Dreamers/images/carrusel2.jpg","/Digital-Dreamers/images/carrusel3.jpg"];return P.useEffect(()=>{const i=setInterval(()=>{e(r=>(r+1)%n.length)},3e3);return()=>clearInterval(i)},[]),g.jsx("section",{className:"py-12",style:{backgroundColor:"#FFF2AF"},children:g.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[g.jsx("h2",{className:"text-4xl font-bold text-center mb-10",style:{color:"#493D9E"},children:" Testimonios de nuestros clientes"}),g.jsx("p",{className:"italic text-2xl font-sb text-center mb-10",style:{color:"#493D9E"},children:"Te ayudamos a cumplir tus sueos!"}),g.jsxs("div",{className:"flex flex-col justify-center items-center p-4",children:[g.jsx("div",{className:"relative w-full h-64 overflow-hidden rounded-2xl shadow-md",children:g.jsx("img",{src:n[t],alt:`Imagen ${t+1}`,className:"w-full h-full object-cover transition-all duration-700 ease-in-out"})}),g.jsx("div",{className:"flex mt-3 space-x-2",children:n.map((i,r)=>g.jsx("button",{onClick:()=>e(r),className:`w-3 h-3 rounded-full transition-all ${r===t?"bg-[#493D9E]":"bg-[#B2A5FF]"}`},r))})]}),g.jsx("div",{className:"grid gap-8 md:grid-cols-1 lg:grid-cols-2",children:x3.map(i=>{const[r,a]=P.useState(!1),[s,l]=P.useState(!1);return g.jsxs("div",{className:"rounded-2xl shadow-md p-6 flex flex-col justify-between hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",style:{backgroundColor:"#FFFFFF"},children:[g.jsxs("div",{children:[g.jsxs("p",{className:"italic mb-4 text-center",style:{color:"#493D9E"},children:["",i.testimonio,""]}),g.jsxs("div",{className:"border-t pt-4 flex items-center gap-3",children:[i.foto&&g.jsx("img",{src:i.foto,alt:`Foto de ${i.nombre}`,className:"w-12 h-12 rounded-full object-cover border-2",style:{borderColor:"#B2A5FF"}}),g.jsxs("div",{children:[g.jsxs("h3",{className:"font-semibold",style:{color:"#493D9E"},children:[" ",i.nombre]}),g.jsxs("p",{className:"text-sm",style:{color:"#5a4fcf"},children:[" ",i.rol]}),g.jsx("p",{className:"text-xs mt-1",style:{color:"#7a73c4"},children:new Date(`${i.fecha}-01`).toLocaleString("es-ES",{month:"long",year:"numeric"})})]})]})]}),r&&g.jsxs("div",{className:"mt-4 fade-in",children:[g.jsxs("p",{className:"text-sm mb-1 text-justify",style:{color:"#493D9E"},children:[g.jsx("span",{className:"font-medium",style:{color:"#5a4fcf"},children:"Motivacin:"})," "," ",i.motivacion]}),g.jsx("a",{href:i.enlaceProyecto,target:"_blank",rel:"noopener noreferrer",onClick:()=>l(!0),className:`rounded-full px-4 py-2 inline-block mt-3 text-sm font-semibold transform transition-all duration-200 hover:scale-105 ${s?"bg-[#493D9E] text-white":"bg-[#DAD2FF] text-[#493D9E]"}`,children:"Ver proyecto "})]}),g.jsx("button",{onClick:()=>a(!r),className:"mt-4 text-sm font-medium text-[#493D9E] hover:text-[#B2A5FF] transition-colors duration-200 self-center",children:r?"Ver menos ":"Ver ms "})]},i.id)})})]})})}function I3(){const t=[{texto:"1. Qu actividad disfrutas ms?",opciones:[{texto:"Resolver problemas matemticos",perfil:"Analtico"},{texto:"Disear ilustraciones o crear contenido",perfil:"Creativo"},{texto:"Liderar equipos y tomar decisiones",perfil:"Lder"},{texto:"Apoyar a otros y trabajar en equipo",perfil:"Colaborador"}]},{texto:"2. Cmo prefieres trabajar?",opciones:[{texto:"De manera estructurada y planificada",perfil:"Analtico"},{texto:"Con libertad e innovacin",perfil:"Creativo"},{texto:"Organizando y dirigiendo",perfil:"Lder"},{texto:"Acompaando a mis compaeros",perfil:"Colaborador"}]},{texto:"3. Qu valoras ms en un proyecto?",opciones:[{texto:"Precisin y resultados medibles",perfil:"Analtico"},{texto:"Originalidad e impacto visual",perfil:"Creativo"},{texto:"Logro de objetivos y metas claras",perfil:"Lder"},{texto:"La unin del grupo y el apoyo mutuo",perfil:"Colaborador"}]},{texto:"4. Qu te motiva ms al trabajar?",opciones:[{texto:"Lograr resultados exactos",perfil:"Analtico"},{texto:"Expresar mis ideas y creatividad",perfil:"Creativo"},{texto:"Conseguir metas y retos importantes",perfil:"Lder"},{texto:"El compaerismo y el buen ambiente",perfil:"Colaborador"}]},{texto:"5. Si tienes un problema, cmo lo enfrentas?",opciones:[{texto:"Analizando datos y buscando soluciones lgicas",perfil:"Analtico"},{texto:"Probando ideas nuevas y diferentes",perfil:"Creativo"},{texto:"Motivando a otros para resolverlo juntos",perfil:"Lder"},{texto:"Consultando y ayudndome con mis compaeros",perfil:"Colaborador"}]},{texto:"6. Qu tipo de tareas prefieres?",opciones:[{texto:"Calcular, investigar y organizar informacin",perfil:"Analtico"},{texto:"Disear, inventar o escribir",perfil:"Creativo"},{texto:"Coordinar proyectos o dar instrucciones",perfil:"Lder"},{texto:"Apoyar en lo que el grupo necesite",perfil:"Colaborador"}]},{texto:"7. Qu tipo de reconocimiento disfrutas ms?",opciones:[{texto:"Que valoren mi precisin y dedicacin",perfil:"Analtico"},{texto:"Que aprecien mi creatividad e innovacin",perfil:"Creativo"},{texto:"Que reconozcan mi capacidad de liderazgo",perfil:"Lder"},{texto:"Que agradezcan mi apoyo y colaboracin",perfil:"Colaborador"}]},{texto:"8. En qu ambiente te sientes ms cmodo?",opciones:[{texto:"En un entorno estructurado y con reglas claras",perfil:"Analtico"},{texto:"En un espacio flexible y con libertad creativa",perfil:"Creativo"},{texto:"En dinmicas de equipo donde pueda liderar",perfil:"Lder"},{texto:"En grupos colaborativos y de apoyo mutuo",perfil:"Colaborador"}]},{texto:"9. Qu habilidad te gustara desarrollar ms?",opciones:[{texto:"Anlisis y pensamiento crtico",perfil:"Analtico"},{texto:"Imaginacin y originalidad",perfil:"Creativo"},{texto:"Comunicacin y liderazgo",perfil:"Lder"},{texto:"Empata y cooperacin",perfil:"Colaborador"}]},{texto:"10. Cmo manejas la presin?",opciones:[{texto:"Concentrndome en los detalles",perfil:"Analtico"},{texto:"Buscando soluciones creativas",perfil:"Creativo"},{texto:"Asumiendo la responsabilidad y guiando",perfil:"Lder"},{texto:"Apoyndome en el grupo y apoyando a otros",perfil:"Colaborador"}]}],[e,n]=P.useState(0),[i,r]=P.useState([]),[a,s]=P.useState(""),[l,u]=P.useState(""),c=y=>{const C=t[e].opciones[y].perfil,N=[...i,C];e+1<t.length?(n(e+1),r(N)):f(N)},f=y=>{const C={};y.forEach(E=>{C[E]=(C[E]||0)+1});const N=Object.keys(C).reduce((E,v)=>C[E]>C[v]?E:v);let I="";switch(N){case"Analtico":I="El perfil analtico se refleja porque la persona demuestra facilidad para observar, comparar y evaluar informacin, identifica patrones, organiza ideas con claridad y toma decisiones basadas en el razonamiento lgico y los datos.";break;case"Creativo":I="El perfil creativo se refleja porque la persona genera ideas originales, propone soluciones innovadoras, se adapta con facilidad a los cambios y utiliza la imaginacin para abordar los retos de manera diferente y efectiva.";break;case"Lder":I="El perfil de lder se refleja porque la persona demuestra capacidad para organizar, motivar y guiar a los dems, toma decisiones con seguridad, se comunica de manera efectiva y genera confianza para alcanzar metas en equipo.";break;case"Colaborador":I="El perfil colaborador se refleja porque la persona trabaja en equipo con disposicin, escucha y respeta las ideas de los dems, aporta apoyo cuando es necesario y busca alcanzar los objetivos comunes mediante la cooperacin.";break;default:I=""}s(`Tu perfil profesional predominante es: ${N}`),u(I)},m=()=>{n(0),r([]),s(""),u("")},p=t[e];return g.jsx("div",{children:g.jsxs("div",{className:"contenedor shadow",children:[g.jsx("div",{className:"titulo",children:g.jsx("h1",{children:"Calculadora de Perfil Profesional"})}),a?g.jsxs(g.Fragment,{children:[g.jsx("h2",{children:a}),g.jsx("p",{children:l}),g.jsx("button",{type:"button",onClick:m,children:"Volver a empezar"})]}):g.jsxs("form",{onReset:m,children:[g.jsxs("div",{children:[g.jsx("p",{id:"pregunta",children:p.texto}),g.jsx("div",{children:p.opciones.map((y,C)=>g.jsx("button",{type:"button",onClick:()=>c(C),className:"shadow",children:y.texto},C))})]}),g.jsx("div",{children:g.jsx("button",{type:"reset",id:"btnBorrar",children:"Borrar respuesta"})})]})]})})}function N3(){return g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("section",{className:"relative flex flex-col lg:flex-row items-center justify-between bg-gradient-to-br from-[#B2A5FF] to-[#FFF2AF] px-10 lg:px-20 py-24 overflow-hidden",children:[g.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[150px] bg-white"}),g.jsxs("div",{className:"relative z-10 max-w-xl text-center lg:text-left space-y-5",children:[g.jsxs("h1",{className:"text-6xl font-[Merienda] font-bold text-[#493D9E] leading-tight",children:["Bienvenid@s a ",g.jsx("span",{className:"text-[#FFF2AF] drop-shadow-md",children:"Digital Dreamers"}),"!"]}),g.jsx("p",{className:"text-[#493D9E] text-lg font-[Macondo] font-semibold",children:"Damos vida a ideas digitales con creatividad, propsito y tecnologa. Aqu los sueos se convierten en cdigo "}),g.jsx("div",{className:"pt-4",children:g.jsx(qt,{to:"/contacto",className:"inline-block bg-[#493D9E] text-[#FFF2AF] font-bold px-6 py-3 rounded-2xl text-lg shadow-md transition-all duration-300 hover:bg-[#FFF2AF] hover:text-[#493D9E] hover:shadow-xl",children:"Contactanos"})})]}),g.jsx("div",{className:"relative z-10 mt-10 lg:mt-0",children:g.jsx("img",{src:"/Digital-Dreamers/images/img1-index.png",alt:"Chicas programadoras",className:"w-[350px] md:w-[450px] lg:w-[500px] rounded-3xl shadow-lg hover:-translate-y-2 transition-transform duration-300"})})]}),g.jsx("section",{className:"flex flex-col lg:flex-row justify-center items-center gap-10 bg-[#F8F7FF] px-10 lg:px-24 py-20 border-b-[10px] border-[#FFF2AF]",children:g.jsxs("div",{className:"max-w-3xl text-[#493D9E] text-justify text-lg font-medium leading-relaxed",children:[g.jsx("h2",{className:"text-4xl font-[Merienda] font-bold text-center mb-8",children:"Nuestra historia "}),g.jsx("p",{children:"Somos cuatro programadoras apasionadas por el diseo web, la esttica y el trabajo colaborativo. Estamos listas para dar vida a ideas y convertirlas en experiencias digitales llenas de precisin, estilo y creatividad. Cada proyecto es un universo donde la organizacin se encuentra con la imaginacin, y donde los sueos se vuelven cdigo que inspira, conecta y comunica ."})]})}),g.jsxs("section",{className:"flex flex-col justify-center gap-5 bg-[#FFF2AF]",children:[g.jsx("div",{className:"text-center text-[#493D9E] font-[Merienda] text-2xl font-medium pt-8",children:g.jsx("h2",{className:"text-4xl font-bold text-center mb-10",style:{color:"#493D9E"},children:" Porque programar con propsito..."})}),g.jsxs("div",{className:"grid grid-cols-2 gap-5 border-b-[10px] border-[#B2A5FF] rounded-2xl bg-white mx-24 my-12 p-4 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center",children:g.jsx("img",{src:"/Digital-Dreamers/images/imgobj.png",alt:"nuestros objetivos",className:"w-[400px] h-[300px] rounded-2xl object-cover transition-transform duration-300 hover:-translate-y-2"})}),g.jsx("div",{className:"flex justify-center text-justify p-12 text-[22px] font-medium text-[#493D9E]",children:g.jsx("p",{children:"Es crear soluciones web innovadoras que mezclen esttica , funcionalidad  y organizacin . Lo hacemos con un espritu de colaboracin donde nuestras ideas (y las tuyas!) cobran vida en forma de experiencias digitales que inspiran, comunican y dejan huella."})})]})]}),g.jsxs("section",{className:"flex flex-col justify-center gap-8 bg-white",children:[g.jsx("div",{className:"text-center text-[#493D9E] font-[Merienda] text-2xl font-medium pt-8",children:g.jsx("h2",{className:"text-4xl font-bold text-center mb-10",style:{color:"#493D9E"},children:"Cuatro mentes, un mismo cdigo "})}),g.jsx("div",{className:"flex justify-center text-[#493D9E] font-[Macondo] text-lg font-semibold",children:g.jsx("h3",{className:"text-4xl font-bold text-center mb-10",style:{color:"#493D9E"},children:"Formamos un equipo sin igual!"})}),g.jsx("div",{className:"flex flex-wrap justify-center gap-8 mx-24 my-12 p-4",children:[{nombre:"Marcell ",texto:"Especialista en diseo UI/UX, amante del detalle y la belleza en cada proyecto."},{nombre:"Yamileth ",texto:"Front-end developer apasionada por un cdigo limpio, funcional y elegante."},{nombre:"Mara ",texto:"Creativa en maquetacin web, transforma ideas en interfaces que conectan."},{nombre:"Sandra ",texto:"Desarrolladora full stack con visin estratgica y amor por la innovacin."}].map((t,e)=>g.jsxs("div",{className:"bg-[#FFF2AF] max-w-[280px] rounded-2xl overflow-hidden shadow-md border-t-[10px] border-[#B2A5FF] transition-transform duration-300 hover:-translate-y-2 hover:shadow-lg cursor-pointer",children:[g.jsx("img",{src:"/Digital-Dreamers/images/img2.png",alt:`Foto de ${t.nombre}`,className:"w-full h-[200px] object-cover"}),g.jsxs("div",{className:"p-5 text-center",children:[g.jsx("h3",{className:"text-[#493D9E] font-[Concert_One] text-xl",children:t.nombre}),g.jsx("p",{className:"text-[#493D9E] text-base mt-2",children:t.texto})]})]},e))})]}),g.jsxs("section",{className:"flex flex-col justify-center gap-5 bg-[#DAD2FF] pb-24",children:[g.jsx("div",{className:"text-center text-[#493D9E] font-[Merienda] text-2xl font-medium pt-8",children:g.jsx("h2",{className:"text-4xl font-bold text-center mb-10",style:{color:"#493D9E"},children:" Conoce ms sobre..."})}),g.jsx("div",{className:"flex justify-center",children:g.jsx(qt,{to:"/nosotras",className:"rounded-2xl bg-[#B2A5FF] text-[#493D9E] text-lg font-bold no-underline px-6 py-3 transition-all duration-300 hover:bg-[#FFF2AF] hover:shadow-md hover:-translate-y-1 active:bg-[#493D9E] active:text-[#FFF2AF]",children:"Nosotras"})}),g.jsx("div",{children:g.jsx(C3,{})})]})]})}function D3(){return g.jsxs("div",{className:"bg-[#DAD2FF] text-gray-800",children:[g.jsxs("section",{className:"text-center py-20 bg-white shadow-md mt-10 mb-16 px-4",children:[g.jsx("h1",{className:"text-5xl font-bold text-[#493D9E] mb-6 font-[Concert_One]",children:"CONOCE MS SOBRE NOSOTRAS"}),g.jsx("p",{className:"max-w-3xl mx-auto text-lg leading-relaxed text-gray-600 font-[Macondo]",children:"Cuatro mentes creativas unidas por la pasin por la tecnologa y el deseo de crear un impacto positivo en el mundo digital."})]}),g.jsxs("section",{className:"max-w-6xl mx-auto px-6 mb-24 text-center",children:[g.jsxs("h2",{className:"text-4xl mb-12 text-gray-900 font-[Merienda] relative inline-block",children:["Nuestras Historias",g.jsx("span",{className:"block w-16 h-1 bg-gradient-to-r from-[#e5afec] to-[#cb60f1] mx-auto mt-3 rounded"})]}),g.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Sandra E. Charri Macassi (Sam)"}),g.jsx("p",{className:"text-sm text-[#c778e6] font-semibold uppercase mb-4",children:"Diseadora de UX/UI y programadora de Front-end"}),g.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"Mi historia con la programacin empieza con la pasin por el diseo grfico. Luego de llevar cursos tcnicos sobre el tema, descubr Adobe Dreamweaver y Fireworks. Ms tarde, particip en el programa educativo Protagonistas del futuro de Chicas en Tecnologas (2024), donde aprend UX/UI con Figma, App Inventor y marketing. En 2025 obtuve la beca +ChicasTec, consolidando mis conocimientos y habilidades como programadora y diseadora."})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Yamileth Quispe Espinoza"}),g.jsx("p",{className:"text-sm text-[#c778e6] font-semibold uppercase mb-4",children:"Programadora en formacin"}),g.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"Comenc mi camino en la programacin gracias a la beca +ChicasTec, que me abri las puertas hacia el fascinante mundo de la tecnologa. Aprend que programar no solo es escribir cdigo, sino imaginar soluciones y crear herramientas que transforman vidas. Cada reto me ayud a fortalecer mi pensamiento lgico, mi creatividad y mi pasin por aprender constantemente."})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Mara Beln"}),g.jsx("p",{className:"text-sm text-[#c778e6] font-semibold uppercase mb-4",children:"Desarrolladora web en formacin"}),g.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"Descubr la programacin gracias a la beca +ChicasTec, y desde entonces me apasiona crear pginas y proyectos que combinen creatividad con tecnologa. Cada proyecto es una oportunidad para aprender y explorar nuevas formas de expresar mis ideas."})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Marcell Gamboa"}),g.jsx("p",{className:"text-sm text-[#c778e6] font-semibold uppercase mb-4",children:"Desarrolladora web en formacin"}),g.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"Me estoy iniciando en el mundo de la programacin y el diseo web. Comenc con el programa +ChicasTec (2025), donde aprend diseo UX/UI con Figma y programacin bsica. Estoy emocionada por todo lo que estoy descubriendo y aprendiendo da a da."})]})]})]}),g.jsxs("section",{className:"max-w-7xl mx-auto px-6 mb-32 text-center pb-20",children:[g.jsxs("h2",{className:"text-4xl mb-12 text-gray-900 font-[Merienda] relative inline-block",children:["Datos Curiosos",g.jsx("span",{className:"block w-16 h-1 bg-gradient-to-r from-[#e5afec] to-[#cb60f1] mx-auto mt-3 rounded"})]}),g.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Sandra E. Charri Macassi"}),g.jsx("h4",{className:"text-lg text-[#948bd6] font-semibold mb-2",children:"Herramientas favoritas:"}),g.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Figma, Miro, Canva, Illustrator, Dreamweaver, VS Code y GitHub."}),g.jsx("div",{className:"bg-[#C5BDF7] rounded-lg p-4 text-[#352C7A] font-semibold",children:"Superpoder: Pensar en lo que el usuario necesita y dejar una marca personal en cada trabajo colaborativo."})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Yamileth Quispe Espinoza"}),g.jsx("h4",{className:"text-lg text-[#948bd6] font-semibold mb-2",children:"Herramientas favoritas:"}),g.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Visual Studio Code, Bootstrap, CSS y HTML."}),g.jsx("div",{className:"bg-[#C5BDF7] rounded-lg p-4 text-[#352C7A] font-semibold",children:"Superpoder: Aprendo rpido, innovo y doy a cada proyecto un toque nico."})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Mara Beln"}),g.jsx("h4",{className:"text-lg text-[#948bd6] font-semibold mb-2",children:"Herramientas favoritas:"}),g.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Visual Studio Code, HTML, CSS y la tcnica de aprender haciendo."}),g.jsx("div",{className:"bg-[#C5BDF7] rounded-lg p-4 text-[#352C7A] font-semibold",children:"Superpoder: Transformar ideas simples en proyectos funcionales y organizados."})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Marcell Gamboa"}),g.jsx("h4",{className:"text-lg text-[#948bd6] font-semibold mb-2",children:"Herramientas favoritas:"}),g.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Figma, Miro, Visual Studio Code y GitHub."}),g.jsx("div",{className:"bg-[#C5BDF7] rounded-lg p-4 text-[#352C7A] font-semibold",children:"Superpoder: Simplificar lo complejo y crear diseos fciles de usar."})]})]})]})]})}function O3(){const[t,e]=P.useState({nombres:"",apellidos:"",edad:"",grado:"",ciudad:"",telefono:"",correo:"",mensaje:""}),[n,i]=P.useState({mensaje:"",color:""}),r=l=>{e({...t,[l.target.name]:l.target.value})},a=l=>{i({mensaje:l,color:"red"}),setTimeout(()=>i({mensaje:"",color:""}),6e3)},s=async l=>{l.preventDefault();const{nombres:u,apellidos:c,edad:f,grado:m,ciudad:p,telefono:y,correo:C,mensaje:N}=t,I=/^[A-Za-z\s]+$/,E=/^[0-9]{7,15}$/,v=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,S=[{cond:!u||!c||!f||isNaN(parseInt(f))||f<15||f>45||!m||!p||!y||!C||!N,msg:" Por favor, completa todos los campos correctamente."},{cond:!I.test(u)||!I.test(c),msg:" Nombres y apellidos solo deben contener letras."},{cond:!E.test(y.replace(/\s+/g,"")),msg:" Ingresa un telfono vlido (solo nmeros, 7 a 15 dgitos)."},{cond:!v.test(C),msg:" Ingresa un correo electrnico vlido."},{cond:N.length<10,msg:" El mensaje debe tener al menos 10 caracteres."}];for(let D of S)if(D.cond)return a(D.msg);try{await QS(Xd(Jd,"contactos"),{...t,fecha:b3()}),i({mensaje:" Gracias por contactarnos! Tus datos fueron enviados con xito.",color:"#988ee2ff"}),e({nombres:"",apellidos:"",edad:"",grado:"",ciudad:"",telefono:"",correo:"",mensaje:""}),setTimeout(()=>i({mensaje:"",color:""}),8e3)}catch(D){console.error("Error al guardar:",D),a(" Ocurri un error al enviar tus datos. Intenta nuevamente.")}};return g.jsxs("section",{id:"contacto",className:"bg-violet-300/100 text-white py-16 px-6 flex flex-col items-center",children:[g.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Conectemos!"}),g.jsx("p",{className:"mb-8 text-center max-w-lg",children:"Completa el formulario para que podamos conocerte mejor y responderte lo antes posible."}),g.jsxs("form",{onSubmit:s,className:"bg-[#FFF2AF] text-[#2E1E5B] rounded-2xl p-8 w-full max-w-lg shadow-lg space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Nombres:"}),g.jsx("input",{type:"text",name:"nombres",value:t.nombres,onChange:r,placeholder:"Ejemplo: Anel Rosa",required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Apellidos:"}),g.jsx("input",{type:"text",name:"apellidos",value:t.apellidos,onChange:r,placeholder:"Ejemplo: Meja Chirhuana",required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Edad:"}),g.jsx("input",{type:"number",name:"edad",value:t.edad,onChange:r,min:"15",max:"45",placeholder:"Entre 15 y 45 aos. Ej: 18 aos",required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Grado de estudios:"}),g.jsxs("select",{name:"grado",value:t.grado,onChange:r,required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]",children:[g.jsx("option",{value:"",children:"-- Selecciona una opcin --"}),g.jsx("option",{value:"secundaria",children:"Secundaria en curso / completa"}),g.jsx("option",{value:"tecnico",children:"Tcnico / Instituto"}),g.jsx("option",{value:"universitario",children:"Universitario en curso"}),g.jsx("option",{value:"profesional",children:"Universitario completo"}),g.jsx("option",{value:"postgrado",children:"Postgrado / Maestra"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Ciudad / Pas:"}),g.jsx("input",{type:"text",name:"ciudad",value:t.ciudad,onChange:r,placeholder:"Ejemplo: Lima, Per",required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Nmero de telfono:"}),g.jsx("input",{type:"tel",name:"telefono",value:t.telefono,onChange:r,placeholder:"+51 999 999 999",required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Correo electrnico:"}),g.jsx("input",{type:"email",name:"correo",value:t.correo,onChange:r,placeholder:"nombre@gmail.com",required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Mensaje:"}),g.jsx("textarea",{name:"mensaje",value:t.mensaje,onChange:r,placeholder:"Cuntanos, en qu podemos ayudarte?...",rows:"5",required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]"})]}),g.jsx("p",{style:{color:n.color},className:"font-semibold text-center text-lg mt-2",children:n.mensaje}),g.jsx("button",{type:"submit",className:"w-full bg-purple-300/100 py-3 rounded-lg font-bold hover:bg-purple-400/100 transition-all",children:"Enviar Mensaje"})]})]})}function M3(){return P.useEffect(()=>{console.log("Contacto.jsx montado")},[]),g.jsxs("div",{className:"flex flex-col items-center justify-center",children:[g.jsxs("section",{className:"w-full bg-[#CAB8FF] py-16 px-6 text-center",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#3C2A91] mb-10",children:"EN QU PODEMOS AYUDARTE?"}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[{icon:"",title:"Diseo UX/UI",text:"Diseamos experiencias digitales atractivas, intuitivas y centradas en el usuario.",bg:"bg-[#FFF2AF]"},{icon:"",title:"Desarrollo Web",text:"Desde pginas informativas hasta plataformas dinmicas, creamos soluciones a medida.",bg:"bg-[#FFF2AF]"},{icon:"",title:"Estrategia Digital",text:"Te guiamos en marketing, redes sociales y posicionamiento online.",bg:"bg-[#FFF2AF]"},{icon:"",title:"Integracin con IA",text:"Implementamos herramientas de inteligencia artificial para potenciar tu negocio.",bg:"bg-[#FFF2AF]"},{icon:"",title:"Consultora en Diversidad Tech",text:"Fomentamos equipos inclusivos y entornos tecnolgicos ms diversos.",bg:"bg-[#FFF2AF]"},{icon:"",title:"Formacin y Workshops",text:"Capacitaciones prcticas en programacin, diseo y herramientas digitales.",bg:"bg-[#FFF2AF]"}].map((t,e)=>g.jsxs("div",{className:`${t.bg} rounded-xl shadow-lg p-6 hover:scale-105 transition-transform duration-300`,children:[g.jsxs("h3",{className:"text-lg font-semibold text-[#3C2A91] mb-2",children:[t.icon," ",t.title]}),g.jsx("p",{className:"text-gray-700 text-sm",children:t.text})]},e))})]}),g.jsxs("section",{className:"w-full bg-white py-16 px-6 text-center",children:[g.jsx("h2",{className:"text-2xl italic text-gray-800 mb-10",children:"Por qu elegirnos?"}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[{icon:"",title:"PERSPECTIVA NICA",text:"Como equipo 100% femenino, aportamos una visin fresca y diversa que transforma cada proyecto en algo autntico."},{icon:"",title:"AGILIDAD Y FLEXIBILIDAD",text:"Nos adaptamos rpidamente a los cambios con metodologas giles, entregando resultados ptimos sin perder calidad."},{icon:"",title:"ATENCIN AL DETALLE",text:"Cuidamos cada pxel, lnea de cdigo y palabra para que tu producto no solo funcione, sino que brille."},{icon:"",title:"IMPACTO SOSTENIBLE",text:"No construimos solo proyectos, sino soluciones que evolucionan contigo y generan impacto positivo a largo plazo."}].map((t,e)=>g.jsxs("div",{className:"bg-[#CAB8FF]/70 rounded-xl shadow-md p-6 hover:bg-[#bfa9ff] transition-colors duration-300",children:[g.jsxs("h3",{className:"text-[#3C2A91] font-semibold mb-2",children:[t.icon," ",t.title]}),g.jsx("p",{className:"text-gray-700 text-sm",children:t.text})]},e))})]}),g.jsxs("section",{className:"w-full bg-[#3C2A91] text-white py-16 px-6 text-center",children:[g.jsx("h2",{className:"text-3xl font-[Merienda] mb-4",children:"Conectemos!"}),g.jsx("p",{className:"text-sm mb-10",children:"Completa el formulario para que podamos conocerte mejor y responderte lo antes posible."}),g.jsx("div",{className:"max-w-lg mx-auto bg-white rounded-xl p-8 shadow-lg text-gray-800",children:g.jsx(O3,{})})]})]})}function V3(){return g.jsxs("div",{className:"bg-[#DAD2FF] text-gray-800",children:[g.jsxs("section",{className:"bg-white text-center py-16",children:[g.jsx("h1",{className:"text-5xl font-bold text-[#493D9E] mb-4",children:"LOS VALORES QUE NOS DEFINEN"}),g.jsx("p",{className:"font-[Macondo] text-lg",children:"Estos principios guan cada proyecto y cada decisin que tomamos como equipo."})]}),g.jsxs("section",{className:"container mx-auto py-16 px-6",children:[g.jsx("h2",{className:"text-center text-4xl font-[Merienda] text-[#493D9E] border-b-4 border-[#896AFA] pb-6 mb-10",children:"Nuestros Pilares Fundamentales"}),g.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{titulo:" Colaboracin",texto:"Unir talentos y conocimientos para alcanzar objetivos en equipo, apoyndose mutuamente. En un grupo de programadoras, la colaboracin es trabajar como un solo motor: cada integrante aporta habilidades para que el proyecto avance. No se trata solo de dividir tareas, sino de compartir ideas, aprender unas de otras y mejorar juntas. Tambin implica pedir ayuda, reconocer logros y apoyarse.",frase:' "En programacin, un buen equipo es como un cdigo limpio: cada lnea cuenta para que todo funcione."'},{titulo:" Creatividad",texto:"Buscar soluciones innovadoras y originales para resolver problemas. En programacin, la creatividad es ver ms all de lo evidente. Es transformar un requerimiento en una solucin funcional y atractiva. No se trata solo de hacerlo diferente, sino mejor y ms eficiente. Una programadora creativa mezcla lgica y arte, generando experiencias digitales nicas y memorables para los usuarios.",frase:' "Programar no es solo escribir cdigo, es pintar ideas con lneas de lgica."'},{titulo:" Perseverancia",texto:"Mantenerse firmes ante los retos y errores, aprendiendo de cada fallo. En el cdigo, los errores son inevitables, pero la perseverancia convierte un bug en una leccin. Es no rendirse aunque la solucin parezca escondida y seguir intentando hasta lograrlo. Perseverar es aprender de cada fallo, mantener la motivacin y tener paciencia hasta obtener el resultado esperado.",frase:' "Un error en el cdigo no es el final, es la pista que te acerca a la solucin."'},{titulo:" Responsabilidad",texto:"Cumplir compromisos y entregar trabajos de calidad en el tiempo acordado. En un equipo de programadoras, la responsabilidad es respetar plazos y calidad, asumiendo el rol con seriedad. Significa que nuestro aporte no afecte negativamente al proyecto. Tambin implica comunicar problemas a tiempo para que el equipo pueda adaptarse, demostrando compromiso con el objetivo final.",frase:' "En programacin, cada lnea de cdigo es una promesa cumplida al proyecto."'},{titulo:" Curiosidad",texto:"Estar siempre dispuestas a aprender nuevas herramientas y lenguajes. La curiosidad impulsa a explorar y no conformarse con lo que ya se sabe. En programacin, permite evolucionar, descubrir tecnologas y adaptarse a cambios. Las programadoras curiosas buscan optimizar, experimentar y aprender para innovar y resolver problemas con ideas creativas e inesperadas.",frase:' "La mejor programadora no es la que lo sabe todo, sino la que siempre quiere aprender ms."'},{titulo:" Respeto",texto:"Escuchar y valorar las ideas de todas, sin importar la experiencia. El respeto es la base de una buena comunicacin. Significa aceptar distintas formas de resolver problemas y debatirlas sin descalificar. Un equipo con respeto crea confianza, permite expresar ideas y recibir crticas constructivas, resolviendo conflictos sin daar relaciones.",frase:' "En el cdigo y en el equipo, cada aporte cuenta para que todo compile."'}].map((t,e)=>g.jsxs("div",{className:"bg-white shadow-lg rounded-xl border-t-4 border-[#B2A5FF] p-8 hover:-translate-y-3 hover:shadow-2xl transition-all",children:[g.jsx("h3",{className:"font-[Concert_One] text-2xl mb-4",children:t.titulo}),g.jsx("p",{className:"text-lg mb-4",children:t.texto}),g.jsx("p",{className:"bg-[#B2A5FF] text-[#352C7A] p-4 rounded-md text-center font-semibold",children:t.frase})]},e))})]}),g.jsxs("section",{className:"container mx-auto py-16 px-6",children:[g.jsx("h2",{className:"text-center text-4xl font-[Merienda] text-[#493D9E] border-b-4 border-[#896AFA] pb-6 mb-10",children:"Cmo vivimos estos valores"}),g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{titulo:" En nuestra familia",texto:"Practicamos la colaboracin y el respeto al apoyarnos en las tareas y escucharnos con atencin. Con responsabilidad cumplimos nuestros deberes, y con perseverancia enfrentamos juntos las dificultades. La creatividad y la curiosidad nos ayudan a resolver problemas cotidianos y aprender como equipo."},{titulo:" En nuestro aprendizaje",texto:"Vivimos nuestros valores al estudiar con responsabilidad, compartir conocimientos y apoyarnos unas a otras con respeto y colaboracin. La perseverancia nos mantiene firmes frente a lo difcil, mientras que la creatividad y la curiosidad nos impulsan a buscar nuevas formas de aprender y mejorar."},{titulo:" En nuestros proyectos",texto:"Aplicamos todos los valores al trabajar en equipo: colaboramos, respetamos las ideas de cada integrante y asumimos con responsabilidad cada tarea. La perseverancia nos ayuda a superar errores, la creatividad nos permite innovar, y la curiosidad nos motiva a investigar nuevas herramientas."},{titulo:" En nuestra comunidad",texto:"Nuestros valores se reflejan en la forma de convivir: colaboramos para ayudar a los dems, respetamos la diversidad de opiniones y actuamos con responsabilidad en los compromisos sociales. Adems, mantenemos la perseverancia en causas comunes y usamos creatividad y curiosidad para proponer mejoras que beneficien a todos."}].map((t,e)=>g.jsxs("div",{className:"bg-white shadow-lg rounded-xl border-t-4 border-[#B2A5FF] p-8 hover:-translate-y-3 hover:shadow-2xl transition-all",children:[g.jsx("h3",{className:"font-[Concert_One] text-2xl mb-4",children:t.titulo}),g.jsx("p",{className:"text-lg",children:t.texto})]},e))})]})]})}const sE=[{id:1,titulo:"Plataforma Educativa Inclusiva",categoria:"Web",descripcion:"Diseamos y desarrollamos una plataforma educativa accesible que combina esttica y funcionalidad.",tecnologias:["React","Tailwind CSS","Figma"],imagen:"https://images.unsplash.com/photo-1593642634315-48f5414c3ad9",demo:"#",codigo:"#"},{id:2,titulo:"Landing Page Digital Dreamers",categoria:"Frontend",descripcion:"Landing institucional diseada para transmitir la esencia del equipo con un diseo limpio y moderno.",tecnologias:["HTML","CSS","JavaScript"],imagen:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f",demo:"#",codigo:"#"},{id:3,titulo:"Dashboard de Impacto",categoria:"Data Viz",descripcion:"Panel interactivo que permite visualizar el alcance de proyectos sociales impulsados por mujeres.",tecnologias:["React","Chart.js","Tailwind CSS"],imagen:"https://images.unsplash.com/photo-1556155092-8707de31f9c4",demo:"#",codigo:"#"}];function P3(){const[t,e]=P.useState("Todos"),n=["Todos","Web","Frontend","Data Viz"],i=t==="Todos"?sE:sE.filter(r=>r.categoria===t);return g.jsx("section",{className:"bg-gray-50 py-16",id:"portafolio",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[g.jsx("h2",{className:"text-4xl font-bold text-center mb-4 text-gray-800",children:" Portafolio Digital Dreamers"}),g.jsx("p",{className:"text-center text-gray-600 mb-12",children:"Proyectos que combinan creatividad, organizacin y tecnologa para inspirar "}),g.jsx("div",{className:"flex justify-center space-x-4 mb-10",children:n.map(r=>g.jsx("button",{onClick:()=>e(r),className:`px-4 py-2 rounded-full font-medium transition ${t===r?"bg-pink-600 text-white":"bg-white text-pink-600 border border-pink-600 hover:bg-pink-50"}`,children:r},r))}),g.jsx("div",{className:"grid gap-8 sm:grid-cols-2 lg:grid-cols-3",children:i.map(r=>g.jsxs("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden hover:scale-[1.02] transition",children:[g.jsx("img",{src:r.imagen,alt:r.titulo,className:"w-full h-48 object-cover"}),g.jsxs("div",{className:"p-5",children:[g.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:r.titulo}),g.jsx("p",{className:"text-gray-600 mb-3 text-sm",children:r.descripcion}),g.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.tecnologias.map(a=>g.jsx("span",{className:"bg-pink-100 text-pink-700 text-xs px-2 py-1 rounded-full",children:a},a))}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("a",{href:r.demo,className:"text-pink-600 font-medium hover:underline",children:"Ver Demo"}),g.jsx("a",{href:r.codigo,className:"text-gray-600 font-medium hover:underline",children:"Ver Cdigo"})]})]})]},r.id))})]})})}function L3(){const t=[{id:1,title:"Digital Dreamers - Landing Page",category:"Diseo Web",description:"Landing responsive que presenta nuestra marca, el equipo y nuestros valores.",details:"Creada con React, Tailwind CSS y Javascript, incluye secciones como Inicio, Sobre Nosotras, Valores y Contacto, reflejando la esencia del equipo.",image:"https://i.ibb.co/FbJZhKJ/inspiracion.jpg",screenshots:["https://i.ibb.co/HFmpPyB/inspiracion2.jpg"],link:"https://sancharrimacassi-dev.github.io/CT-Digital-Dreamers/index.html"},{id:2,title:"Calculadora Profesional",category:"App",description:"Aplicacin funcional que realiza operaciones bsicas y avanzadas con una interfaz moderna.",details:"Desarrollada en React con diseo responsive y clculos en tiempo real. Ideal para mostrar lgica y manejo de estados en React.",image:"https://i.ibb.co/fY0HQt4/calculadora.jpg",screenshots:["https://i.ibb.co/4Yr9ktF/calculadora2.jpg"],link:"https://sancharrimacassi-dev.github.io/CT-Digital-Dreamers/calculadora.html"},{id:3,title:"Pgina Inspiradora - Cdigo Rosa",category:"Web",description:"Proyecto de referencia que nos inspira por su estructura limpia y moderna.",details:"Sitio web con animaciones sutiles, excelente uso del color y diseo minimalista, que sirve como gua para futuros proyectos del equipo.",image:"https://i.ibb.co/fY0HQt4/calculadora.jpg",screenshots:["https://i.ibb.co/4Yr9ktF/calculadora2.jpg"],link:"https://codigo-rosa-u3.vercel.app/"}],[e,n]=P.useState("All"),[i,r]=P.useState(null),a=["All",...Array.from(new Set(t.map(l=>l.category)))],s=t.filter(l=>e==="All"||l.category===e);return g.jsxs("section",{className:"py-12 px-6 bg-gradient-to-b from-purple-50 to-white",children:[g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsx("h2",{className:"text-3xl font-bold text-center text-purple-600/70 mb-4",children:"Portafolio del equipo"}),g.jsx("p",{className:"text-center text-gray-600 mb-8 max-w-2xl mx-auto",children:'Aqu mostramos nuestros proyectos. Haz click en "Ver proyecto" para abrir la demo/repositorio o en "Ms" para ver detalles.'}),g.jsx("div",{className:"flex justify-center gap-3 mb-8 flex-wrap",children:a.map(l=>g.jsx("button",{onClick:()=>n(l),className:`px-4 py-2 rounded-full border transition ${e===l?"bg-purple-600 text-white border-purple-600":"bg-white text-gray-700 border-gray-200 hover:shadow"}`,children:l},l))}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(l=>g.jsxs("article",{className:"bg-white rounded-2xl shadow-lg overflow-hidden transform hover:scale-105 transition duration-300",children:[g.jsxs("div",{className:"relative h-48",children:[g.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute left-3 top-3 bg-white/70 text-sm px-3 py-1 rounded-full backdrop-blur",children:l.category})]}),g.jsxs("div",{className:"p-5",children:[g.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:l.title}),g.jsx("p",{className:"text-gray-600 mt-2",children:l.description}),g.jsxs("div",{className:"mt-4 flex gap-3",children:[g.jsx("a",{href:l.link,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-4 py-2 rounded-lg bg-purple-500/70 text-white font-medium hover:bg-purple-600 transition",children:"Ver proyecto"}),g.jsx("button",{onClick:()=>r(l),className:"inline-block px-4 py-2 rounded-lg border border-gray-200 hover:shadow transition",children:"Ms"})]})]})]},l.id))})]}),i&&g.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 p-4",onClick:()=>r(null),children:g.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full overflow-auto",onClick:l=>l.stopPropagation(),children:g.jsxs("div",{className:"p-5",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h3",{className:"text-2xl font-bold text-pink-600",children:i.title}),g.jsx("button",{onClick:()=>r(null),className:"text-gray-500 hover:text-gray-800",children:"Cerrar "})]}),g.jsx("p",{className:"text-gray-700 mt-3",children:i.details}),g.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:i.screenshots.map((l,u)=>g.jsx("img",{src:l,alt:`${i.title} ${u+1}`,className:"w-full h-40 object-cover rounded"},u))}),g.jsxs("div",{className:"mt-5 flex gap-3",children:[g.jsx("a",{href:i.link,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg bg-pink-500 text-white",children:"Abrir proyecto"}),g.jsx("button",{onClick:()=>r(null),className:"px-4 py-2 rounded-lg border",children:"Cerrar"})]})]})})})]})}function k3(){return g.jsxs(g.Fragment,{children:[g.jsx(P3,{}),g.jsx(L3,{}),g.jsx(I3,{})]})}function oE({children:t}){const{user:e,loading:n}=ml();return n?g.jsx("div",{className:"p-6",children:"Cargando sesin"}):e?t:g.jsx(fC,{to:"/login",replace:!0})}function U3(){const{login:t,register:e,resetPassword:n,setError:i,error:r,loginWithGoogle:a}=ml(),[s,l]=P.useState("login"),[u,c]=P.useState({email:"",password:"",displayName:""}),[f,m]=P.useState(!1),p=np(),y=I=>c(E=>({...E,[I.target.name]:I.target.value})),C=async I=>{var E;I.preventDefault(),m(!0),i("");try{s==="login"?(await t({email:u.email,password:u.password}),p("/dashboard")):s==="register"?(await e({email:u.email,password:u.password,displayName:u.displayName}),p("/dashboard")):(await n(u.email),alert("Revisa tu correo para restablecer la contrasea."),l("login"))}catch(v){const S=((E=v==null?void 0:v.code)==null?void 0:E.replace("auth/","").replaceAll("-"," "))||"error inesperado";i(S)}finally{m(!1)}},N=async()=>{var I;console.log(" Clic detectado: intentando iniciar sesin con Google..."),m(!0),i("");try{const E=await a();console.log(" Inicio de sesin exitoso:",E),p("/dashboard")}catch(E){console.error(" Error completo en login con Google:",E);const v=((I=E==null?void 0:E.code)==null?void 0:I.replace("auth/","").replaceAll("-"," "))||"error al iniciar con google";i(v)}finally{m(!1)}};return g.jsx("div",{className:"min-h-[80dvh] grid place-items-center px-4",children:g.jsxs("div",{className:"w-full max-w-md bg-white p-6 rounded-xl shadow",children:[g.jsxs("div",{className:"flex gap-2 mb-6",children:[g.jsx("button",{className:`flex-1 py-2 rounded ${s==="login"?"bg-gray-900 text-white":"border"}`,onClick:()=>l("login"),children:"Entrar"}),g.jsx("button",{className:`flex-1 py-2 rounded ${s==="register"?"bg-gray-900 text-white":"border"}`,onClick:()=>l("register"),children:"Crear cuenta"}),g.jsx("button",{className:`flex-1 py-2 rounded ${s==="reset"?"bg-gray-900 text-white":"border"}`,onClick:()=>l("reset"),children:"Olvid contrasea"})]}),r&&g.jsx("p",{className:"mb-4 text-sm text-red-600",children:r}),g.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s==="register"&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm mb-1",children:"Nombre"}),g.jsx("input",{name:"displayName",value:u.displayName,onChange:y,className:"w-full border rounded px-3 py-2"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm mb-1",children:"Correo"}),g.jsx("input",{type:"email",name:"email",value:u.email,onChange:y,className:"w-full border rounded px-3 py-2",required:!0})]}),s!=="reset"&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm mb-1",children:"Contrasea"}),g.jsx("input",{type:"password",name:"password",value:u.password,onChange:y,className:"w-full border rounded px-3 py-2",required:!0})]}),g.jsx("button",{type:"submit",disabled:f,className:"w-full py-2 rounded bg-gray-900 text-white disabled:opacity-60",children:f?"Procesando":s==="login"?"Entrar":s==="register"?"Crear cuenta":"Enviar correo"})]}),g.jsxs("button",{type:"button",disabled:f,onClick:N,className:"w-full py-2 rounded border mt-4 flex items-center justify-center gap-2 disabled:opacity-60",children:[g.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Iniciar sesin con Google"]})]})})}function j3(){const{user:t}=ml(),[e,n]=P.useState({title:"",description:""}),[i,r]=P.useState([]),[a,s]=P.useState(!0),l=f=>{n({...e,[f.target.name]:f.target.value})},u=async f=>{if(f.preventDefault(),!t)return alert("Debes iniciar sesin para crear tareas");try{await QS(Xd(Jd,"tasks"),{title:e.title,description:e.description,createdBy:t.uid,createdAt:new Date}),n({title:"",description:""}),c()}catch(m){console.error("Error al crear tarea:",m)}},c=async()=>{if(t){s(!0);try{const f=m3(Xd(Jd,"tasks"),p3("createdBy","==",t.uid)),p=(await E3(f)).docs.map(y=>({id:y.id,...y.data()}));r(p)}catch(f){console.error("Error al cargar tareas:",f)}finally{s(!1)}}};return P.useEffect(()=>{c()},[t]),g.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[g.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Dashboard"}),g.jsxs("p",{className:"text-gray-600 mb-4",children:["Bienvenido, ",g.jsx("b",{children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)})]}),(t==null?void 0:t.photoURL)&&g.jsx("div",{className:"mt-2 mb-6",children:g.jsx("img",{src:t.photoURL,alt:"Avatar de usuario",className:"w-16 h-16 rounded-full border"})}),g.jsxs("section",{className:"mb-8",children:[g.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Nueva tarea"}),g.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:["Cada tarea que registres quedar vinculada a tu usuario (",g.jsx("code",{children:"createdBy = user.uid"}),") y solo t la vers en tu dashboard."]}),g.jsxs("form",{onSubmit:u,className:"bg-white border rounded-xl p-4 space-y-3 shadow-sm",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm mb-1",children:"Ttulo"}),g.jsx("input",{name:"title",value:e.title,onChange:l,className:"w-full border rounded px-3 py-2",placeholder:"Ej. Estudiar React",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm mb-1",children:"Descripcin"}),g.jsx("textarea",{name:"description",value:e.description,onChange:l,className:"w-full border rounded px-3 py-2",placeholder:"Ej. Repasar hooks y useEffect",rows:3})]}),g.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-gray-900 text-white text-sm",children:"Agregar tarea"})]})]}),g.jsxs("section",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Mis tareas"}),g.jsxs("p",{className:"text-gray-600 mb-4 text-sm",children:["Solo se muestran las tareas asociadas a tu usuario (campo"," ",g.jsx("code",{children:"createdBy = user.uid"}),")."]}),a?g.jsx("p",{className:"text-gray-500",children:"Cargando tareas"}):i.length===0?g.jsx("p",{className:"text-gray-500",children:"No hay tareas registradas para tu cuenta. Crea una arriba."}):g.jsx("ul",{className:"space-y-3",children:i.map(f=>g.jsxs("li",{className:"border p-3 rounded-lg bg-white shadow-sm",children:[g.jsx("h3",{className:"font-medium",children:f.title}),g.jsx("p",{className:"text-gray-600 text-sm",children:f.description})]},f.id))})]})]})}function z3(){const{user:t}=ml();return g.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[g.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Perfil del usuario"}),t?g.jsxs("div",{className:"space-y-3",children:[g.jsxs("p",{children:[g.jsx("span",{className:"font-semibold",children:"Nombre: "}),t.displayName||"Sin nombre registrado"]}),g.jsxs("p",{children:[g.jsx("span",{className:"font-semibold",children:"Correo: "}),t.email]}),t.photoURL&&g.jsx("div",{className:"mt-4",children:g.jsx("img",{src:t.photoURL,alt:"Foto de perfil",className:"w-24 h-24 rounded-full border"})})]}):g.jsx("p",{className:"text-gray-600",children:"No hay informacin de usuario disponible."})]})}function B3(){return g.jsx(kC,{children:g.jsxs(S3,{children:[g.jsxs("div",{className:"min-h-screen flex flex-col",children:[g.jsx(w3,{}),g.jsx("main",{className:"flex-grow p-6",children:g.jsxs(mC,{children:[g.jsx(pn,{path:"/",element:g.jsx(N3,{})}),g.jsx(pn,{path:"/nosotras",element:g.jsx(D3,{})}),g.jsx(pn,{path:"/contacto",element:g.jsx(M3,{})}),g.jsx(pn,{path:"/valores",element:g.jsx(V3,{})}),g.jsx(pn,{path:"/confianza",element:g.jsx(k3,{})}),g.jsx(pn,{path:"/login",element:g.jsx(U3,{})}),g.jsx(pn,{path:"/dashboard",element:g.jsx(oE,{children:g.jsx(j3,{})})}),g.jsx(pn,{path:"/perfil",element:g.jsx(oE,{children:g.jsx(z3,{})})}),g.jsx(pn,{path:"*",element:g.jsx("div",{className:"p-6",children:"404 - Pgina no encontrada"})})]})})]}),g.jsx(R3,{})]})})}Ex.createRoot(document.getElementById("root")).render(g.jsx(B3,{}));
