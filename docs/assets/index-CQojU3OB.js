function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function $S(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RE={exports:{}},Ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS=Symbol.for("react.transitional.element"),JS=Symbol.for("react.fragment");function CE(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:XS,type:t,key:i,ref:e!==void 0?e:null,props:n}}Ic.Fragment=JS;Ic.jsx=CE;Ic.jsxs=CE;RE.exports=Ic;var g=RE.exports,xE={exports:{}},W={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=Symbol.for("react.transitional.element"),WS=Symbol.for("react.portal"),ZS=Symbol.for("react.fragment"),ew=Symbol.for("react.strict_mode"),tw=Symbol.for("react.profiler"),nw=Symbol.for("react.consumer"),iw=Symbol.for("react.context"),rw=Symbol.for("react.forward_ref"),sw=Symbol.for("react.suspense"),aw=Symbol.for("react.memo"),IE=Symbol.for("react.lazy"),ow=Symbol.for("react.activity"),hy=Symbol.iterator;function lw(t){return t===null||typeof t!="object"?null:(t=hy&&t[hy]||t["@@iterator"],typeof t=="function"?t:null)}var NE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DE=Object.assign,OE={};function ia(t,e,n){this.props=t,this.context=e,this.refs=OE,this.updater=n||NE}ia.prototype.isReactComponent={};ia.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ME(){}ME.prototype=ia.prototype;function dm(t,e,n){this.props=t,this.context=e,this.refs=OE,this.updater=n||NE}var mm=dm.prototype=new ME;mm.constructor=dm;DE(mm,ia.prototype);mm.isPureReactComponent=!0;var fy=Array.isArray;function Bf(){}var Re={H:null,A:null,T:null,S:null},VE=Object.prototype.hasOwnProperty;function pm(t,e,n){var i=n.ref;return{$$typeof:fm,type:t,key:e,ref:i!==void 0?i:null,props:n}}function uw(t,e){return pm(t.type,e,t.props)}function gm(t){return typeof t=="object"&&t!==null&&t.$$typeof===fm}function cw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dy=/\/+/g;function qh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cw(""+t.key):e.toString(36)}function hw(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Bf,Bf):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function os(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case fm:case WS:a=!0;break;case IE:return a=t._init,os(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+qh(t,0):i,fy(r)?(n="",a!=null&&(n=a.replace(dy,"$&/")+"/"),os(r,e,n,"",function(c){return c})):r!=null&&(gm(r)&&(r=uw(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(dy,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=i===""?".":i+":";if(fy(t))for(var u=0;u<t.length;u++)i=t[u],s=l+qh(i,u),a+=os(i,e,n,s,r);else if(u=lw(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,s=l+qh(i,u++),a+=os(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return os(hw(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Pl(t,e,n){if(t==null)return t;var i=[],r=0;return os(t,i,"","",function(s){return e.call(n,s,r++)}),i}function fw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var my=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},dw={map:Pl,forEach:function(t,e,n){Pl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pl(t,function(){e++}),e},toArray:function(t){return Pl(t,function(e){return e})||[]},only:function(t){if(!gm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Activity=ow;W.Children=dw;W.Component=ia;W.Fragment=ZS;W.Profiler=tw;W.PureComponent=dm;W.StrictMode=ew;W.Suspense=sw;W.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re;W.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Re.H.useMemoCache(t)}};W.cache=function(t){return function(){return t.apply(null,arguments)}};W.cacheSignal=function(){return null};W.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=DE({},t.props),r=t.key;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)!VE.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}return pm(t.type,r,i)};W.createContext=function(t){return t={$$typeof:iw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:nw,_context:t},t};W.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)VE.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return pm(t,s,r)};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:rw,render:t}};W.isValidElement=gm;W.lazy=function(t){return{$$typeof:IE,_payload:{_status:-1,_result:t},_init:fw}};W.memo=function(t,e){return{$$typeof:aw,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=Re.T,n={};Re.T=n;try{var i=t(),r=Re.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Bf,my)}catch(s){my(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),Re.T=e}};W.unstable_useCacheRefresh=function(){return Re.H.useCacheRefresh()};W.use=function(t){return Re.H.use(t)};W.useActionState=function(t,e,n){return Re.H.useActionState(t,e,n)};W.useCallback=function(t,e){return Re.H.useCallback(t,e)};W.useContext=function(t){return Re.H.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t,e){return Re.H.useDeferredValue(t,e)};W.useEffect=function(t,e){return Re.H.useEffect(t,e)};W.useEffectEvent=function(t){return Re.H.useEffectEvent(t)};W.useId=function(){return Re.H.useId()};W.useImperativeHandle=function(t,e,n){return Re.H.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return Re.H.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return Re.H.useLayoutEffect(t,e)};W.useMemo=function(t,e){return Re.H.useMemo(t,e)};W.useOptimistic=function(t,e){return Re.H.useOptimistic(t,e)};W.useReducer=function(t,e,n){return Re.H.useReducer(t,e,n)};W.useRef=function(t){return Re.H.useRef(t)};W.useState=function(t){return Re.H.useState(t)};W.useSyncExternalStore=function(t,e,n){return Re.H.useSyncExternalStore(t,e,n)};W.useTransition=function(){return Re.H.useTransition()};W.version="19.2.0";xE.exports=W;var P=xE.exports;const Ir=$S(P);var PE={exports:{}},Nc={},LE={exports:{}},kE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,te){var J=F.length;F.push(te);e:for(;0<J;){var ve=J-1>>>1,Ue=F[ve];if(0<r(Ue,te))F[ve]=te,F[J]=Ue,J=ve;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var te=F[0],J=F.pop();if(J!==te){F[0]=J;e:for(var ve=0,Ue=F.length,fr=Ue>>>1;ve<fr;){var dr=2*(ve+1)-1,ts=F[dr],qt=dr+1,di=F[qt];if(0>r(ts,J))qt<Ue&&0>r(di,ts)?(F[ve]=di,F[qt]=J,ve=qt):(F[ve]=ts,F[dr]=J,ve=dr);else if(qt<Ue&&0>r(di,J))F[ve]=di,F[qt]=J,ve=qt;else break e}}return te}function r(F,te){var J=F.sortIndex-te.sortIndex;return J!==0?J:F.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],f=1,m=null,p=3,y=!1,x=!1,O=!1,N=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function I(F){for(var te=n(c);te!==null;){if(te.callback===null)i(c);else if(te.startTime<=F)i(c),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(c)}}function j(F){if(O=!1,I(F),!x)if(n(u)!==null)x=!0,H||(H=!0,D());else{var te=n(c);te!==null&&rn(j,te.startTime-F)}}var H=!1,S=-1,b=5,A=-1;function w(){return N?!0:!(t.unstable_now()-A<b)}function C(){if(N=!1,H){var F=t.unstable_now();A=F;var te=!0;try{e:{x=!1,O&&(O=!1,v(S),S=-1),y=!0;var J=p;try{t:{for(I(F),m=n(u);m!==null&&!(m.expirationTime>F&&w());){var ve=m.callback;if(typeof ve=="function"){m.callback=null,p=m.priorityLevel;var Ue=ve(m.expirationTime<=F);if(F=t.unstable_now(),typeof Ue=="function"){m.callback=Ue,I(F),te=!0;break t}m===n(u)&&i(u),I(F)}else i(u);m=n(u)}if(m!==null)te=!0;else{var fr=n(c);fr!==null&&rn(j,fr.startTime-F),te=!1}}break e}finally{m=null,p=J,y=!1}te=void 0}}finally{te?D():H=!1}}}var D;if(typeof E=="function")D=function(){E(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ct=R.port2;R.port1.onmessage=C,D=function(){ct.postMessage(null)}}else D=function(){T(C,0)};function rn(F,te){S=T(function(){F(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var J=p;p=te;try{return F()}finally{p=J}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var J=p;p=F;try{return te()}finally{p=J}},t.unstable_scheduleCallback=function(F,te,J){var ve=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ve+J:ve):J=ve,F){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=J+Ue,F={id:f++,callback:te,priorityLevel:F,startTime:J,expirationTime:Ue,sortIndex:-1},J>ve?(F.sortIndex=J,e(c,F),n(u)===null&&F===n(c)&&(O?(v(S),S=-1):O=!0,rn(j,J-ve))):(F.sortIndex=Ue,e(u,F),x||y||(x=!0,H||(H=!0,D()))),F},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(F){var te=p;return function(){var J=p;p=te;try{return F.apply(this,arguments)}finally{p=J}}}})(kE);LE.exports=kE;var mw=LE.exports,UE={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw=P;function jE(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ei(){}var vt={d:{f:Ei,r:function(){throw Error(jE(522))},D:Ei,C:Ei,L:Ei,m:Ei,X:Ei,S:Ei,M:Ei},p:0,findDOMNode:null},gw=Symbol.for("react.portal");function yw(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gw,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var ro=pw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Dc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(jE(299));return yw(t,e,null,n)};Et.flushSync=function(t){var e=ro.T,n=vt.p;try{if(ro.T=null,vt.p=2,t)return t()}finally{ro.T=e,vt.p=n,vt.d.f()}};Et.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,vt.d.C(t,e))};Et.prefetchDNS=function(t){typeof t=="string"&&vt.d.D(t)};Et.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Dc(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?vt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&vt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Et.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Dc(e.as,e.crossOrigin);vt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&vt.d.M(t)};Et.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Dc(n,e.crossOrigin);vt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Et.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Dc(e.as,e.crossOrigin);vt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else vt.d.m(t)};Et.requestFormReset=function(t){vt.d.r(t)};Et.unstable_batchedUpdates=function(t,e){return t(e)};Et.useFormState=function(t,e,n){return ro.H.useFormState(t,e,n)};Et.useFormStatus=function(){return ro.H.useHostTransitionStatus()};Et.version="19.2.0";function zE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zE)}catch(t){console.error(t)}}zE(),UE.exports=Et;var _w=UE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $e=mw,BE=P,vw=_w;function k(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function FE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function HE(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function py(t){if($o(t)!==t)throw Error(k(188))}function Ew(t){var e=t.alternate;if(!e){if(e=$o(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return py(r),t;if(s===i)return py(r),e;s=s.sibling}throw Error(k(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(k(189))}}if(n.alternate!==i)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function GE(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=GE(t),e!==null)return e;t=t.sibling}return null}var Ce=Object.assign,Tw=Symbol.for("react.element"),Ll=Symbol.for("react.transitional.element"),Ka=Symbol.for("react.portal"),ms=Symbol.for("react.fragment"),QE=Symbol.for("react.strict_mode"),Ff=Symbol.for("react.profiler"),KE=Symbol.for("react.consumer"),Bn=Symbol.for("react.context"),ym=Symbol.for("react.forward_ref"),qf=Symbol.for("react.suspense"),Hf=Symbol.for("react.suspense_list"),_m=Symbol.for("react.memo"),bi=Symbol.for("react.lazy"),Gf=Symbol.for("react.activity"),bw=Symbol.for("react.memo_cache_sentinel"),gy=Symbol.iterator;function ja(t){return t===null||typeof t!="object"?null:(t=gy&&t[gy]||t["@@iterator"],typeof t=="function"?t:null)}var Aw=Symbol.for("react.client.reference");function Qf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Aw?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ms:return"Fragment";case Ff:return"Profiler";case QE:return"StrictMode";case qf:return"Suspense";case Hf:return"SuspenseList";case Gf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ka:return"Portal";case Bn:return t.displayName||"Context";case KE:return(t._context.displayName||"Context")+".Consumer";case ym:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _m:return e=t.displayName||null,e!==null?e:Qf(t.type)||"Memo";case bi:e=t._payload,t=t._init;try{return Qf(t(e))}catch{}}return null}var Ya=Array.isArray,Y=BE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=vw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Nr={pending:!1,data:null,method:null,action:null},Kf=[],ps=-1;function xn(t){return{current:t}}function tt(t){0>ps||(t.current=Kf[ps],Kf[ps]=null,ps--)}function Te(t,e){ps++,Kf[ps]=t.current,t.current=e}var Tn=xn(null),wo=xn(null),ki=xn(null),Du=xn(null);function Ou(t,e){switch(Te(ki,e),Te(wo,t),Te(Tn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?b_(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=b_(e),t=db(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(Tn),Te(Tn,t)}function Us(){tt(Tn),tt(wo),tt(ki)}function Yf(t){t.memoizedState!==null&&Te(Du,t);var e=Tn.current,n=db(e,t.type);e!==n&&(Te(wo,t),Te(Tn,n))}function Mu(t){wo.current===t&&(tt(Tn),tt(wo)),Du.current===t&&(tt(Du),Lo._currentValue=Nr)}var Hh,yy;function Tr(t){if(Hh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hh=e&&e[1]||"",yy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hh+t+yy}var Gh=!1;function Qh(t,e){if(!t||Gh)return"";Gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(y){var p=y}Reflect.construct(t,[],m)}else{try{m.call()}catch(y){p=y}t.call(m.prototype)}}else{try{throw Error()}catch(y){p=y}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(y){if(y&&p&&typeof y.stack=="string")return[y.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var f=`
`+u[i].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=i&&0<=r);break}}}finally{Gh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Tr(n):""}function Sw(t,e){switch(t.tag){case 26:case 27:case 5:return Tr(t.type);case 16:return Tr("Lazy");case 13:return t.child!==e&&e!==null?Tr("Suspense Fallback"):Tr("Suspense");case 19:return Tr("SuspenseList");case 0:case 15:return Qh(t.type,!1);case 11:return Qh(t.type.render,!1);case 1:return Qh(t.type,!0);case 31:return Tr("Activity");default:return""}}function _y(t){try{var e="",n=null;do e+=Sw(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var $f=Object.prototype.hasOwnProperty,vm=$e.unstable_scheduleCallback,Kh=$e.unstable_cancelCallback,ww=$e.unstable_shouldYield,Rw=$e.unstable_requestPaint,kt=$e.unstable_now,Cw=$e.unstable_getCurrentPriorityLevel,YE=$e.unstable_ImmediatePriority,$E=$e.unstable_UserBlockingPriority,Vu=$e.unstable_NormalPriority,xw=$e.unstable_LowPriority,XE=$e.unstable_IdlePriority,Iw=$e.log,Nw=$e.unstable_setDisableYieldValue,Xo=null,Ut=null;function Di(t){if(typeof Iw=="function"&&Nw(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Xo,t)}catch{}}var jt=Math.clz32?Math.clz32:Mw,Dw=Math.log,Ow=Math.LN2;function Mw(t){return t>>>=0,t===0?32:31-(Dw(t)/Ow|0)|0}var kl=256,Ul=262144,jl=4194304;function br(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Oc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=br(i):(a&=l,a!==0?r=br(a):n||(n=l&~t,n!==0&&(r=br(n))))):(l=i&~s,l!==0?r=br(l):a!==0?r=br(a):n||(n=i&~t,n!==0&&(r=br(n)))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:r}function Jo(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Vw(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JE(){var t=jl;return jl<<=1,!(jl&62914560)&&(jl=4194304),t}function Yh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wo(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pw(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-jt(n),m=1<<f;l[f]=0,u[f]=-1;var p=c[f];if(p!==null)for(c[f]=null,f=0;f<p.length;f++){var y=p[f];y!==null&&(y.lane&=-536870913)}n&=~m}i!==0&&WE(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function WE(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-jt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function ZE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-jt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function e0(t,e){var n=e&-e;return n=n&42?1:Em(n),n&(t.suspendedLanes|e)?0:n}function Em(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Tm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function t0(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:Sb(t.type))}function vy(t,e){var n=he.p;try{return he.p=t,e()}finally{he.p=n}}var or=Math.random().toString(36).slice(2),rt="__reactFiber$"+or,xt="__reactProps$"+or,ra="__reactContainer$"+or,Xf="__reactEvents$"+or,Lw="__reactListeners$"+or,kw="__reactHandles$"+or,Ey="__reactResources$"+or,Zo="__reactMarker$"+or;function bm(t){delete t[rt],delete t[xt],delete t[Xf],delete t[Lw],delete t[kw]}function gs(t){var e=t[rt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ra]||n[rt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=C_(t);t!==null;){if(n=t[rt])return n;t=C_(t)}return e}t=n,n=t.parentNode}return null}function sa(t){if(t=t[rt]||t[ra]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function $a(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(k(33))}function Rs(t){var e=t[Ey];return e||(e=t[Ey]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function et(t){t[Zo]=!0}var n0=new Set,i0={};function Kr(t,e){js(t,e),js(t+"Capture",e)}function js(t,e){for(i0[t]=e,t=0;t<e.length;t++)n0.add(e[t])}var Uw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ty={},by={};function jw(t){return $f.call(by,t)?!0:$f.call(Ty,t)?!1:Uw.test(t)?by[t]=!0:(Ty[t]=!0,!1)}function ru(t,e,n){if(jw(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function zl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function On(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Gt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function r0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zw(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jf(t){if(!t._valueTracker){var e=r0(t)?"checked":"value";t._valueTracker=zw(t,e,""+t[e])}}function s0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=r0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Pu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Bw=/[\n"\\]/g;function Yt(t){return t.replace(Bw,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Wf(t,e,n,i,r,s,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Gt(e)):t.value!==""+Gt(e)&&(t.value=""+Gt(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?Zf(t,a,Gt(e)):n!=null?Zf(t,a,Gt(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Gt(l):t.removeAttribute("name")}function a0(t,e,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Jf(t);return}n=n!=null?""+Gt(n):"",e=e!=null?""+Gt(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),Jf(t)}function Zf(t,e,n){e==="number"&&Pu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Cs(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Gt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function o0(t,e,n){if(e!=null&&(e=""+Gt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Gt(n):""}function l0(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(k(92));if(Ya(i)){if(1<i.length)throw Error(k(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Gt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),Jf(t)}function zs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ay(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||Fw.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function u0(t,e,n){if(e!=null&&typeof e!="object")throw Error(k(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&Ay(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&Ay(t,s,e[s])}function Am(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function su(t){return Hw.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var ed=null;function Sm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ys=null,xs=null;function Sy(t){var e=sa(t);if(e&&(t=e.stateNode)){var n=t[xt]||null;e:switch(t=e.stateNode,e.type){case"input":if(Wf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Yt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[xt]||null;if(!r)throw Error(k(90));Wf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&s0(i)}break e;case"textarea":o0(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Cs(t,!!n.multiple,e,!1)}}}var $h=!1;function c0(t,e,n){if($h)return t(e,n);$h=!0;try{var i=t(e);return i}finally{if($h=!1,(ys!==null||xs!==null)&&(Hc(),ys&&(e=ys,t=xs,xs=ys=null,Sy(e),t)))for(e=0;e<t.length;e++)Sy(t[e])}}function Ro(t,e){var n=t.stateNode;if(n===null)return null;var i=n[xt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),td=!1;if(Zn)try{var za={};Object.defineProperty(za,"passive",{get:function(){td=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{td=!1}var Oi=null,wm=null,au=null;function h0(){if(au)return au;var t,e=wm,n=e.length,i,r="value"in Oi?Oi.value:Oi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return au=r.slice(t,1<i?1-i:void 0)}function ou(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bl(){return!0}function wy(){return!1}function It(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bl:wy,this.isPropagationStopped=wy,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),e}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=It(Yr),el=Ce({},Yr,{view:0,detail:0}),Gw=It(el),Xh,Jh,Ba,Vc=Ce({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ba&&(Ba&&t.type==="mousemove"?(Xh=t.screenX-Ba.screenX,Jh=t.screenY-Ba.screenY):Jh=Xh=0,Ba=t),Xh)},movementY:function(t){return"movementY"in t?t.movementY:Jh}}),Ry=It(Vc),Qw=Ce({},Vc,{dataTransfer:0}),Kw=It(Qw),Yw=Ce({},el,{relatedTarget:0}),Wh=It(Yw),$w=Ce({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xw=It($w),Jw=Ce({},Yr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ww=It(Jw),Zw=Ce({},Yr,{data:0}),Cy=It(Zw),e2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=n2[t])?!!e[t]:!1}function Rm(){return i2}var r2=Ce({},el,{key:function(t){if(t.key){var e=e2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ou(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?t2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rm,charCode:function(t){return t.type==="keypress"?ou(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ou(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),s2=It(r2),a2=Ce({},Vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xy=It(a2),o2=Ce({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rm}),l2=It(o2),u2=Ce({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),c2=It(u2),h2=Ce({},Vc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),f2=It(h2),d2=Ce({},Yr,{newState:0,oldState:0}),m2=It(d2),p2=[9,13,27,32],Cm=Zn&&"CompositionEvent"in window,so=null;Zn&&"documentMode"in document&&(so=document.documentMode);var g2=Zn&&"TextEvent"in window&&!so,f0=Zn&&(!Cm||so&&8<so&&11>=so),Iy=" ",Ny=!1;function d0(t,e){switch(t){case"keyup":return p2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _s=!1;function y2(t,e){switch(t){case"compositionend":return m0(e);case"keypress":return e.which!==32?null:(Ny=!0,Iy);case"textInput":return t=e.data,t===Iy&&Ny?null:t;default:return null}}function _2(t,e){if(_s)return t==="compositionend"||!Cm&&d0(t,e)?(t=h0(),au=wm=Oi=null,_s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return f0&&e.locale!=="ko"?null:e.data;default:return null}}var v2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!v2[t.type]:e==="textarea"}function p0(t,e,n,i){ys?xs?xs.push(i):xs=[i]:ys=i,e=Zu(e,"onChange"),0<e.length&&(n=new Mc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var ao=null,Co=null;function E2(t){cb(t,0)}function Pc(t){var e=$a(t);if(s0(e))return t}function Oy(t,e){if(t==="change")return e}var g0=!1;if(Zn){var Zh;if(Zn){var ef="oninput"in document;if(!ef){var My=document.createElement("div");My.setAttribute("oninput","return;"),ef=typeof My.oninput=="function"}Zh=ef}else Zh=!1;g0=Zh&&(!document.documentMode||9<document.documentMode)}function Vy(){ao&&(ao.detachEvent("onpropertychange",y0),Co=ao=null)}function y0(t){if(t.propertyName==="value"&&Pc(Co)){var e=[];p0(e,Co,t,Sm(t)),c0(E2,e)}}function T2(t,e,n){t==="focusin"?(Vy(),ao=e,Co=n,ao.attachEvent("onpropertychange",y0)):t==="focusout"&&Vy()}function b2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pc(Co)}function A2(t,e){if(t==="click")return Pc(e)}function S2(t,e){if(t==="input"||t==="change")return Pc(e)}function w2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bt=typeof Object.is=="function"?Object.is:w2;function xo(t,e){if(Bt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!$f.call(e,r)||!Bt(t[r],e[r]))return!1}return!0}function Py(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ly(t,e){var n=Py(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Py(n)}}function _0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Pu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pu(t.document)}return e}function xm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var R2=Zn&&"documentMode"in document&&11>=document.documentMode,vs=null,nd=null,oo=null,id=!1;function ky(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;id||vs==null||vs!==Pu(i)||(i=vs,"selectionStart"in i&&xm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),oo&&xo(oo,i)||(oo=i,i=Zu(nd,"onSelect"),0<i.length&&(e=new Mc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=vs)))}function vr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Es={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},tf={},E0={};Zn&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function $r(t){if(tf[t])return tf[t];if(!Es[t])return t;var e=Es[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in E0)return tf[t]=e[n];return t}var T0=$r("animationend"),b0=$r("animationiteration"),A0=$r("animationstart"),C2=$r("transitionrun"),x2=$r("transitionstart"),I2=$r("transitioncancel"),S0=$r("transitionend"),w0=new Map,rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rd.push("scrollEnd");function dn(t,e){w0.set(t,e),Kr(e,[t])}var Lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ht=[],Ts=0,Im=0;function Lc(){for(var t=Ts,e=Im=Ts=0;e<t;){var n=Ht[e];Ht[e++]=null;var i=Ht[e];Ht[e++]=null;var r=Ht[e];Ht[e++]=null;var s=Ht[e];if(Ht[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&R0(n,r,s)}}function kc(t,e,n,i){Ht[Ts++]=t,Ht[Ts++]=e,Ht[Ts++]=n,Ht[Ts++]=i,Im|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Nm(t,e,n,i){return kc(t,e,n,i),ku(t)}function Xr(t,e){return kc(t,null,null,e),ku(t)}function R0(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,r&&e!==null&&(r=31-jt(n),t=s.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),s):null}function ku(t){if(50<yo)throw yo=0,wd=null,Error(k(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var bs={};function N2(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,e,n,i){return new N2(t,e,n,i)}function Dm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kn(t,e){var n=t.alternate;return n===null?(n=Mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function C0(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function lu(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")Dm(t)&&(a=1);else if(typeof t=="string")a=PR(t,n,Tn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Gf:return t=Mt(31,n,e,r),t.elementType=Gf,t.lanes=s,t;case ms:return Dr(n.children,r,s,e);case QE:a=8,r|=24;break;case Ff:return t=Mt(12,n,e,r|2),t.elementType=Ff,t.lanes=s,t;case qf:return t=Mt(13,n,e,r),t.elementType=qf,t.lanes=s,t;case Hf:return t=Mt(19,n,e,r),t.elementType=Hf,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bn:a=10;break e;case KE:a=9;break e;case ym:a=11;break e;case _m:a=14;break e;case bi:a=16,i=null;break e}a=29,n=Error(k(130,t===null?"null":typeof t,"")),i=null}return e=Mt(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Dr(t,e,n,i){return t=Mt(7,t,i,e),t.lanes=n,t}function nf(t,e,n){return t=Mt(6,t,null,e),t.lanes=n,t}function x0(t){var e=Mt(18,null,null,0);return e.stateNode=t,e}function rf(t,e,n){return e=Mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Uy=new WeakMap;function $t(t,e){if(typeof t=="object"&&t!==null){var n=Uy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:_y(e)},Uy.set(t,e),e)}return{value:t,source:e,stack:_y(e)}}var As=[],Ss=0,Uu=null,Io=0,Qt=[],Kt=0,Ji=null,_n=1,vn="";function Un(t,e){As[Ss++]=Io,As[Ss++]=Uu,Uu=t,Io=e}function I0(t,e,n){Qt[Kt++]=_n,Qt[Kt++]=vn,Qt[Kt++]=Ji,Ji=t;var i=_n;t=vn;var r=32-jt(i)-1;i&=~(1<<r),n+=1;var s=32-jt(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,_n=1<<32-jt(e)+r|n<<r|i,vn=s+t}else _n=1<<s|n<<r|i,vn=t}function Om(t){t.return!==null&&(Un(t,1),I0(t,1,0))}function Mm(t){for(;t===Uu;)Uu=As[--Ss],As[Ss]=null,Io=As[--Ss],As[Ss]=null;for(;t===Ji;)Ji=Qt[--Kt],Qt[Kt]=null,vn=Qt[--Kt],Qt[Kt]=null,_n=Qt[--Kt],Qt[Kt]=null}function N0(t,e){Qt[Kt++]=_n,Qt[Kt++]=vn,Qt[Kt++]=Ji,_n=e.id,vn=e.overflow,Ji=t}var st=null,Se=null,le=!1,Ui=null,Xt=!1,sd=Error(k(519));function Wi(t){var e=Error(k(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw No($t(e,t)),sd}function jy(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[rt]=t,e[xt]=i,n){case"dialog":ne("cancel",e),ne("close",e);break;case"iframe":case"object":case"embed":ne("load",e);break;case"video":case"audio":for(n=0;n<Vo.length;n++)ne(Vo[n],e);break;case"source":ne("error",e);break;case"img":case"image":case"link":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"input":ne("invalid",e),a0(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ne("invalid",e);break;case"textarea":ne("invalid",e),l0(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||fb(e.textContent,n)?(i.popover!=null&&(ne("beforetoggle",e),ne("toggle",e)),i.onScroll!=null&&ne("scroll",e),i.onScrollEnd!=null&&ne("scrollend",e),i.onClick!=null&&(e.onclick=Fn),e=!0):e=!1,e||Wi(t,!0)}function zy(t){for(st=t.return;st;)switch(st.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:st=st.return}}function ss(t){if(t!==st)return!1;if(!le)return zy(t),le=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Nd(t.type,t.memoizedProps)),n=!n),n&&Se&&Wi(t),zy(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));Se=R_(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));Se=R_(t)}else e===27?(e=Se,lr(t.type)?(t=Vd,Vd=null,Se=t):Se=e):Se=st?Zt(t.stateNode.nextSibling):null;return!0}function Lr(){Se=st=null,le=!1}function sf(){var t=Ui;return t!==null&&(St===null?St=t:St.push.apply(St,t),Ui=null),t}function No(t){Ui===null?Ui=[t]:Ui.push(t)}var ad=xn(null),Jr=null,qn=null;function Si(t,e,n){Te(ad,e._currentValue),e._currentValue=n}function Yn(t){t._currentValue=ad.current,tt(ad)}function od(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ld(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),od(s.return,n,t),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(k(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),od(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function aa(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(k(387));if(a=a.memoizedProps,a!==null){var l=r.type;Bt(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===Du.current){if(a=r.alternate,a===null)throw Error(k(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Lo):t=[Lo])}r=r.return}t!==null&&ld(e,t,n,i),e.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!Bt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function kr(t){Jr=t,qn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ot(t){return D0(Jr,t)}function Fl(t,e){return Jr===null&&kr(t),D0(t,e)}function D0(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},qn===null){if(t===null)throw Error(k(308));qn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else qn=qn.next=e;return n}var D2=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},O2=$e.unstable_scheduleCallback,M2=$e.unstable_NormalPriority,Fe={$$typeof:Bn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vm(){return{controller:new D2,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&O2(M2,function(){t.controller.abort()})}var lo=null,ud=0,Bs=0,Is=null;function V2(t,e){if(lo===null){var n=lo=[];ud=0,Bs=sp(),Is={status:"pending",value:void 0,then:function(i){n.push(i)}}}return ud++,e.then(By,By),e}function By(){if(--ud===0&&lo!==null){Is!==null&&(Is.status="fulfilled");var t=lo;lo=null,Bs=0,Is=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function P2(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Fy=Y.S;Y.S=function(t,e){GT=kt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&V2(t,e),Fy!==null&&Fy(t,e)};var Or=xn(null);function Pm(){var t=Or.current;return t!==null?t:_e.pooledCache}function uu(t,e){e===null?Te(Or,Or.current):Te(Or,e.pool)}function O0(){var t=Pm();return t===null?null:{parent:Fe._currentValue,pool:t}}var oa=Error(k(460)),Lm=Error(k(474)),Uc=Error(k(542)),zu={then:function(){}};function qy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function M0(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Fn,Fn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gy(t),t;default:if(typeof e.status=="string")e.then(Fn,Fn);else{if(t=_e,t!==null&&100<t.shellSuspendCounter)throw Error(k(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gy(t),t}throw Mr=e,oa}}function Ar(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Mr=n,oa):n}}var Mr=null;function Hy(){if(Mr===null)throw Error(k(459));var t=Mr;return Mr=null,t}function Gy(t){if(t===oa||t===Uc)throw Error(k(483))}var Ns=null,Do=0;function ql(t){var e=Do;return Do+=1,Ns===null&&(Ns=[]),M0(Ns,t,e)}function Fa(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Hl(t,e){throw e.$$typeof===Tw?Error(k(525)):(t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function V0(t){function e(T,v){if(t){var E=T.deletions;E===null?(T.deletions=[v],T.flags|=16):E.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function i(T){for(var v=new Map;T!==null;)T.key!==null?v.set(T.key,T):v.set(T.index,T),T=T.sibling;return v}function r(T,v){return T=Kn(T,v),T.index=0,T.sibling=null,T}function s(T,v,E){return T.index=E,t?(E=T.alternate,E!==null?(E=E.index,E<v?(T.flags|=67108866,v):E):(T.flags|=67108866,v)):(T.flags|=1048576,v)}function a(T){return t&&T.alternate===null&&(T.flags|=67108866),T}function l(T,v,E,I){return v===null||v.tag!==6?(v=nf(E,T.mode,I),v.return=T,v):(v=r(v,E),v.return=T,v)}function u(T,v,E,I){var j=E.type;return j===ms?f(T,v,E.props.children,I,E.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===bi&&Ar(j)===v.type)?(v=r(v,E.props),Fa(v,E),v.return=T,v):(v=lu(E.type,E.key,E.props,null,T.mode,I),Fa(v,E),v.return=T,v)}function c(T,v,E,I){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=rf(E,T.mode,I),v.return=T,v):(v=r(v,E.children||[]),v.return=T,v)}function f(T,v,E,I,j){return v===null||v.tag!==7?(v=Dr(E,T.mode,I,j),v.return=T,v):(v=r(v,E),v.return=T,v)}function m(T,v,E){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=nf(""+v,T.mode,E),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ll:return E=lu(v.type,v.key,v.props,null,T.mode,E),Fa(E,v),E.return=T,E;case Ka:return v=rf(v,T.mode,E),v.return=T,v;case bi:return v=Ar(v),m(T,v,E)}if(Ya(v)||ja(v))return v=Dr(v,T.mode,E,null),v.return=T,v;if(typeof v.then=="function")return m(T,ql(v),E);if(v.$$typeof===Bn)return m(T,Fl(T,v),E);Hl(T,v)}return null}function p(T,v,E,I){var j=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return j!==null?null:l(T,v,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ll:return E.key===j?u(T,v,E,I):null;case Ka:return E.key===j?c(T,v,E,I):null;case bi:return E=Ar(E),p(T,v,E,I)}if(Ya(E)||ja(E))return j!==null?null:f(T,v,E,I,null);if(typeof E.then=="function")return p(T,v,ql(E),I);if(E.$$typeof===Bn)return p(T,v,Fl(T,E),I);Hl(T,E)}return null}function y(T,v,E,I,j){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return T=T.get(E)||null,l(v,T,""+I,j);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ll:return T=T.get(I.key===null?E:I.key)||null,u(v,T,I,j);case Ka:return T=T.get(I.key===null?E:I.key)||null,c(v,T,I,j);case bi:return I=Ar(I),y(T,v,E,I,j)}if(Ya(I)||ja(I))return T=T.get(E)||null,f(v,T,I,j,null);if(typeof I.then=="function")return y(T,v,E,ql(I),j);if(I.$$typeof===Bn)return y(T,v,E,Fl(v,I),j);Hl(v,I)}return null}function x(T,v,E,I){for(var j=null,H=null,S=v,b=v=0,A=null;S!==null&&b<E.length;b++){S.index>b?(A=S,S=null):A=S.sibling;var w=p(T,S,E[b],I);if(w===null){S===null&&(S=A);break}t&&S&&w.alternate===null&&e(T,S),v=s(w,v,b),H===null?j=w:H.sibling=w,H=w,S=A}if(b===E.length)return n(T,S),le&&Un(T,b),j;if(S===null){for(;b<E.length;b++)S=m(T,E[b],I),S!==null&&(v=s(S,v,b),H===null?j=S:H.sibling=S,H=S);return le&&Un(T,b),j}for(S=i(S);b<E.length;b++)A=y(S,T,b,E[b],I),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?b:A.key),v=s(A,v,b),H===null?j=A:H.sibling=A,H=A);return t&&S.forEach(function(C){return e(T,C)}),le&&Un(T,b),j}function O(T,v,E,I){if(E==null)throw Error(k(151));for(var j=null,H=null,S=v,b=v=0,A=null,w=E.next();S!==null&&!w.done;b++,w=E.next()){S.index>b?(A=S,S=null):A=S.sibling;var C=p(T,S,w.value,I);if(C===null){S===null&&(S=A);break}t&&S&&C.alternate===null&&e(T,S),v=s(C,v,b),H===null?j=C:H.sibling=C,H=C,S=A}if(w.done)return n(T,S),le&&Un(T,b),j;if(S===null){for(;!w.done;b++,w=E.next())w=m(T,w.value,I),w!==null&&(v=s(w,v,b),H===null?j=w:H.sibling=w,H=w);return le&&Un(T,b),j}for(S=i(S);!w.done;b++,w=E.next())w=y(S,T,b,w.value,I),w!==null&&(t&&w.alternate!==null&&S.delete(w.key===null?b:w.key),v=s(w,v,b),H===null?j=w:H.sibling=w,H=w);return t&&S.forEach(function(D){return e(T,D)}),le&&Un(T,b),j}function N(T,v,E,I){if(typeof E=="object"&&E!==null&&E.type===ms&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ll:e:{for(var j=E.key;v!==null;){if(v.key===j){if(j=E.type,j===ms){if(v.tag===7){n(T,v.sibling),I=r(v,E.props.children),I.return=T,T=I;break e}}else if(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===bi&&Ar(j)===v.type){n(T,v.sibling),I=r(v,E.props),Fa(I,E),I.return=T,T=I;break e}n(T,v);break}else e(T,v);v=v.sibling}E.type===ms?(I=Dr(E.props.children,T.mode,I,E.key),I.return=T,T=I):(I=lu(E.type,E.key,E.props,null,T.mode,I),Fa(I,E),I.return=T,T=I)}return a(T);case Ka:e:{for(j=E.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(T,v.sibling),I=r(v,E.children||[]),I.return=T,T=I;break e}else{n(T,v);break}else e(T,v);v=v.sibling}I=rf(E,T.mode,I),I.return=T,T=I}return a(T);case bi:return E=Ar(E),N(T,v,E,I)}if(Ya(E))return x(T,v,E,I);if(ja(E)){if(j=ja(E),typeof j!="function")throw Error(k(150));return E=j.call(E),O(T,v,E,I)}if(typeof E.then=="function")return N(T,v,ql(E),I);if(E.$$typeof===Bn)return N(T,v,Fl(T,E),I);Hl(T,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,v!==null&&v.tag===6?(n(T,v.sibling),I=r(v,E),I.return=T,T=I):(n(T,v),I=nf(E,T.mode,I),I.return=T,T=I),a(T)):n(T,v)}return function(T,v,E,I){try{Do=0;var j=N(T,v,E,I);return Ns=null,j}catch(S){if(S===oa||S===Uc)throw S;var H=Mt(29,S,null,T.mode);return H.lanes=I,H.return=T,H}finally{}}}var Ur=V0(!0),P0=V0(!1),Ai=!1;function km(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ce&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=ku(t),R0(t,null,n),e}return kc(t,i,e,n),ku(t)}function uo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ZE(t,n)}}function af(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var hd=!1;function co(){if(hd){var t=Is;if(t!==null)throw t}}function ho(t,e,n,i){hd=!1;var r=t.updateQueue;Ai=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var m=r.baseState;a=0,f=c=u=null,l=s;do{var p=l.lane&-536870913,y=p!==l.lane;if(y?(oe&p)===p:(i&p)===p){p!==0&&p===Bs&&(hd=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var x=t,O=l;p=e;var N=n;switch(O.tag){case 1:if(x=O.payload,typeof x=="function"){m=x.call(N,m,p);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=O.payload,p=typeof x=="function"?x.call(N,m,p):x,p==null)break e;m=Ce({},m,p);break e;case 2:Ai=!0}}p=l.callback,p!==null&&(t.flags|=64,y&&(t.flags|=8192),y=r.callbacks,y===null?r.callbacks=[p]:y.push(p))}else y={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=y,u=m):f=f.next=y,a|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;y=l,l=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);f===null&&(u=m),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=f,s===null&&(r.shared.lanes=0),er|=a,t.lanes=a,t.memoizedState=m}}function L0(t,e){if(typeof t!="function")throw Error(k(191,t));t.call(e)}function k0(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)L0(n[t],e)}var Fs=xn(null),Bu=xn(0);function Qy(t,e){t=ii,Te(Bu,t),Te(Fs,e),ii=t|e.baseLanes}function fd(){Te(Bu,ii),Te(Fs,Fs.current)}function Um(){ii=Bu.current,tt(Fs),tt(Bu)}var Ft=xn(null),Wt=null;function wi(t){var e=t.alternate;Te(Pe,Pe.current&1),Te(Ft,t),Wt===null&&(e===null||Fs.current!==null||e.memoizedState!==null)&&(Wt=t)}function dd(t){Te(Pe,Pe.current),Te(Ft,t),Wt===null&&(Wt=t)}function U0(t){t.tag===22?(Te(Pe,Pe.current),Te(Ft,t),Wt===null&&(Wt=t)):Ri()}function Ri(){Te(Pe,Pe.current),Te(Ft,Ft.current)}function Ot(t){tt(Ft),Wt===t&&(Wt=null),tt(Pe)}var Pe=xn(0);function Fu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Od(n)||Md(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ei=0,Z=null,ge=null,ze=null,qu=!1,Ds=!1,jr=!1,Hu=0,Oo=0,Os=null,L2=0;function Oe(){throw Error(k(321))}function jm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bt(t[n],e[n]))return!1;return!0}function zm(t,e,n,i,r,s){return ei=s,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Y.H=t===null||t.memoizedState===null?pT:Jm,jr=!1,s=n(i,r),jr=!1,Ds&&(s=z0(e,n,i,r)),j0(t),s}function j0(t){Y.H=Mo;var e=ge!==null&&ge.next!==null;if(ei=0,ze=ge=Z=null,qu=!1,Oo=0,Os=null,e)throw Error(k(300));t===null||He||(t=t.dependencies,t!==null&&ju(t)&&(He=!0))}function z0(t,e,n,i){Z=t;var r=0;do{if(Ds&&(Os=null),Oo=0,Ds=!1,25<=r)throw Error(k(301));if(r+=1,ze=ge=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Y.H=gT,s=e(n,i)}while(Ds);return s}function k2(){var t=Y.H,e=t.useState()[0];return e=typeof e.then=="function"?nl(e):e,t=t.useState()[0],(ge!==null?ge.memoizedState:null)!==t&&(Z.flags|=1024),e}function Bm(){var t=Hu!==0;return Hu=0,t}function Fm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function qm(t){if(qu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}qu=!1}ei=0,ze=ge=Z=null,Ds=!1,Oo=Hu=0,Os=null}function _t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Z.memoizedState=ze=t:ze=ze.next=t,ze}function ke(){if(ge===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=ze===null?Z.memoizedState:ze.next;if(e!==null)ze=e,ge=t;else{if(t===null)throw Z.alternate===null?Error(k(467)):Error(k(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},ze===null?Z.memoizedState=ze=t:ze=ze.next=t}return ze}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var e=Oo;return Oo+=1,Os===null&&(Os=[]),t=M0(Os,t,e),e=Z,(ze===null?e.memoizedState:ze.next)===null&&(e=e.alternate,Y.H=e===null||e.memoizedState===null?pT:Jm),t}function zc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===Bn)return ot(t)}throw Error(k(438,String(t)))}function Hm(t){var e=null,n=Z.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=Z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=jc(),Z.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=bw;return e.index++,n}function ti(t,e){return typeof e=="function"?e(t):e}function cu(t){var e=ke();return Gm(e,ge,t)}function Gm(t,e,n){var i=t.queue;if(i===null)throw Error(k(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var l=a=null,u=null,c=e,f=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(oe&m)===m:(ei&m)===m){var p=c.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===Bs&&(f=!0);else if((ei&p)===p){c=c.next,p===Bs&&(f=!0);continue}else m={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,Z.lanes|=p,er|=p;m=c.action,jr&&n(s,m),s=c.hasEagerState?c.eagerState:n(s,m)}else p={lane:m,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,Z.lanes|=m,er|=m;c=c.next}while(c!==null&&c!==e);if(u===null?a=s:u.next=l,!Bt(s,t.memoizedState)&&(He=!0,f&&(n=Is,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function of(t){var e=ke(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);Bt(s,e.memoizedState)||(He=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function B0(t,e,n){var i=Z,r=ke(),s=le;if(s){if(n===void 0)throw Error(k(407));n=n()}else n=e();var a=!Bt((ge||r).memoizedState,n);if(a&&(r.memoizedState=n,He=!0),r=r.queue,Qm(H0.bind(null,i,r,t),[t]),r.getSnapshot!==e||a||ze!==null&&ze.memoizedState.tag&1){if(i.flags|=2048,qs(9,{destroy:void 0},q0.bind(null,i,r,n,e),null),_e===null)throw Error(k(349));s||ei&127||F0(i,e,n)}return n}function F0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e=jc(),Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function q0(t,e,n,i){e.value=n,e.getSnapshot=i,G0(e)&&Q0(t)}function H0(t,e,n){return n(function(){G0(e)&&Q0(t)})}function G0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bt(t,n)}catch{return!0}}function Q0(t){var e=Xr(t,2);e!==null&&Ct(e,t,2)}function md(t){var e=_t();if(typeof t=="function"){var n=t;if(t=n(),jr){Di(!0);try{n()}finally{Di(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:t},e}function K0(t,e,n,i){return t.baseState=n,Gm(t,ge,typeof i=="function"?i:ti)}function U2(t,e,n,i,r){if(Fc(t))throw Error(k(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Y.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,Y0(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Y0(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=Y.T,a={};Y.T=a;try{var l=n(r,i),u=Y.S;u!==null&&u(a,l),Ky(t,e,l)}catch(c){pd(t,e,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),Y.T=s}}else try{s=n(r,i),Ky(t,e,s)}catch(c){pd(t,e,c)}}function Ky(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Yy(t,e,i)},function(i){return pd(t,e,i)}):Yy(t,e,n)}function Yy(t,e,n){e.status="fulfilled",e.value=n,$0(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Y0(t,n)))}function pd(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,$0(e),e=e.next;while(e!==i)}t.action=null}function $0(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function X0(t,e){return e}function $y(t,e){if(le){var n=_e.formState;if(n!==null){e:{var i=Z;if(le){if(Se){t:{for(var r=Se,s=Xt;r.nodeType!==8;){if(!s){r=null;break t}if(r=Zt(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Se=Zt(r.nextSibling),i=r.data==="F!";break e}}Wi(i)}i=!1}i&&(e=n[0])}}return n=_t(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X0,lastRenderedState:e},n.queue=i,n=fT.bind(null,Z,i),i.dispatch=n,i=md(!1),s=Xm.bind(null,Z,!1,i.queue),i=_t(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=U2.bind(null,Z,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function Xy(t){var e=ke();return J0(e,ge,t)}function J0(t,e,n){if(e=Gm(t,e,X0)[0],t=cu(ti)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=nl(e)}catch(a){throw a===oa?Uc:a}else i=e;e=ke();var r=e.queue,s=r.dispatch;return n!==e.memoizedState&&(Z.flags|=2048,qs(9,{destroy:void 0},j2.bind(null,r,n),null)),[i,s,t]}function j2(t,e){t.action=e}function Jy(t){var e=ke(),n=ge;if(n!==null)return J0(e,n,t);ke(),e=e.memoizedState,n=ke();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function qs(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=Z.updateQueue,e===null&&(e=jc(),Z.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function W0(){return ke().memoizedState}function hu(t,e,n,i){var r=_t();Z.flags|=t,r.memoizedState=qs(1|e,{destroy:void 0},n,i===void 0?null:i)}function Bc(t,e,n,i){var r=ke();i=i===void 0?null:i;var s=r.memoizedState.inst;ge!==null&&i!==null&&jm(i,ge.memoizedState.deps)?r.memoizedState=qs(e,s,n,i):(Z.flags|=t,r.memoizedState=qs(1|e,s,n,i))}function Wy(t,e){hu(8390656,8,t,e)}function Qm(t,e){Bc(2048,8,t,e)}function z2(t){Z.flags|=4;var e=Z.updateQueue;if(e===null)e=jc(),Z.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Z0(t){var e=ke().memoizedState;return z2({ref:e,nextImpl:t}),function(){if(ce&2)throw Error(k(440));return e.impl.apply(void 0,arguments)}}function eT(t,e){return Bc(4,2,t,e)}function tT(t,e){return Bc(4,4,t,e)}function nT(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iT(t,e,n){n=n!=null?n.concat([t]):null,Bc(4,4,nT.bind(null,e,t),n)}function Km(){}function rT(t,e){var n=ke();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&jm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function sT(t,e){var n=ke();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&jm(e,i[1]))return i[0];if(i=t(),jr){Di(!0);try{t()}finally{Di(!1)}}return n.memoizedState=[i,e],i}function Ym(t,e,n){return n===void 0||ei&1073741824&&!(oe&261930)?t.memoizedState=e:(t.memoizedState=n,t=KT(),Z.lanes|=t,er|=t,n)}function aT(t,e,n,i){return Bt(n,e)?n:Fs.current!==null?(t=Ym(t,n,i),Bt(t,e)||(He=!0),t):!(ei&42)||ei&1073741824&&!(oe&261930)?(He=!0,t.memoizedState=n):(t=KT(),Z.lanes|=t,er|=t,e)}function oT(t,e,n,i,r){var s=he.p;he.p=s!==0&&8>s?s:8;var a=Y.T,l={};Y.T=l,Xm(t,!1,e,n);try{var u=r(),c=Y.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=P2(u,i);fo(t,e,f,zt(t))}else fo(t,e,i,zt(t))}catch(m){fo(t,e,{then:function(){},status:"rejected",reason:m},zt())}finally{he.p=s,a!==null&&l.types!==null&&(a.types=l.types),Y.T=a}}function B2(){}function gd(t,e,n,i){if(t.tag!==5)throw Error(k(476));var r=lT(t).queue;oT(t,r,e,Nr,n===null?B2:function(){return uT(t),n(i)})}function lT(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Nr,baseState:Nr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:Nr},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function uT(t){var e=lT(t);e.next===null&&(e=t.alternate.memoizedState),fo(t,e.next.queue,{},zt())}function $m(){return ot(Lo)}function cT(){return ke().memoizedState}function hT(){return ke().memoizedState}function F2(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=zt();t=ji(n);var i=zi(e,t,n);i!==null&&(Ct(i,e,n),uo(i,e,n)),e={cache:Vm()},t.payload=e;return}e=e.return}}function q2(t,e,n){var i=zt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Fc(t)?dT(e,n):(n=Nm(t,e,n,i),n!==null&&(Ct(n,t,i),mT(n,e,i)))}function fT(t,e,n){var i=zt();fo(t,e,n,i)}function fo(t,e,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fc(t))dT(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Bt(l,a))return kc(t,e,r,0),_e===null&&Lc(),!1}catch{}finally{}if(n=Nm(t,e,r,i),n!==null)return Ct(n,t,i),mT(n,e,i),!0}return!1}function Xm(t,e,n,i){if(i={lane:2,revertLane:sp(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Fc(t)){if(e)throw Error(k(479))}else e=Nm(t,n,i,2),e!==null&&Ct(e,t,2)}function Fc(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function dT(t,e){Ds=qu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mT(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ZE(t,n)}}var Mo={readContext:ot,use:zc,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe};Mo.useEffectEvent=Oe;var pT={readContext:ot,use:zc,useCallback:function(t,e){return _t().memoizedState=[t,e===void 0?null:e],t},useContext:ot,useEffect:Wy,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,hu(4194308,4,nT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hu(4194308,4,t,e)},useInsertionEffect:function(t,e){hu(4,2,t,e)},useMemo:function(t,e){var n=_t();e=e===void 0?null:e;var i=t();if(jr){Di(!0);try{t()}finally{Di(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=_t();if(n!==void 0){var r=n(e);if(jr){Di(!0);try{n(e)}finally{Di(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=q2.bind(null,Z,t),[i.memoizedState,t]},useRef:function(t){var e=_t();return t={current:t},e.memoizedState=t},useState:function(t){t=md(t);var e=t.queue,n=fT.bind(null,Z,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Km,useDeferredValue:function(t,e){var n=_t();return Ym(n,t,e)},useTransition:function(){var t=md(!1);return t=oT.bind(null,Z,t.queue,!0,!1),_t().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Z,r=_t();if(le){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),_e===null)throw Error(k(349));oe&127||F0(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Wy(H0.bind(null,i,s,t),[t]),i.flags|=2048,qs(9,{destroy:void 0},q0.bind(null,i,s,n,e),null),n},useId:function(){var t=_t(),e=_e.identifierPrefix;if(le){var n=vn,i=_n;n=(i&~(1<<32-jt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Hu++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=L2++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:$m,useFormState:$y,useActionState:$y,useOptimistic:function(t){var e=_t();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Xm.bind(null,Z,!0,n),n.dispatch=e,[t,e]},useMemoCache:Hm,useCacheRefresh:function(){return _t().memoizedState=F2.bind(null,Z)},useEffectEvent:function(t){var e=_t(),n={impl:t};return e.memoizedState=n,function(){if(ce&2)throw Error(k(440));return n.impl.apply(void 0,arguments)}}},Jm={readContext:ot,use:zc,useCallback:rT,useContext:ot,useEffect:Qm,useImperativeHandle:iT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:sT,useReducer:cu,useRef:W0,useState:function(){return cu(ti)},useDebugValue:Km,useDeferredValue:function(t,e){var n=ke();return aT(n,ge.memoizedState,t,e)},useTransition:function(){var t=cu(ti)[0],e=ke().memoizedState;return[typeof t=="boolean"?t:nl(t),e]},useSyncExternalStore:B0,useId:cT,useHostTransitionStatus:$m,useFormState:Xy,useActionState:Xy,useOptimistic:function(t,e){var n=ke();return K0(n,ge,t,e)},useMemoCache:Hm,useCacheRefresh:hT};Jm.useEffectEvent=Z0;var gT={readContext:ot,use:zc,useCallback:rT,useContext:ot,useEffect:Qm,useImperativeHandle:iT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:sT,useReducer:of,useRef:W0,useState:function(){return of(ti)},useDebugValue:Km,useDeferredValue:function(t,e){var n=ke();return ge===null?Ym(n,t,e):aT(n,ge.memoizedState,t,e)},useTransition:function(){var t=of(ti)[0],e=ke().memoizedState;return[typeof t=="boolean"?t:nl(t),e]},useSyncExternalStore:B0,useId:cT,useHostTransitionStatus:$m,useFormState:Jy,useActionState:Jy,useOptimistic:function(t,e){var n=ke();return ge!==null?K0(n,ge,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Hm,useCacheRefresh:hT};gT.useEffectEvent=Z0;function lf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yd={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=zt(),r=ji(i);r.payload=e,n!=null&&(r.callback=n),e=zi(t,r,i),e!==null&&(Ct(e,t,i),uo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=zt(),r=ji(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=zi(t,r,i),e!==null&&(Ct(e,t,i),uo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),i=ji(n);i.tag=2,e!=null&&(i.callback=e),e=zi(t,i,n),e!==null&&(Ct(e,t,n),uo(e,t,n))}};function Zy(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!xo(n,i)||!xo(r,s):!0}function e_(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&yd.enqueueReplaceState(e,e.state,null)}function zr(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Ce({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function yT(t){Lu(t)}function _T(t){console.error(t)}function vT(t){Lu(t)}function Gu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function t_(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function _d(t,e,n){return n=ji(n),n.tag=3,n.payload={element:null},n.callback=function(){Gu(t,e)},n}function ET(t){return t=ji(t),t.tag=3,t}function TT(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){t_(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){t_(e,n,i),typeof r!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function H2(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&aa(e,n,r,!0),n=Ft.current,n!==null){switch(n.tag){case 31:case 13:return Wt===null?Xu():n.alternate===null&&Me===0&&(Me=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===zu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),vf(t,i,r)),!1;case 22:return n.flags|=65536,i===zu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),vf(t,i,r)),!1}throw Error(k(435,n.tag))}return vf(t,i,r),Xu(),!1}if(le)return e=Ft.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==sd&&(t=Error(k(422),{cause:i}),No($t(t,n)))):(i!==sd&&(e=Error(k(423),{cause:i}),No($t(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=$t(i,n),r=_d(t.stateNode,i,r),af(t,r),Me!==4&&(Me=2)),!1;var s=Error(k(520),{cause:i});if(s=$t(s,n),go===null?go=[s]:go.push(s),Me!==4&&(Me=2),e===null)return!0;i=$t(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=_d(n.stateNode,i,t),af(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Bi===null||!Bi.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=ET(r),TT(r,t,n,i),af(n,r),!1}n=n.return}while(n!==null);return!1}var Wm=Error(k(461)),He=!1;function nt(t,e,n,i){e.child=t===null?P0(e,null,n,i):Ur(e,t.child,n,i)}function n_(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return kr(e),i=zm(t,e,n,a,s,r),l=Bm(),t!==null&&!He?(Fm(t,e,r),ni(t,e,r)):(le&&l&&Om(e),e.flags|=1,nt(t,e,i,r),e.child)}function i_(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Dm(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,bT(t,e,s,i,r)):(t=lu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Zm(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:xo,n(a,i)&&t.ref===e.ref)return ni(t,e,r)}return e.flags|=1,t=Kn(s,i),t.ref=e.ref,t.return=e,e.child=t}function bT(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(xo(s,i)&&t.ref===e.ref)if(He=!1,e.pendingProps=i=s,Zm(t,r))t.flags&131072&&(He=!0);else return e.lanes=t.lanes,ni(t,e,r)}return vd(t,e,n,i,r)}function AT(t,e,n,i){var r=i.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,e.child=null;return r_(t,e,s,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&uu(e,s!==null?s.cachePool:null),s!==null?Qy(e,s):fd(),U0(e);else return i=e.lanes=536870912,r_(t,e,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(uu(e,s.cachePool),Qy(e,s),Ri(),e.memoizedState=null):(t!==null&&uu(e,null),fd(),Ri());return nt(t,e,r,n),e.child}function Xa(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function r_(t,e,n,i,r){var s=Pm();return s=s===null?null:{parent:Fe._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&uu(e,null),fd(),U0(e),t!==null&&aa(t,e,i,!0),e.childLanes=r,null}function fu(t,e){return e=Qu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function s_(t,e,n){return Ur(e,t.child,null,n),t=fu(e,e.pendingProps),t.flags|=2,Ot(e),e.memoizedState=null,t}function G2(t,e,n){var i=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(le){if(i.mode==="hidden")return t=fu(e,i),e.lanes=536870912,Xa(null,t);if(dd(e),(t=Se)?(t=pb(t,Xt),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ji!==null?{id:_n,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},n=x0(t),n.return=e,e.child=n,st=e,Se=null)):t=null,t===null)throw Wi(e);return e.lanes=536870912,null}return fu(e,i)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(dd(e),r)if(e.flags&256)e.flags&=-257,e=s_(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(k(558));else if(He||aa(t,e,n,!1),r=(n&t.childLanes)!==0,He||r){if(i=_e,i!==null&&(a=e0(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,Xr(t,a),Ct(i,t,a),Wm;Xu(),e=s_(t,e,n)}else t=s.treeContext,Se=Zt(a.nextSibling),st=e,le=!0,Ui=null,Xt=!1,t!==null&&N0(e,t),e=fu(e,i),e.flags|=4096;return e}return t=Kn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function du(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(k(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function vd(t,e,n,i,r){return kr(e),n=zm(t,e,n,i,void 0,r),i=Bm(),t!==null&&!He?(Fm(t,e,r),ni(t,e,r)):(le&&i&&Om(e),e.flags|=1,nt(t,e,n,r),e.child)}function a_(t,e,n,i,r,s){return kr(e),e.updateQueue=null,n=z0(e,i,n,r),j0(t),i=Bm(),t!==null&&!He?(Fm(t,e,s),ni(t,e,s)):(le&&i&&Om(e),e.flags|=1,nt(t,e,n,s),e.child)}function o_(t,e,n,i,r){if(kr(e),e.stateNode===null){var s=bs,a=n.contextType;typeof a=="object"&&a!==null&&(s=ot(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=yd,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},km(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?ot(a):bs,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(lf(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&yd.enqueueReplaceState(s,s.state,null),ho(e,i,s,r),co(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var l=e.memoizedProps,u=zr(n,l);s.props=u;var c=s.context,f=n.contextType;a=bs,typeof f=="object"&&f!==null&&(a=ot(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==a)&&e_(e,s,i,a),Ai=!1;var p=e.memoizedState;s.state=p,ho(e,i,s,r),co(),c=e.memoizedState,l||p!==c||Ai?(typeof m=="function"&&(lf(e,n,m,i),c=e.memoizedState),(u=Ai||Zy(e,n,u,i,p,c,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,cd(t,e),a=e.memoizedProps,f=zr(n,a),s.props=f,m=e.pendingProps,p=s.context,c=n.contextType,u=bs,typeof c=="object"&&c!==null&&(u=ot(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||p!==u)&&e_(e,s,i,u),Ai=!1,p=e.memoizedState,s.state=p,ho(e,i,s,r),co();var y=e.memoizedState;a!==m||p!==y||Ai||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof l=="function"&&(lf(e,n,l,i),y=e.memoizedState),(f=Ai||Zy(e,n,f,i,p,y,u)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,y,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),s.props=i,s.state=y,s.context=u,i=f):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,du(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=Ur(e,t.child,null,r),e.child=Ur(e,null,n,r)):nt(t,e,n,r),e.memoizedState=s.state,t=e.child):t=ni(t,e,r),t}function l_(t,e,n,i){return Lr(),e.flags|=256,nt(t,e,n,i),e.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(t){return{baseLanes:t,cachePool:O0()}}function hf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Pt),t}function ST(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(Pe.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(le){if(r?wi(e):Ri(),(t=Se)?(t=pb(t,Xt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ji!==null?{id:_n,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},n=x0(t),n.return=e,e.child=n,st=e,Se=null)):t=null,t===null)throw Wi(e);return Md(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(Ri(),r=e.mode,l=Qu({mode:"hidden",children:l},r),i=Dr(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=cf(n),i.childLanes=hf(t,a,n),e.memoizedState=uf,Xa(null,i)):(wi(e),Ed(e,l))}var u=t.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(s)e.flags&256?(wi(e),e.flags&=-257,e=ff(t,e,n)):e.memoizedState!==null?(Ri(),e.child=t.child,e.flags|=128,e=null):(Ri(),l=i.fallback,r=e.mode,i=Qu({mode:"visible",children:i.children},r),l=Dr(l,r,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Ur(e,t.child,null,n),i=e.child,i.memoizedState=cf(n),i.childLanes=hf(t,a,n),e.memoizedState=uf,e=Xa(null,i));else if(wi(e),Md(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(k(419)),i.stack="",i.digest=a,No({value:i,source:null,stack:null}),e=ff(t,e,n)}else if(He||aa(t,e,n,!1),a=(n&t.childLanes)!==0,He||a){if(a=_e,a!==null&&(i=e0(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,Xr(t,i),Ct(a,t,i),Wm;Od(l)||Xu(),e=ff(t,e,n)}else Od(l)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Se=Zt(l.nextSibling),st=e,le=!0,Ui=null,Xt=!1,t!==null&&N0(e,t),e=Ed(e,i.children),e.flags|=4096);return e}return r?(Ri(),l=i.fallback,r=e.mode,u=t.child,c=u.sibling,i=Kn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?l=Kn(c,l):(l=Dr(l,r,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,Xa(null,i),i=e.child,l=t.child.memoizedState,l===null?l=cf(n):(r=l.cachePool,r!==null?(u=Fe._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=O0(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=hf(t,a,n),e.memoizedState=uf,Xa(t.child,i)):(wi(e),n=t.child,t=n.sibling,n=Kn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Ed(t,e){return e=Qu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Qu(t,e){return t=Mt(22,t,null,e),t.lanes=0,t}function ff(t,e,n){return Ur(e,t.child,null,n),t=Ed(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function u_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),od(t.return,e,n)}function df(t,e,n,i,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function wT(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=Pe.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,Te(Pe,a),nt(t,e,i,n),i=le?Io:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u_(t,n,e);else if(t.tag===19)u_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Fu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),df(e,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Fu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}df(e,!0,n,null,s,i);break;case"together":df(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function ni(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),er|=e.lanes,!(n&e.childLanes))if(t!==null){if(aa(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=Kn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Zm(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function Q2(t,e,n){switch(e.tag){case 3:Ou(e,e.stateNode.containerInfo),Si(e,Fe,t.memoizedState.cache),Lr();break;case 27:case 5:Yf(e);break;case 4:Ou(e,e.stateNode.containerInfo);break;case 10:Si(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,dd(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(wi(e),e.flags|=128,null):n&e.child.childLanes?ST(t,e,n):(wi(e),t=ni(t,e,n),t!==null?t.sibling:null);wi(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(aa(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return wT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Te(Pe,Pe.current),i)break;return null;case 22:return e.lanes=0,AT(t,e,n,e.pendingProps);case 24:Si(e,Fe,t.memoizedState.cache)}return ni(t,e,n)}function RT(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)He=!0;else{if(!Zm(t,n)&&!(e.flags&128))return He=!1,Q2(t,e,n);He=!!(t.flags&131072)}else He=!1,le&&e.flags&1048576&&I0(e,Io,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Ar(e.elementType),e.type=t,typeof t=="function")Dm(t)?(i=zr(t,i),e.tag=1,e=o_(null,e,t,i,n)):(e.tag=0,e=vd(null,e,t,i,n));else{if(t!=null){var r=t.$$typeof;if(r===ym){e.tag=11,e=n_(null,e,t,i,n);break e}else if(r===_m){e.tag=14,e=i_(null,e,t,i,n);break e}}throw e=Qf(t)||t,Error(k(306,e,""))}}return e;case 0:return vd(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=zr(i,e.pendingProps),o_(t,e,i,r,n);case 3:e:{if(Ou(e,e.stateNode.containerInfo),t===null)throw Error(k(387));i=e.pendingProps;var s=e.memoizedState;r=s.element,cd(t,e),ho(e,i,null,n);var a=e.memoizedState;if(i=a.cache,Si(e,Fe,i),i!==s.cache&&ld(e,[Fe],n,!0),co(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=l_(t,e,i,n);break e}else if(i!==r){r=$t(Error(k(424)),e),No(r),e=l_(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Se=Zt(t.firstChild),st=e,le=!0,Ui=null,Xt=!0,n=P0(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Lr(),i===r){e=ni(t,e,n);break e}nt(t,e,i,n)}e=e.child}return e;case 26:return du(t,e),t===null?(n=I_(e.type,null,e.pendingProps,null))?e.memoizedState=n:le||(n=e.type,t=e.pendingProps,i=ec(ki.current).createElement(n),i[rt]=e,i[xt]=t,lt(i,n,t),et(i),e.stateNode=i):e.memoizedState=I_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Yf(e),t===null&&le&&(i=e.stateNode=gb(e.type,e.pendingProps,ki.current),st=e,Xt=!0,r=Se,lr(e.type)?(Vd=r,Se=Zt(i.firstChild)):Se=r),nt(t,e,e.pendingProps.children,n),du(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&le&&((r=i=Se)&&(i=bR(i,e.type,e.pendingProps,Xt),i!==null?(e.stateNode=i,st=e,Se=Zt(i.firstChild),Xt=!1,r=!0):r=!1),r||Wi(e)),Yf(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,Nd(r,s)?i=null:a!==null&&Nd(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=zm(t,e,k2,null,null,n),Lo._currentValue=r),du(t,e),nt(t,e,i,n),e.child;case 6:return t===null&&le&&((t=n=Se)&&(n=AR(n,e.pendingProps,Xt),n!==null?(e.stateNode=n,st=e,Se=null,t=!0):t=!1),t||Wi(e)),null;case 13:return ST(t,e,n);case 4:return Ou(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ur(e,null,i,n):nt(t,e,i,n),e.child;case 11:return n_(t,e,e.type,e.pendingProps,n);case 7:return nt(t,e,e.pendingProps,n),e.child;case 8:return nt(t,e,e.pendingProps.children,n),e.child;case 12:return nt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Si(e,e.type,i.value),nt(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,kr(e),r=ot(r),i=i(r),e.flags|=1,nt(t,e,i,n),e.child;case 14:return i_(t,e,e.type,e.pendingProps,n);case 15:return bT(t,e,e.type,e.pendingProps,n);case 19:return wT(t,e,n);case 31:return G2(t,e,n);case 22:return AT(t,e,n,e.pendingProps);case 24:return kr(e),i=ot(Fe),t===null?(r=Pm(),r===null&&(r=_e,s=Vm(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},km(e),Si(e,Fe,r)):(t.lanes&n&&(cd(t,e),ho(e,null,null,n),co()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Si(e,Fe,i)):(i=s.cache,Si(e,Fe,i),i!==r.cache&&ld(e,[Fe],n,!0))),nt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(k(156,e.tag))}function Mn(t){t.flags|=4}function mf(t,e,n,i,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(XT())t.flags|=8192;else throw Mr=zu,Lm}else t.flags&=-16777217}function c_(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!vb(e))if(XT())t.flags|=8192;else throw Mr=zu,Lm}function Gl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?JE():536870912,t.lanes|=e,Hs|=e)}function qa(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function K2(t,e,n){var i=e.pendingProps;switch(Mm(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(e),null;case 1:return Ae(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Yn(Fe),Us(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ss(e)?Mn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sf())),Ae(e),null;case 26:var r=e.type,s=e.memoizedState;return t===null?(Mn(e),s!==null?(Ae(e),c_(e,s)):(Ae(e),mf(e,r,null,i,n))):s?s!==t.memoizedState?(Mn(e),Ae(e),c_(e,s)):(Ae(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Mn(e),Ae(e),mf(e,r,t,i,n)),null;case 27:if(Mu(e),n=ki.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Mn(e);else{if(!i){if(e.stateNode===null)throw Error(k(166));return Ae(e),null}t=Tn.current,ss(e)?jy(e):(t=gb(r,i,n),e.stateNode=t,Mn(e))}return Ae(e),null;case 5:if(Mu(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Mn(e);else{if(!i){if(e.stateNode===null)throw Error(k(166));return Ae(e),null}if(s=Tn.current,ss(e))jy(e);else{var a=ec(ki.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[rt]=e,s[xt]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(lt(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Mn(e)}}return Ae(e),mf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Mn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(k(166));if(t=ki.current,ss(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=st,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[rt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||fb(t.nodeValue,n)),t||Wi(e,!0)}else t=ec(t).createTextNode(i),t[rt]=e,e.stateNode=t}return Ae(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=ss(e),n!==null){if(t===null){if(!i)throw Error(k(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(557));t[rt]=e}else Lr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),t=!1}else n=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Ot(e),e):(Ot(e),null);if(e.flags&128)throw Error(k(558))}return Ae(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=ss(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(k(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(k(317));r[rt]=e}else Lr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),r=!1}else r=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Ot(e),e):(Ot(e),null)}return Ot(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Gl(e,e.updateQueue),Ae(e),null);case 4:return Us(),t===null&&ap(e.stateNode.containerInfo),Ae(e),null;case 10:return Yn(e.type),Ae(e),null;case 19:if(tt(Pe),i=e.memoizedState,i===null)return Ae(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)qa(i,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Fu(t),s!==null){for(e.flags|=128,qa(i,!1),t=s.updateQueue,e.updateQueue=t,Gl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)C0(n,t),n=n.sibling;return Te(Pe,Pe.current&1|2),le&&Un(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&kt()>Yu&&(e.flags|=128,r=!0,qa(i,!1),e.lanes=4194304)}else{if(!r)if(t=Fu(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Gl(e,t),qa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!le)return Ae(e),null}else 2*kt()-i.renderingStartTime>Yu&&n!==536870912&&(e.flags|=128,r=!0,qa(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=kt(),t.sibling=null,n=Pe.current,Te(Pe,r?n&1|2:n&1),le&&Un(e,i.treeForkCount),t):(Ae(e),null);case 22:case 23:return Ot(e),Um(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Ae(e),e.subtreeFlags&6&&(e.flags|=8192)):Ae(e),n=e.updateQueue,n!==null&&Gl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&tt(Or),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Yn(Fe),Ae(e),null;case 25:return null;case 30:return null}throw Error(k(156,e.tag))}function Y2(t,e){switch(Mm(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yn(Fe),Us(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Mu(e),null;case 31:if(e.memoizedState!==null){if(Ot(e),e.alternate===null)throw Error(k(340));Lr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Ot(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Lr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(Pe),null;case 4:return Us(),null;case 10:return Yn(e.type),null;case 22:case 23:return Ot(e),Um(),t!==null&&tt(Or),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Yn(Fe),null;case 25:return null;default:return null}}function CT(t,e){switch(Mm(e),e.tag){case 3:Yn(Fe),Us();break;case 26:case 27:case 5:Mu(e);break;case 4:Us();break;case 31:e.memoizedState!==null&&Ot(e);break;case 13:Ot(e);break;case 19:tt(Pe);break;case 10:Yn(e.type);break;case 22:case 23:Ot(e),Um(),t!==null&&tt(Or);break;case 24:Yn(Fe)}}function il(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){me(e,e.return,l)}}function Zi(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var u=n,c=l;try{c()}catch(f){me(r,u,f)}}}i=i.next}while(i!==s)}}catch(f){me(e,e.return,f)}}function xT(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{k0(e,n)}catch(i){me(t,t.return,i)}}}function IT(t,e,n){n.props=zr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){me(t,e,i)}}function mo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){me(t,e,r)}}function En(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){me(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function NT(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){me(t,t.return,r)}}function pf(t,e,n){try{var i=t.stateNode;gR(i,t.type,n,e),i[xt]=e}catch(r){me(t,t.return,r)}}function DT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Td(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fn));else if(i!==4&&(i===27&&lr(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Td(t,e,n),t=t.sibling;t!==null;)Td(t,e,n),t=t.sibling}function Ku(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&lr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Ku(t,e,n),t=t.sibling;t!==null;)Ku(t,e,n),t=t.sibling}function OT(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);lt(e,i,n),e[rt]=t,e[xt]=n}catch(s){me(t,t.return,s)}}var jn=!1,Be=!1,yf=!1,h_=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function $2(t,e){if(t=t.containerInfo,xd=rc,t=v0(t),xm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,f=0,m=t,p=null;t:for(;;){for(var y;m!==n||r!==0&&m.nodeType!==3||(l=a+r),m!==s||i!==0&&m.nodeType!==3||(u=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(y=m.firstChild)!==null;)p=m,m=y;for(;;){if(m===t)break t;if(p===n&&++c===r&&(l=a),p===s&&++f===i&&(u=a),(y=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Id={focusedElem:t,selectionRange:n},rc=!1,Ze=e;Ze!==null;)if(e=Ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ze=t;else for(;Ze!==null;){switch(e=Ze,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var x=zr(n.type,r);t=i.getSnapshotBeforeUpdate(x,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(O){me(n,n.return,O)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Dd(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(k(163))}if(t=e.sibling,t!==null){t.return=e.return,Ze=t;break}Ze=e.return}}function MT(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Pn(t,n),i&4&&il(5,n);break;case 1:if(Pn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){me(n,n.return,a)}else{var r=zr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){me(n,n.return,a)}}i&64&&xT(n),i&512&&mo(n,n.return);break;case 3:if(Pn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{k0(t,e)}catch(a){me(n,n.return,a)}}break;case 27:e===null&&i&4&&OT(n);case 26:case 5:Pn(t,n),e===null&&i&4&&NT(n),i&512&&mo(n,n.return);break;case 12:Pn(t,n);break;case 31:Pn(t,n),i&4&&LT(t,n);break;case 13:Pn(t,n),i&4&&kT(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=rR.bind(null,n),SR(t,n))));break;case 22:if(i=n.memoizedState!==null||jn,!i){e=e!==null&&e.memoizedState!==null||Be,r=jn;var s=Be;jn=i,(Be=e)&&!s?Ln(t,n,(n.subtreeFlags&8772)!==0):Pn(t,n),jn=r,Be=s}break;case 30:break;default:Pn(t,n)}}function VT(t){var e=t.alternate;e!==null&&(t.alternate=null,VT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&bm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var xe=null,At=!1;function Vn(t,e,n){for(n=n.child;n!==null;)PT(t,e,n),n=n.sibling}function PT(t,e,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Xo,n)}catch{}switch(n.tag){case 26:Be||En(n,e),Vn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Be||En(n,e);var i=xe,r=At;lr(n.type)&&(xe=n.stateNode,At=!1),Vn(t,e,n),_o(n.stateNode),xe=i,At=r;break;case 5:Be||En(n,e);case 6:if(i=xe,r=At,xe=null,Vn(t,e,n),xe=i,At=r,xe!==null)if(At)try{(xe.nodeType===9?xe.body:xe.nodeName==="HTML"?xe.ownerDocument.body:xe).removeChild(n.stateNode)}catch(s){me(n,e,s)}else try{xe.removeChild(n.stateNode)}catch(s){me(n,e,s)}break;case 18:xe!==null&&(At?(t=xe,S_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ys(t)):S_(xe,n.stateNode));break;case 4:i=xe,r=At,xe=n.stateNode.containerInfo,At=!0,Vn(t,e,n),xe=i,At=r;break;case 0:case 11:case 14:case 15:Zi(2,n,e),Be||Zi(4,n,e),Vn(t,e,n);break;case 1:Be||(En(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&IT(n,e,i)),Vn(t,e,n);break;case 21:Vn(t,e,n);break;case 22:Be=(i=Be)||n.memoizedState!==null,Vn(t,e,n),Be=i;break;default:Vn(t,e,n)}}function LT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ys(t)}catch(n){me(e,e.return,n)}}}function kT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ys(t)}catch(n){me(e,e.return,n)}}function X2(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new h_),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new h_),e;default:throw Error(k(435,t.tag))}}function Ql(t,e){var n=X2(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var r=sR.bind(null,t,i);i.then(r,r)}})}function Tt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(lr(l.type)){xe=l.stateNode,At=!1;break e}break;case 5:xe=l.stateNode,At=!1;break e;case 3:case 4:xe=l.stateNode.containerInfo,At=!0;break e}l=l.return}if(xe===null)throw Error(k(160));PT(s,a,r),xe=null,At=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)UT(e,t),e=e.sibling}var an=null;function UT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tt(e,t),bt(t),i&4&&(Zi(3,t,t.return),il(3,t),Zi(5,t,t.return));break;case 1:Tt(e,t),bt(t),i&512&&(Be||n===null||En(n,n.return)),i&64&&jn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=an;if(Tt(e,t),bt(t),i&512&&(Be||n===null||En(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Zo]||s[rt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),lt(s,i,n),s[rt]=t,et(s),i=s;break e;case"link":var a=D_("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),lt(s,i,n),r.head.appendChild(s);break;case"meta":if(a=D_("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),lt(s,i,n),r.head.appendChild(s);break;default:throw Error(k(468,i))}s[rt]=t,et(s),i=s}t.stateNode=i}else O_(r,t.type,t.stateNode);else t.stateNode=N_(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?O_(r,t.type,t.stateNode):N_(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&pf(t,t.memoizedProps,n.memoizedProps)}break;case 27:Tt(e,t),bt(t),i&512&&(Be||n===null||En(n,n.return)),n!==null&&i&4&&pf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Tt(e,t),bt(t),i&512&&(Be||n===null||En(n,n.return)),t.flags&32){r=t.stateNode;try{zs(r,"")}catch(x){me(t,t.return,x)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,pf(t,r,n!==null?n.memoizedProps:r)),i&1024&&(yf=!0);break;case 6:if(Tt(e,t),bt(t),i&4){if(t.stateNode===null)throw Error(k(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(x){me(t,t.return,x)}}break;case 3:if(gu=null,r=an,an=tc(e.containerInfo),Tt(e,t),an=r,bt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ys(e.containerInfo)}catch(x){me(t,t.return,x)}yf&&(yf=!1,jT(t));break;case 4:i=an,an=tc(t.stateNode.containerInfo),Tt(e,t),bt(t),an=i;break;case 12:Tt(e,t),bt(t);break;case 31:Tt(e,t),bt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ql(t,i)));break;case 13:Tt(e,t),bt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(qc=kt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ql(t,i)));break;case 22:r=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=jn,f=Be;if(jn=c||r,Be=f||u,Tt(e,t),Be=f,jn=c,bt(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||u||jn||Be||Sr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var m=u.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;l.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(x){me(u,u.return,x)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(x){me(u,u.return,x)}}}else if(e.tag===18){if(n===null){u=e;try{var y=u.stateNode;r?w_(y,!0):w_(u.stateNode,!1)}catch(x){me(u,u.return,x)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Ql(t,n))));break;case 19:Tt(e,t),bt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ql(t,i)));break;case 30:break;case 21:break;default:Tt(e,t),bt(t)}}function bt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(DT(i)){n=i;break}i=i.return}if(n==null)throw Error(k(160));switch(n.tag){case 27:var r=n.stateNode,s=gf(t);Ku(t,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(zs(a,""),n.flags&=-33);var l=gf(t);Ku(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=gf(t);Td(t,c,u);break;default:throw Error(k(161))}}catch(f){me(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jT(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;jT(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Pn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)MT(t,e.alternate,e),e=e.sibling}function Sr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Zi(4,e,e.return),Sr(e);break;case 1:En(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&IT(e,e.return,n),Sr(e);break;case 27:_o(e.stateNode);case 26:case 5:En(e,e.return),Sr(e);break;case 22:e.memoizedState===null&&Sr(e);break;case 30:Sr(e);break;default:Sr(e)}t=t.sibling}}function Ln(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:Ln(r,s,n),il(4,s);break;case 1:if(Ln(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){me(i,i.return,c)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)L0(u[r],l)}catch(c){me(i,i.return,c)}}n&&a&64&&xT(s),mo(s,s.return);break;case 27:OT(s);case 26:case 5:Ln(r,s,n),n&&i===null&&a&4&&NT(s),mo(s,s.return);break;case 12:Ln(r,s,n);break;case 31:Ln(r,s,n),n&&a&4&&LT(r,s);break;case 13:Ln(r,s,n),n&&a&4&&kT(r,s);break;case 22:s.memoizedState===null&&Ln(r,s,n),mo(s,s.return);break;case 30:break;default:Ln(r,s,n)}e=e.sibling}}function ep(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&tl(n))}function tp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&tl(t))}function sn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zT(t,e,n,i),e=e.sibling}function zT(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:sn(t,e,n,i),r&2048&&il(9,e);break;case 1:sn(t,e,n,i);break;case 3:sn(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&tl(t)));break;case 12:if(r&2048){sn(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){me(e,e.return,u)}}else sn(t,e,n,i);break;case 31:sn(t,e,n,i);break;case 13:sn(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?sn(t,e,n,i):po(t,e):s._visibility&2?sn(t,e,n,i):(s._visibility|=2,ls(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),r&2048&&ep(a,e);break;case 24:sn(t,e,n,i),r&2048&&tp(e.alternate,e);break;default:sn(t,e,n,i)}}function ls(t,e,n,i,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,l=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:ls(s,a,l,u,r),il(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?ls(s,a,l,u,r):po(s,a):(f._visibility|=2,ls(s,a,l,u,r)),r&&c&2048&&ep(a.alternate,a);break;case 24:ls(s,a,l,u,r),r&&c&2048&&tp(a.alternate,a);break;default:ls(s,a,l,u,r)}e=e.sibling}}function po(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:po(n,i),r&2048&&ep(i.alternate,i);break;case 24:po(n,i),r&2048&&tp(i.alternate,i);break;default:po(n,i)}e=e.sibling}}var Ja=8192;function as(t,e,n){if(t.subtreeFlags&Ja)for(t=t.child;t!==null;)BT(t,e,n),t=t.sibling}function BT(t,e,n){switch(t.tag){case 26:as(t,e,n),t.flags&Ja&&t.memoizedState!==null&&LR(n,an,t.memoizedState,t.memoizedProps);break;case 5:as(t,e,n);break;case 3:case 4:var i=an;an=tc(t.stateNode.containerInfo),as(t,e,n),an=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ja,Ja=16777216,as(t,e,n),Ja=i):as(t,e,n));break;default:as(t,e,n)}}function FT(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ha(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ze=i,HT(i,t)}FT(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qT(t),t=t.sibling}function qT(t){switch(t.tag){case 0:case 11:case 15:Ha(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:Ha(t);break;case 12:Ha(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,mu(t)):Ha(t);break;default:Ha(t)}}function mu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ze=i,HT(i,t)}FT(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Zi(8,e,e.return),mu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,mu(e));break;default:mu(e)}t=t.sibling}}function HT(t,e){for(;Ze!==null;){var n=Ze;switch(n.tag){case 0:case 11:case 15:Zi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:tl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ze=i;else e:for(n=t;Ze!==null;){i=Ze;var r=i.sibling,s=i.return;if(VT(i),i===n){Ze=null;break e}if(r!==null){r.return=s,Ze=r;break e}Ze=s}}}var J2={getCacheForType:function(t){var e=ot(Fe),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return ot(Fe).controller.signal}},W2=typeof WeakMap=="function"?WeakMap:Map,ce=0,_e=null,ie=null,oe=0,de=0,Dt=null,Mi=!1,la=!1,np=!1,ii=0,Me=0,er=0,Vr=0,ip=0,Pt=0,Hs=0,go=null,St=null,bd=!1,qc=0,GT=0,Yu=1/0,$u=null,Bi=null,Ke=0,Fi=null,Gs=null,$n=0,Ad=0,Sd=null,QT=null,yo=0,wd=null;function zt(){return ce&2&&oe!==0?oe&-oe:Y.T!==null?sp():t0()}function KT(){if(Pt===0)if(!(oe&536870912)||le){var t=Ul;Ul<<=1,!(Ul&3932160)&&(Ul=262144),Pt=t}else Pt=536870912;return t=Ft.current,t!==null&&(t.flags|=32),Pt}function Ct(t,e,n){(t===_e&&(de===2||de===9)||t.cancelPendingCommit!==null)&&(Qs(t,0),Vi(t,oe,Pt,!1)),Wo(t,n),(!(ce&2)||t!==_e)&&(t===_e&&(!(ce&2)&&(Vr|=n),Me===4&&Vi(t,oe,Pt,!1)),In(t))}function YT(t,e,n){if(ce&6)throw Error(k(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Jo(t,e),r=i?tR(t,e):_f(t,e,!0),s=i;do{if(r===0){la&&!i&&Vi(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!Z2(n)){r=_f(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=go;var u=l.current.memoizedState.isDehydrated;if(u&&(Qs(l,a).flags|=256),a=_f(l,a,!1),a!==2){if(np&&!u){l.errorRecoveryDisabledLanes|=s,Vr|=s,r=4;break e}s=St,St=r,s!==null&&(St===null?St=s:St.push.apply(St,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Qs(t,0),Vi(t,e,0,!0);break}e:{switch(i=t,s=r,s){case 0:case 1:throw Error(k(345));case 4:if((e&4194048)!==e)break;case 6:Vi(i,e,Pt,!Mi);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(k(329))}if((e&62914560)===e&&(r=qc+300-kt(),10<r)){if(Vi(i,e,Pt,!Mi),Oc(i,0,!0)!==0)break e;$n=e,i.timeoutHandle=mb(f_.bind(null,i,n,St,$u,bd,e,Pt,Vr,Hs,Mi,s,"Throttled",-0,0),r);break e}f_(i,n,St,$u,bd,e,Pt,Vr,Hs,Mi,s,null,-0,0)}}break}while(!0);In(t)}function f_(t,e,n,i,r,s,a,l,u,c,f,m,p,y){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},BT(e,s,m);var x=(s&62914560)===s?qc-kt():(s&4194048)===s?GT-kt():0;if(x=kR(m,x),x!==null){$n=s,t.cancelPendingCommit=x(m_.bind(null,t,e,s,n,i,r,a,l,u,f,m,null,p,y)),Vi(t,s,a,!c);return}}m_(t,e,s,n,i,r,a,l,u)}function Z2(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Bt(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vi(t,e,n,i){e&=~ip,e&=~Vr,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-jt(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&WE(t,n,e)}function Hc(){return ce&6?!0:(rl(0),!1)}function rp(){if(ie!==null){if(de===0)var t=ie.return;else t=ie,qn=Jr=null,qm(t),Ns=null,Do=0,t=ie;for(;t!==null;)CT(t.alternate,t),t=t.return;ie=null}}function Qs(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,vR(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),$n=0,rp(),_e=t,ie=n=Kn(t.current,null),oe=e,de=0,Dt=null,Mi=!1,la=Jo(t,e),np=!1,Hs=Pt=ip=Vr=er=Me=0,St=go=null,bd=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-jt(i),s=1<<r;e|=t[r],i&=~s}return ii=e,Lc(),n}function $T(t,e){Z=null,Y.H=Mo,e===oa||e===Uc?(e=Hy(),de=3):e===Lm?(e=Hy(),de=4):de=e===Wm?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Dt=e,ie===null&&(Me=1,Gu(t,$t(e,t.current)))}function XT(){var t=Ft.current;return t===null?!0:(oe&4194048)===oe?Wt===null:(oe&62914560)===oe||oe&536870912?t===Wt:!1}function JT(){var t=Y.H;return Y.H=Mo,t===null?Mo:t}function WT(){var t=Y.A;return Y.A=J2,t}function Xu(){Me=4,Mi||(oe&4194048)!==oe&&Ft.current!==null||(la=!0),!(er&134217727)&&!(Vr&134217727)||_e===null||Vi(_e,oe,Pt,!1)}function _f(t,e,n){var i=ce;ce|=2;var r=JT(),s=WT();(_e!==t||oe!==e)&&($u=null,Qs(t,e)),e=!1;var a=Me;e:do try{if(de!==0&&ie!==null){var l=ie,u=Dt;switch(de){case 8:rp(),a=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(e=!0);var c=de;if(de=0,Dt=null,ws(t,l,u,c),n&&la){a=0;break e}break;default:c=de,de=0,Dt=null,ws(t,l,u,c)}}eR(),a=Me;break}catch(f){$T(t,f)}while(!0);return e&&t.shellSuspendCounter++,qn=Jr=null,ce=i,Y.H=r,Y.A=s,ie===null&&(_e=null,oe=0,Lc()),a}function eR(){for(;ie!==null;)ZT(ie)}function tR(t,e){var n=ce;ce|=2;var i=JT(),r=WT();_e!==t||oe!==e?($u=null,Yu=kt()+500,Qs(t,e)):la=Jo(t,e);e:do try{if(de!==0&&ie!==null){e=ie;var s=Dt;t:switch(de){case 1:de=0,Dt=null,ws(t,e,s,1);break;case 2:case 9:if(qy(s)){de=0,Dt=null,d_(e);break}e=function(){de!==2&&de!==9||_e!==t||(de=7),In(t)},s.then(e,e);break e;case 3:de=7;break e;case 4:de=5;break e;case 7:qy(s)?(de=0,Dt=null,d_(e)):(de=0,Dt=null,ws(t,e,s,7));break;case 5:var a=null;switch(ie.tag){case 26:a=ie.memoizedState;case 5:case 27:var l=ie;if(a?vb(a):l.stateNode.complete){de=0,Dt=null;var u=l.sibling;if(u!==null)ie=u;else{var c=l.return;c!==null?(ie=c,Gc(c)):ie=null}break t}}de=0,Dt=null,ws(t,e,s,5);break;case 6:de=0,Dt=null,ws(t,e,s,6);break;case 8:rp(),Me=6;break e;default:throw Error(k(462))}}nR();break}catch(f){$T(t,f)}while(!0);return qn=Jr=null,Y.H=i,Y.A=r,ce=n,ie!==null?0:(_e=null,oe=0,Lc(),Me)}function nR(){for(;ie!==null&&!ww();)ZT(ie)}function ZT(t){var e=RT(t.alternate,t,ii);t.memoizedProps=t.pendingProps,e===null?Gc(t):ie=e}function d_(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=a_(n,e,e.pendingProps,e.type,void 0,oe);break;case 11:e=a_(n,e,e.pendingProps,e.type.render,e.ref,oe);break;case 5:qm(e);default:CT(n,e),e=ie=C0(e,ii),e=RT(n,e,ii)}t.memoizedProps=t.pendingProps,e===null?Gc(t):ie=e}function ws(t,e,n,i){qn=Jr=null,qm(e),Ns=null,Do=0;var r=e.return;try{if(H2(t,r,e,n,oe)){Me=1,Gu(t,$t(n,t.current)),ie=null;return}}catch(s){if(r!==null)throw ie=r,s;Me=1,Gu(t,$t(n,t.current)),ie=null;return}e.flags&32768?(le||i===1?t=!0:la||oe&536870912?t=!1:(Mi=t=!0,(i===2||i===9||i===3||i===6)&&(i=Ft.current,i!==null&&i.tag===13&&(i.flags|=16384))),eb(e,t)):Gc(e)}function Gc(t){var e=t;do{if(e.flags&32768){eb(e,Mi);return}t=e.return;var n=K2(e.alternate,e,ii);if(n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);Me===0&&(Me=5)}function eb(t,e){do{var n=Y2(t.alternate,t);if(n!==null){n.flags&=32767,ie=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ie=t;return}ie=t=n}while(t!==null);Me=6,ie=null}function m_(t,e,n,i,r,s,a,l,u){t.cancelPendingCommit=null;do Qc();while(Ke!==0);if(ce&6)throw Error(k(327));if(e!==null){if(e===t.current)throw Error(k(177));if(s=e.lanes|e.childLanes,s|=Im,Pw(t,n,s,a,l,u),t===_e&&(ie=_e=null,oe=0),Gs=e,Fi=t,$n=n,Ad=s,Sd=r,QT=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,aR(Vu,function(){return sb(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=Y.T,Y.T=null,r=he.p,he.p=2,a=ce,ce|=4;try{$2(t,e,n)}finally{ce=a,he.p=r,Y.T=i}}Ke=1,tb(),nb(),ib()}}function tb(){if(Ke===1){Ke=0;var t=Fi,e=Gs,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Y.T,Y.T=null;var i=he.p;he.p=2;var r=ce;ce|=4;try{UT(e,t);var s=Id,a=v0(t.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&_0(l.ownerDocument.documentElement,l)){if(u!==null&&xm(l)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(f,l.value.length);else{var m=l.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var y=p.getSelection(),x=l.textContent.length,O=Math.min(u.start,x),N=u.end===void 0?O:Math.min(u.end,x);!y.extend&&O>N&&(a=N,N=O,O=a);var T=Ly(l,O),v=Ly(l,N);if(T&&v&&(y.rangeCount!==1||y.anchorNode!==T.node||y.anchorOffset!==T.offset||y.focusNode!==v.node||y.focusOffset!==v.offset)){var E=m.createRange();E.setStart(T.node,T.offset),y.removeAllRanges(),O>N?(y.addRange(E),y.extend(v.node,v.offset)):(E.setEnd(v.node,v.offset),y.addRange(E))}}}}for(m=[],y=l;y=y.parentNode;)y.nodeType===1&&m.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<m.length;l++){var I=m[l];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}rc=!!xd,Id=xd=null}finally{ce=r,he.p=i,Y.T=n}}t.current=e,Ke=2}}function nb(){if(Ke===2){Ke=0;var t=Fi,e=Gs,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Y.T,Y.T=null;var i=he.p;he.p=2;var r=ce;ce|=4;try{MT(t,e.alternate,e)}finally{ce=r,he.p=i,Y.T=n}}Ke=3}}function ib(){if(Ke===4||Ke===3){Ke=0,Rw();var t=Fi,e=Gs,n=$n,i=QT;e.subtreeFlags&10256||e.flags&10256?Ke=5:(Ke=0,Gs=Fi=null,rb(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Bi=null),Tm(n),e=e.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Xo,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=Y.T,r=he.p,he.p=2,Y.T=null;try{for(var s=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{Y.T=e,he.p=r}}$n&3&&Qc(),In(t),r=t.pendingLanes,n&261930&&r&42?t===wd?yo++:(yo=0,wd=t):yo=0,rl(0)}}function rb(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,tl(e)))}function Qc(){return tb(),nb(),ib(),sb()}function sb(){if(Ke!==5)return!1;var t=Fi,e=Ad;Ad=0;var n=Tm($n),i=Y.T,r=he.p;try{he.p=32>n?32:n,Y.T=null,n=Sd,Sd=null;var s=Fi,a=$n;if(Ke=0,Gs=Fi=null,$n=0,ce&6)throw Error(k(331));var l=ce;if(ce|=4,qT(s.current),zT(s,s.current,a,n),ce=l,rl(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Xo,s)}catch{}return!0}finally{he.p=r,Y.T=i,rb(t,e)}}function p_(t,e,n){e=$t(n,e),e=_d(t.stateNode,e,2),t=zi(t,e,2),t!==null&&(Wo(t,2),In(t))}function me(t,e,n){if(t.tag===3)p_(t,t,n);else for(;e!==null;){if(e.tag===3){p_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Bi===null||!Bi.has(i))){t=$t(n,t),n=ET(2),i=zi(e,n,2),i!==null&&(TT(n,i,e,t),Wo(i,2),In(i));break}}e=e.return}}function vf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new W2;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(np=!0,r.add(n),t=iR.bind(null,t,e,n),e.then(t,t))}function iR(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,_e===t&&(oe&n)===n&&(Me===4||Me===3&&(oe&62914560)===oe&&300>kt()-qc?!(ce&2)&&Qs(t,0):ip|=n,Hs===oe&&(Hs=0)),In(t)}function ab(t,e){e===0&&(e=JE()),t=Xr(t,e),t!==null&&(Wo(t,e),In(t))}function rR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ab(t,n)}function sR(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(k(314))}i!==null&&i.delete(e),ab(t,n)}function aR(t,e){return vm(t,e)}var Ju=null,us=null,Rd=!1,Wu=!1,Ef=!1,Pi=0;function In(t){t!==us&&t.next===null&&(us===null?Ju=us=t:us=us.next=t),Wu=!0,Rd||(Rd=!0,lR())}function rl(t,e){if(!Ef&&Wu){Ef=!0;do for(var n=!1,i=Ju;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-jt(42|t)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,g_(i,s))}else s=oe,s=Oc(i,i===_e?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Jo(i,s)||(n=!0,g_(i,s));i=i.next}while(n);Ef=!1}}function oR(){ob()}function ob(){Wu=Rd=!1;var t=0;Pi!==0&&_R()&&(t=Pi);for(var e=kt(),n=null,i=Ju;i!==null;){var r=i.next,s=lb(i,e);s===0?(i.next=null,n===null?Ju=r:n.next=r,r===null&&(us=n)):(n=i,(t!==0||s&3)&&(Wu=!0)),i=r}Ke!==0&&Ke!==5||rl(t),Pi!==0&&(Pi=0)}function lb(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-jt(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=Vw(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}if(e=_e,n=oe,n=Oc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(de===2||de===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Kh(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Jo(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Kh(i),Tm(n)){case 2:case 8:n=$E;break;case 32:n=Vu;break;case 268435456:n=XE;break;default:n=Vu}return i=ub.bind(null,t),n=vm(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Kh(i),t.callbackPriority=2,t.callbackNode=null,2}function ub(t,e){if(Ke!==0&&Ke!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Qc()&&t.callbackNode!==n)return null;var i=oe;return i=Oc(t,t===_e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(YT(t,i,e),lb(t,kt()),t.callbackNode!=null&&t.callbackNode===n?ub.bind(null,t):null)}function g_(t,e){if(Qc())return null;YT(t,e,!0)}function lR(){ER(function(){ce&6?vm(YE,oR):ob()})}function sp(){if(Pi===0){var t=Bs;t===0&&(t=kl,kl<<=1,!(kl&261888)&&(kl=256)),Pi=t}return Pi}function y_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:su(""+t)}function __(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function uR(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=y_((r[xt]||null).action),a=i.submitter;a&&(e=(e=a[xt]||null)?y_(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var l=new Mc("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Pi!==0){var u=a?__(r,a):new FormData(r);gd(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?__(r,a):new FormData(r),gd(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Tf=0;Tf<rd.length;Tf++){var bf=rd[Tf],cR=bf.toLowerCase(),hR=bf[0].toUpperCase()+bf.slice(1);dn(cR,"on"+hR)}dn(T0,"onAnimationEnd");dn(b0,"onAnimationIteration");dn(A0,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(C2,"onTransitionRun");dn(x2,"onTransitionStart");dn(I2,"onTransitionCancel");dn(S0,"onTransitionEnd");js("onMouseEnter",["mouseout","mouseover"]);js("onMouseLeave",["mouseout","mouseover"]);js("onPointerEnter",["pointerout","pointerover"]);js("onPointerLeave",["pointerout","pointerover"]);Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vo));function cb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){Lu(f)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){Lu(f)}r.currentTarget=null,s=u}}}}function ne(t,e){var n=e[Xf];n===void 0&&(n=e[Xf]=new Set);var i=t+"__bubble";n.has(i)||(hb(e,t,2,!1),n.add(i))}function Af(t,e,n){var i=0;e&&(i|=4),hb(n,t,i,e)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function ap(t){if(!t[Kl]){t[Kl]=!0,n0.forEach(function(n){n!=="selectionchange"&&(fR.has(n)||Af(n,!1,t),Af(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kl]||(e[Kl]=!0,Af("selectionchange",!1,e))}}function hb(t,e,n,i){switch(Sb(e)){case 2:var r=zR;break;case 8:r=BR;break;default:r=cp}n=r.bind(null,e,n,t),r=void 0,!td||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Sf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=gs(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue e}l=l.parentNode}}i=i.return}c0(function(){var c=s,f=Sm(n),m=[];e:{var p=w0.get(t);if(p!==void 0){var y=Mc,x=t;switch(t){case"keypress":if(ou(n)===0)break e;case"keydown":case"keyup":y=s2;break;case"focusin":x="focus",y=Wh;break;case"focusout":x="blur",y=Wh;break;case"beforeblur":case"afterblur":y=Wh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ry;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Kw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=l2;break;case T0:case b0:case A0:y=Xw;break;case S0:y=c2;break;case"scroll":case"scrollend":y=Gw;break;case"wheel":y=f2;break;case"copy":case"cut":case"paste":y=Ww;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=xy;break;case"toggle":case"beforetoggle":y=m2}var O=(e&4)!==0,N=!O&&(t==="scroll"||t==="scrollend"),T=O?p!==null?p+"Capture":null:p;O=[];for(var v=c,E;v!==null;){var I=v;if(E=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||E===null||T===null||(I=Ro(v,T),I!=null&&O.push(Po(v,I,E))),N)break;v=v.return}0<O.length&&(p=new y(p,x,null,n,f),m.push({event:p,listeners:O}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==ed&&(x=n.relatedTarget||n.fromElement)&&(gs(x)||x[ra]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=c,x=x?gs(x):null,x!==null&&(N=$o(x),O=x.tag,x!==N||O!==5&&O!==27&&O!==6)&&(x=null)):(y=null,x=c),y!==x)){if(O=Ry,I="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(O=xy,I="onPointerLeave",T="onPointerEnter",v="pointer"),N=y==null?p:$a(y),E=x==null?p:$a(x),p=new O(I,v+"leave",y,n,f),p.target=N,p.relatedTarget=E,I=null,gs(f)===c&&(O=new O(T,v+"enter",x,n,f),O.target=E,O.relatedTarget=N,I=O),N=I,y&&x)t:{for(O=dR,T=y,v=x,E=0,I=T;I;I=O(I))E++;I=0;for(var j=v;j;j=O(j))I++;for(;0<E-I;)T=O(T),E--;for(;0<I-E;)v=O(v),I--;for(;E--;){if(T===v||v!==null&&T===v.alternate){O=T;break t}T=O(T),v=O(v)}O=null}else O=null;y!==null&&v_(m,p,y,O,!1),x!==null&&N!==null&&v_(m,N,x,O,!0)}}e:{if(p=c?$a(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var H=Oy;else if(Dy(p))if(g0)H=S2;else{H=b2;var S=T2}else y=p.nodeName,!y||y.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&Am(c.elementType)&&(H=Oy):H=A2;if(H&&(H=H(t,c))){p0(m,H,n,f);break e}S&&S(t,p,c),t==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&Zf(p,"number",p.value)}switch(S=c?$a(c):window,t){case"focusin":(Dy(S)||S.contentEditable==="true")&&(vs=S,nd=c,oo=null);break;case"focusout":oo=nd=vs=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,ky(m,n,f);break;case"selectionchange":if(R2)break;case"keydown":case"keyup":ky(m,n,f)}var b;if(Cm)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else _s?d0(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(f0&&n.locale!=="ko"&&(_s||A!=="onCompositionStart"?A==="onCompositionEnd"&&_s&&(b=h0()):(Oi=f,wm="value"in Oi?Oi.value:Oi.textContent,_s=!0)),S=Zu(c,A),0<S.length&&(A=new Cy(A,t,null,n,f),m.push({event:A,listeners:S}),b?A.data=b:(b=m0(n),b!==null&&(A.data=b)))),(b=g2?y2(t,n):_2(t,n))&&(A=Zu(c,"onBeforeInput"),0<A.length&&(S=new Cy("onBeforeInput","beforeinput",null,n,f),m.push({event:S,listeners:A}),S.data=b)),uR(m,t,c,n,f)}cb(m,e)})}function Po(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Ro(t,n),r!=null&&i.unshift(Po(t,r,s)),r=Ro(t,e),r!=null&&i.push(Po(t,r,s))),t.tag===3)return i;t=t.return}return[]}function dR(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function v_(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,r?(c=Ro(n,s),c!=null&&a.unshift(Po(n,c,u))):r||(c=Ro(n,s),c!=null&&a.push(Po(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var mR=/\r\n?/g,pR=/\u0000|\uFFFD/g;function E_(t){return(typeof t=="string"?t:""+t).replace(mR,`
`).replace(pR,"")}function fb(t,e){return e=E_(e),E_(t)===e}function pe(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||zs(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&zs(t,""+i);break;case"className":zl(t,"class",i);break;case"tabIndex":zl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":zl(t,n,i);break;case"style":u0(t,i,s);break;case"data":if(e!=="object"){zl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=su(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&pe(t,e,"name",r.name,r,null),pe(t,e,"formEncType",r.formEncType,r,null),pe(t,e,"formMethod",r.formMethod,r,null),pe(t,e,"formTarget",r.formTarget,r,null)):(pe(t,e,"encType",r.encType,r,null),pe(t,e,"method",r.method,r,null),pe(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=su(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Fn);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(k(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=su(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ne("beforetoggle",t),ne("toggle",t),ru(t,"popover",i);break;case"xlinkActuate":On(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":On(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":On(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":On(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":On(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":On(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":On(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":On(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":On(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ru(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=qw.get(n)||n,ru(t,n,i))}}function Cd(t,e,n,i,r,s){switch(n){case"style":u0(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(k(60));t.innerHTML=n}}break;case"children":typeof i=="string"?zs(t,i):(typeof i=="number"||typeof i=="bigint")&&zs(t,""+i);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!i0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[xt]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):ru(t,n,i)}}}function lt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",t),ne("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(k(137,e));default:pe(t,e,s,a,n,null)}}r&&pe(t,e,"srcSet",n.srcSet,n,null),i&&pe(t,e,"src",n.src,n,null);return;case"input":ne("invalid",t);var l=s=a=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(k(137,e));break;default:pe(t,e,i,f,n,null)}}a0(t,s,l,u,c,a,r,!1);return;case"select":ne("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:pe(t,e,r,l,n,null)}e=s,n=a,t.multiple=!!i,e!=null?Cs(t,!!i,e,!1):n!=null&&Cs(t,!!i,n,!0);return;case"textarea":ne("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(k(91));break;default:pe(t,e,a,l,n,null)}l0(t,i,r,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pe(t,e,u,i,n,null)}return;case"dialog":ne("beforetoggle",t),ne("toggle",t),ne("cancel",t),ne("close",t);break;case"iframe":case"object":ne("load",t);break;case"video":case"audio":for(i=0;i<Vo.length;i++)ne(Vo[i],t);break;case"image":ne("error",t),ne("load",t);break;case"details":ne("toggle",t);break;case"embed":case"source":case"link":ne("error",t),ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(k(137,e));default:pe(t,e,c,i,n,null)}return;default:if(Am(e)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&Cd(t,e,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&pe(t,e,l,i,n,null))}function gR(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,c=null,f=null;for(y in n){var m=n[y];if(n.hasOwnProperty(y)&&m!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=m;default:i.hasOwnProperty(y)||pe(t,e,y,null,i,m)}}for(var p in i){var y=i[p];if(m=n[p],i.hasOwnProperty(p)&&(y!=null||m!=null))switch(p){case"type":s=y;break;case"name":r=y;break;case"checked":c=y;break;case"defaultChecked":f=y;break;case"value":a=y;break;case"defaultValue":l=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(k(137,e));break;default:y!==m&&pe(t,e,p,y,i,m)}}Wf(t,a,l,u,c,f,s,r);return;case"select":y=a=l=p=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":y=u;default:i.hasOwnProperty(s)||pe(t,e,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&pe(t,e,r,s,i,u)}e=l,n=a,i=y,p!=null?Cs(t,!!n,p,!1):!!i!=!!n&&(e!=null?Cs(t,!!n,e,!0):Cs(t,!!n,n?[]:"",!1));return;case"textarea":y=p=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:pe(t,e,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":p=r;break;case"defaultValue":y=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(k(91));break;default:r!==s&&pe(t,e,a,r,i,s)}o0(t,p,y);return;case"option":for(var x in n)if(p=n[x],n.hasOwnProperty(x)&&p!=null&&!i.hasOwnProperty(x))switch(x){case"selected":t.selected=!1;break;default:pe(t,e,x,null,i,p)}for(u in i)if(p=i[u],y=n[u],i.hasOwnProperty(u)&&p!==y&&(p!=null||y!=null))switch(u){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:pe(t,e,u,p,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var O in n)p=n[O],n.hasOwnProperty(O)&&p!=null&&!i.hasOwnProperty(O)&&pe(t,e,O,null,i,p);for(c in i)if(p=i[c],y=n[c],i.hasOwnProperty(c)&&p!==y&&(p!=null||y!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(k(137,e));break;default:pe(t,e,c,p,i,y)}return;default:if(Am(e)){for(var N in n)p=n[N],n.hasOwnProperty(N)&&p!==void 0&&!i.hasOwnProperty(N)&&Cd(t,e,N,void 0,i,p);for(f in i)p=i[f],y=n[f],!i.hasOwnProperty(f)||p===y||p===void 0&&y===void 0||Cd(t,e,f,p,i,y);return}}for(var T in n)p=n[T],n.hasOwnProperty(T)&&p!=null&&!i.hasOwnProperty(T)&&pe(t,e,T,null,i,p);for(m in i)p=i[m],y=n[m],!i.hasOwnProperty(m)||p===y||p==null&&y==null||pe(t,e,m,p,i,y)}function T_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yR(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&T_(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>l)break;var f=u.transferSize,m=u.initiatorType;f&&T_(m)&&(u=u.responseEnd,a+=f*(u<l?1:(l-c)/(u-c)))}if(--i,e+=8*(s+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xd=null,Id=null;function ec(t){return t.nodeType===9?t:t.ownerDocument}function b_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function db(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Nd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wf=null;function _R(){var t=window.event;return t&&t.type==="popstate"?t===wf?!1:(wf=t,!0):(wf=null,!1)}var mb=typeof setTimeout=="function"?setTimeout:void 0,vR=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,ER=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(TR)}:mb;function TR(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function S_(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(r),Ys(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")_o(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,_o(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[Zo]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&_o(t.ownerDocument.body);n=r}while(n);Ys(e)}function w_(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Dd(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Dd(n),bm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function bR(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Zo])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Zt(t.nextSibling),t===null)break}return null}function AR(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Zt(t.nextSibling),t===null))return null;return t}function pb(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Zt(t.nextSibling),t===null))return null;return t}function Od(t){return t.data==="$?"||t.data==="$~"}function Md(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function SR(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Zt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Vd=null;function R_(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Zt(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function C_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function gb(t,e,n){switch(e=ec(n),t){case"html":if(t=e.documentElement,!t)throw Error(k(452));return t;case"head":if(t=e.head,!t)throw Error(k(453));return t;case"body":if(t=e.body,!t)throw Error(k(454));return t;default:throw Error(k(451))}}function _o(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);bm(t)}var tn=new Map,x_=new Set;function tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ui=he.d;he.d={f:wR,r:RR,D:CR,C:xR,L:IR,m:NR,X:OR,S:DR,M:MR};function wR(){var t=ui.f(),e=Hc();return t||e}function RR(t){var e=sa(t);e!==null&&e.tag===5&&e.type==="form"?uT(e):ui.r(t)}var ua=typeof document>"u"?null:document;function yb(t,e,n){var i=ua;if(i&&typeof e=="string"&&e){var r=Yt(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),x_.has(r)||(x_.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),lt(e,"link",t),et(e),i.head.appendChild(e)))}}function CR(t){ui.D(t),yb("dns-prefetch",t,null)}function xR(t,e){ui.C(t,e),yb("preconnect",t,e)}function IR(t,e,n){ui.L(t,e,n);var i=ua;if(i&&t&&e){var r='link[rel="preload"][as="'+Yt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Yt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Yt(n.imageSizes)+'"]')):r+='[href="'+Yt(t)+'"]';var s=r;switch(e){case"style":s=Ks(t);break;case"script":s=ca(t)}tn.has(s)||(t=Ce({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),tn.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(sl(s))||e==="script"&&i.querySelector(al(s))||(e=i.createElement("link"),lt(e,"link",t),et(e),i.head.appendChild(e)))}}function NR(t,e){ui.m(t,e);var n=ua;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Yt(i)+'"][href="'+Yt(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ca(t)}if(!tn.has(s)&&(t=Ce({rel:"modulepreload",href:t},e),tn.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(al(s)))return}i=n.createElement("link"),lt(i,"link",t),et(i),n.head.appendChild(i)}}}function DR(t,e,n){ui.S(t,e,n);var i=ua;if(i&&t){var r=Rs(i).hoistableStyles,s=Ks(t);e=e||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(sl(s)))l.loading=5;else{t=Ce({rel:"stylesheet",href:t,"data-precedence":e},n),(n=tn.get(s))&&op(t,n);var u=a=i.createElement("link");et(u),lt(u,"link",t),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,pu(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function OR(t,e){ui.X(t,e);var n=ua;if(n&&t){var i=Rs(n).hoistableScripts,r=ca(t),s=i.get(r);s||(s=n.querySelector(al(r)),s||(t=Ce({src:t,async:!0},e),(e=tn.get(r))&&lp(t,e),s=n.createElement("script"),et(s),lt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function MR(t,e){ui.M(t,e);var n=ua;if(n&&t){var i=Rs(n).hoistableScripts,r=ca(t),s=i.get(r);s||(s=n.querySelector(al(r)),s||(t=Ce({src:t,async:!0,type:"module"},e),(e=tn.get(r))&&lp(t,e),s=n.createElement("script"),et(s),lt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function I_(t,e,n,i){var r=(r=ki.current)?tc(r):null;if(!r)throw Error(k(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ks(n.href),n=Rs(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ks(n.href);var s=Rs(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector(sl(t)))&&!s._p&&(a.instance=s,a.state.loading=5),tn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},tn.set(t,n),s||VR(r,t,n,a.state))),e&&i===null)throw Error(k(528,""));return a}if(e&&i!==null)throw Error(k(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ca(n),n=Rs(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(k(444,t))}}function Ks(t){return'href="'+Yt(t)+'"'}function sl(t){return'link[rel="stylesheet"]['+t+"]"}function _b(t){return Ce({},t,{"data-precedence":t.precedence,precedence:null})}function VR(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),lt(e,"link",n),et(e),t.head.appendChild(e))}function ca(t){return'[src="'+Yt(t)+'"]'}function al(t){return"script[async]"+t}function N_(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Yt(n.href)+'"]');if(i)return e.instance=i,et(i),i;var r=Ce({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),et(i),lt(i,"style",r),pu(i,n.precedence,t),e.instance=i;case"stylesheet":r=Ks(n.href);var s=t.querySelector(sl(r));if(s)return e.state.loading|=4,e.instance=s,et(s),s;i=_b(n),(r=tn.get(r))&&op(i,r),s=(t.ownerDocument||t).createElement("link"),et(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),lt(s,"link",i),e.state.loading|=4,pu(s,n.precedence,t),e.instance=s;case"script":return s=ca(n.src),(r=t.querySelector(al(s)))?(e.instance=r,et(r),r):(i=n,(r=tn.get(s))&&(i=Ce({},n),lp(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),et(r),lt(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(k(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,pu(i,n.precedence,t));return e.instance}function pu(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function op(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function lp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var gu=null;function D_(t,e,n){if(gu===null){var i=new Map,r=gu=new Map;r.set(n,i)}else r=gu,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[Zo]||s[rt]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function O_(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function PR(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function vb(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function LR(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Ks(i.href),s=e.querySelector(sl(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=nc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,et(s);return}s=e.ownerDocument||e,i=_b(i),(r=tn.get(r))&&op(i,r),s=s.createElement("link"),et(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),lt(s,"link",i),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=nc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Rf=0;function kR(t,e){return t.stylesheets&&t.count===0&&yu(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&yu(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&Rf===0&&(Rf=62500*yR());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&yu(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>Rf?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ic=null;function yu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ic=new Map,e.forEach(UR,t),ic=null,nc.call(t))}function UR(t,e){if(!(e.state.loading&4)){var n=ic.get(t);if(n)var i=n.get(null);else{n=new Map,ic.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=nc.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Lo={$$typeof:Bn,Provider:null,Consumer:null,_currentValue:Nr,_currentValue2:Nr,_threadCount:0};function jR(t,e,n,i,r,s,a,l,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yh(0),this.hiddenUpdates=Yh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Eb(t,e,n,i,r,s,a,l,u,c,f,m){return t=new jR(t,e,n,a,u,c,f,m,l),e=1,s===!0&&(e|=24),s=Mt(3,null,null,e),t.current=s,s.stateNode=t,e=Vm(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},km(s),t}function Tb(t){return t?(t=bs,t):bs}function bb(t,e,n,i,r,s){r=Tb(r),i.context===null?i.context=r:i.pendingContext=r,i=ji(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=zi(t,i,e),n!==null&&(Ct(n,t,e),uo(n,t,e))}function M_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function up(t,e){M_(t,e),(t=t.alternate)&&M_(t,e)}function Ab(t){if(t.tag===13||t.tag===31){var e=Xr(t,67108864);e!==null&&Ct(e,t,67108864),up(t,67108864)}}function V_(t){if(t.tag===13||t.tag===31){var e=zt();e=Em(e);var n=Xr(t,e);n!==null&&Ct(n,t,e),up(t,e)}}var rc=!0;function zR(t,e,n,i){var r=Y.T;Y.T=null;var s=he.p;try{he.p=2,cp(t,e,n,i)}finally{he.p=s,Y.T=r}}function BR(t,e,n,i){var r=Y.T;Y.T=null;var s=he.p;try{he.p=8,cp(t,e,n,i)}finally{he.p=s,Y.T=r}}function cp(t,e,n,i){if(rc){var r=Pd(i);if(r===null)Sf(t,e,i,sc,n),P_(t,i);else if(qR(r,t,e,n,i))i.stopPropagation();else if(P_(t,i),e&4&&-1<FR.indexOf(t)){for(;r!==null;){var s=sa(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=br(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-jt(a);l.entanglements[1]|=u,a&=~u}In(s),!(ce&6)&&(Yu=kt()+500,rl(0))}}break;case 31:case 13:l=Xr(s,2),l!==null&&Ct(l,s,2),Hc(),up(s,2)}if(s=Pd(i),s===null&&Sf(t,e,i,sc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Sf(t,e,i,null,n)}}function Pd(t){return t=Sm(t),hp(t)}var sc=null;function hp(t){if(sc=null,t=gs(t),t!==null){var e=$o(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=qE(e),t!==null)return t;t=null}else if(n===31){if(t=HE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return sc=t,null}function Sb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cw()){case YE:return 2;case $E:return 8;case Vu:case xw:return 32;case XE:return 268435456;default:return 32}default:return 32}}var Ld=!1,qi=null,Hi=null,Gi=null,ko=new Map,Uo=new Map,Ci=[],FR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(t,e){switch(t){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":ko.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(e.pointerId)}}function Ga(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=sa(e),e!==null&&Ab(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function qR(t,e,n,i,r){switch(e){case"focusin":return qi=Ga(qi,t,e,n,i,r),!0;case"dragenter":return Hi=Ga(Hi,t,e,n,i,r),!0;case"mouseover":return Gi=Ga(Gi,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return ko.set(s,Ga(ko.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Uo.set(s,Ga(Uo.get(s)||null,t,e,n,i,r)),!0}return!1}function wb(t){var e=gs(t.target);if(e!==null){var n=$o(e);if(n!==null){if(e=n.tag,e===13){if(e=qE(n),e!==null){t.blockedOn=e,vy(t.priority,function(){V_(n)});return}}else if(e===31){if(e=HE(n),e!==null){t.blockedOn=e,vy(t.priority,function(){V_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _u(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pd(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);ed=i,n.target.dispatchEvent(i),ed=null}else return e=sa(n),e!==null&&Ab(e),t.blockedOn=n,!1;e.shift()}return!0}function L_(t,e,n){_u(t)&&n.delete(e)}function HR(){Ld=!1,qi!==null&&_u(qi)&&(qi=null),Hi!==null&&_u(Hi)&&(Hi=null),Gi!==null&&_u(Gi)&&(Gi=null),ko.forEach(L_),Uo.forEach(L_)}function Yl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ld||(Ld=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,HR)))}var $l=null;function k_(t){$l!==t&&($l=t,$e.unstable_scheduleCallback($e.unstable_NormalPriority,function(){$l===t&&($l=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(hp(i||n)===null)continue;break}var s=sa(n);s!==null&&(t.splice(e,3),e-=3,gd(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Ys(t){function e(u){return Yl(u,t)}qi!==null&&Yl(qi,t),Hi!==null&&Yl(Hi,t),Gi!==null&&Yl(Gi,t),ko.forEach(e),Uo.forEach(e);for(var n=0;n<Ci.length;n++){var i=Ci[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Ci.length&&(n=Ci[0],n.blockedOn===null);)wb(n),n.blockedOn===null&&Ci.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[xt]||null;if(typeof s=="function")a||k_(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[xt]||null)l=a.formAction;else if(hp(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),k_(n)}}}function Rb(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function fp(t){this._internalRoot=t}Kc.prototype.render=fp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));var n=e.current,i=zt();bb(n,i,t,e,null,null)};Kc.prototype.unmount=fp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bb(t.current,2,null,t,null,null),Hc(),e[ra]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var e=t0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ci.length&&e!==0&&e<Ci[n].priority;n++);Ci.splice(n,0,t),n===0&&wb(t)}};var U_=BE.version;if(U_!=="19.2.0")throw Error(k(527,U_,"19.2.0"));he.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Ew(e),t=t!==null?GE(t):null,t=t===null?null:t.stateNode,t};var GR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{Xo=Xl.inject(GR),Ut=Xl}catch{}}Nc.createRoot=function(t,e){if(!FE(t))throw Error(k(299));var n=!1,i="",r=yT,s=_T,a=vT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Eb(t,1,!1,null,null,n,i,null,r,s,a,Rb),t[ra]=e.current,ap(t),new fp(e)};Nc.hydrateRoot=function(t,e,n){if(!FE(t))throw Error(k(299));var i=!1,r="",s=yT,a=_T,l=vT,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=Eb(t,1,!0,e,n??null,i,r,u,s,a,l,Rb),e.context=Tb(null),n=e.current,i=zt(),i=Em(i),r=ji(i),r.callback=null,zi(n,r,i),n=i,e.current.lanes=n,Wo(e,n),In(e),t[ra]=e.current,ap(t),new Kc(e)};Nc.version="19.2.0";function Cb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cb)}catch(t){console.error(t)}}Cb(),PE.exports=Nc;var QR=PE.exports;const KR="modulepreload",YR=function(t){return"/Digital-Dreamers/"+t},j_={},$R=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(n.map(l=>{if(l=YR(l),l in j_)return;j_[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":KR,u||(f.as="script",f.crossOrigin=""),f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}return r.then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};var z_="popstate";function XR(t={}){function e(i,r){let{pathname:s,search:a,hash:l}=i.location;return kd("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:jo(r)}return WR(e,n,null,t)}function Ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JR(){return Math.random().toString(36).substring(2,10)}function B_(t,e){return{usr:t.state,key:t.key,idx:e}}function kd(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ha(e):e,state:n,key:e&&e.key||i||JR()}}function jo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ha(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function WR(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",u=null,c=f();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function f(){return(a.state||{idx:null}).idx}function m(){l="POP";let N=f(),T=N==null?null:N-c;c=N,u&&u({action:l,location:O.location,delta:T})}function p(N,T){l="PUSH";let v=kd(O.location,N,T);c=f()+1;let E=B_(v,c),I=O.createHref(v);try{a.pushState(E,"",I)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(I)}s&&u&&u({action:l,location:O.location,delta:1})}function y(N,T){l="REPLACE";let v=kd(O.location,N,T);c=f();let E=B_(v,c),I=O.createHref(v);a.replaceState(E,"",I),s&&u&&u({action:l,location:O.location,delta:0})}function x(N){return ZR(N)}let O={get action(){return l},get location(){return t(r,a)},listen(N){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(z_,m),u=N,()=>{r.removeEventListener(z_,m),u=null}},createHref(N){return e(r,N)},createURL:x,encodeLocation(N){let T=x(N);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:y,go(N){return a.go(N)}};return O}function ZR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:jo(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function xb(t,e,n="/"){return eC(t,e,n,!1)}function eC(t,e,n,i){let r=typeof e=="string"?ha(e):e,s=ri(r.pathname||"/",n);if(s==null)return null;let a=Ib(t);tC(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=fC(s);l=cC(a[u],c,i)}return l}function Ib(t,e=[],n=[],i="",r=!1){let s=(a,l,u=r,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;Ie(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let m=Xn([i,f.relativePath]),p=n.concat(f);a.children&&a.children.length>0&&(Ie(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Ib(a.children,e,p,m,u)),!(a.path==null&&!a.index)&&e.push({path:m,score:lC(m,a.index),routesMeta:p})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let c of Nb(a.path))s(a,l,!0,c)}),e}function Nb(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=Nb(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function tC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var nC=/^:[\w-]+$/,iC=3,rC=2,sC=1,aC=10,oC=-2,F_=t=>t==="*";function lC(t,e){let n=t.split("/"),i=n.length;return n.some(F_)&&(i+=oC),e&&(i+=rC),n.filter(r=>!F_(r)).reduce((r,s)=>r+(nC.test(s)?iC:s===""?sC:aC),i)}function uC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function cC(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=ac({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),p=u.route;if(!m&&c&&n&&!i[i.length-1].route.index&&(m=ac({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),a.push({params:r,pathname:Xn([s,m.pathname]),pathnameBase:gC(Xn([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=Xn([s,m.pathnameBase]))}return a}function ac(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=hC(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((c,{paramName:f,isOptional:m},p)=>{if(f==="*"){let x=l[p]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[p];return m&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function hC(t,e=!1,n=!0){cn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function fC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ri(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function dC(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ha(t):t;return{pathname:n?n.startsWith("/")?n:mC(n,e):e,search:yC(i),hash:_C(r)}}function mC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Cf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dp(t){let e=pC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function mp(t,e,n,i=!1){let r;typeof t=="string"?r=ha(t):(r={...t},Ie(!r.pathname||!r.pathname.includes("?"),Cf("?","pathname","search",r)),Ie(!r.pathname||!r.pathname.includes("#"),Cf("#","pathname","hash",r)),Ie(!r.search||!r.search.includes("#"),Cf("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!i&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;r.pathname=p.join("/")}l=m>=0?e[m]:"/"}let u=dC(r,l),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var Xn=t=>t.join("/").replace(/\/\/+/g,"/"),gC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_C=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Db=["POST","PUT","PATCH","DELETE"];new Set(Db);var EC=["GET",...Db];new Set(EC);var fa=P.createContext(null);fa.displayName="DataRouter";var Yc=P.createContext(null);Yc.displayName="DataRouterState";P.createContext(!1);var Ob=P.createContext({isTransitioning:!1});Ob.displayName="ViewTransition";var TC=P.createContext(new Map);TC.displayName="Fetchers";var bC=P.createContext(null);bC.displayName="Await";var mn=P.createContext(null);mn.displayName="Navigation";var ol=P.createContext(null);ol.displayName="Location";var Nn=P.createContext({outlet:null,matches:[],isDataRoute:!1});Nn.displayName="Route";var pp=P.createContext(null);pp.displayName="RouteError";function AC(t,{relative:e}={}){Ie(da(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(mn),{hash:r,pathname:s,search:a}=ll(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Xn([n,s])),i.createHref({pathname:l,search:a,hash:r})}function da(){return P.useContext(ol)!=null}function ur(){return Ie(da(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(ol).location}var Mb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vb(t){P.useContext(mn).static||P.useLayoutEffect(t)}function $c(){let{isDataRoute:t}=P.useContext(Nn);return t?LC():SC()}function SC(){Ie(da(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(fa),{basename:e,navigator:n}=P.useContext(mn),{matches:i}=P.useContext(Nn),{pathname:r}=ur(),s=JSON.stringify(dp(i)),a=P.useRef(!1);return Vb(()=>{a.current=!0}),P.useCallback((u,c={})=>{if(cn(a.current,Mb),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=mp(u,JSON.parse(s),r,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Xn([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,s,r,t])}P.createContext(null);function ll(t,{relative:e}={}){let{matches:n}=P.useContext(Nn),{pathname:i}=ur(),r=JSON.stringify(dp(n));return P.useMemo(()=>mp(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function wC(t,e){return Pb(t,e)}function Pb(t,e,n,i,r){var v;Ie(da(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=P.useContext(mn),{matches:a}=P.useContext(Nn),l=a[a.length-1],u=l?l.params:{},c=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let E=m&&m.path||"";Lb(c,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=ur(),y;if(e){let E=typeof e=="string"?ha(e):e;Ie(f==="/"||((v=E.pathname)==null?void 0:v.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=p;let x=y.pathname||"/",O=x;if(f!=="/"){let E=f.replace(/^\//,"").split("/");O="/"+x.replace(/^\//,"").split("/").slice(E.length).join("/")}let N=xb(t,{pathname:O});cn(m||N!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),cn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=NC(N&&N.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Xn([f,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:Xn([f,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),a,n,i,r);return e&&T?P.createElement(ol.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function RC(){let t=PC(),e=vC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:s},"ErrorBoundary")," or"," ",P.createElement("code",{style:s},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:r},n):null,a)}var CC=P.createElement(RC,null),xC=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?P.createElement(Nn.Provider,{value:this.props.routeContext},P.createElement(pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IC({routeContext:t,match:e,children:n}){let i=P.useContext(fa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Nn.Provider,{value:t},n)}function NC(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);Ie(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:m,errors:p}=n,y=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,m)=>{let p,y=!1,x=null,O=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||CC,l&&(u<0&&m===0?(Lb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,O=null):u===m&&(y=!0,O=f.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,m+1)),T=()=>{let v;return p?v=x:y?v=O:f.route.Component?v=P.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=c,P.createElement(IC,{match:f,routeContext:{outlet:c,matches:N,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?P.createElement(xC,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:T(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:i}):T()},null)}function gp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DC(t){let e=P.useContext(fa);return Ie(e,gp(t)),e}function OC(t){let e=P.useContext(Yc);return Ie(e,gp(t)),e}function MC(t){let e=P.useContext(Nn);return Ie(e,gp(t)),e}function yp(t){let e=MC(t),n=e.matches[e.matches.length-1];return Ie(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function VC(){return yp("useRouteId")}function PC(){var i;let t=P.useContext(pp),e=OC("useRouteError"),n=yp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function LC(){let{router:t}=DC("useNavigate"),e=yp("useNavigate"),n=P.useRef(!1);return Vb(()=>{n.current=!0}),P.useCallback(async(r,s={})=>{cn(n.current,Mb),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var q_={};function Lb(t,e,n){!e&&!q_[t]&&(q_[t]=!0,cn(!1,n))}P.memo(kC);function kC({routes:t,future:e,state:n,unstable_onError:i}){return Pb(t,void 0,n,i,e)}function UC({to:t,replace:e,state:n,relative:i}){Ie(da(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=P.useContext(mn);cn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=P.useContext(Nn),{pathname:a}=ur(),l=$c(),u=mp(t,dp(s),a,i==="path"),c=JSON.stringify(u);return P.useEffect(()=>{l(JSON.parse(c),{replace:e,state:n,relative:i})},[l,c,i,e,n]),null}function kn(t){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){Ie(!da(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof n=="string"&&(n=ha(n));let{pathname:u="/",search:c="",hash:f="",state:m=null,key:p="default"}=n,y=P.useMemo(()=>{let x=ri(u,a);return x==null?null:{location:{pathname:x,search:c,hash:f,state:m,key:p},navigationType:i}},[a,u,c,f,m,p,i]);return cn(y!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:P.createElement(mn.Provider,{value:l},P.createElement(ol.Provider,{children:e,value:y}))}function zC({children:t,location:e}){return wC(Ud(t),e)}function Ud(t,e=[]){let n=[];return P.Children.forEach(t,(i,r)=>{if(!P.isValidElement(i))return;let s=[...e,r];if(i.type===P.Fragment){n.push.apply(n,Ud(i.props.children,s));return}Ie(i.type===kn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Ud(i.props.children,s)),n.push(a)}),n}var vu="get",Eu="application/x-www-form-urlencoded";function Xc(t){return t!=null&&typeof t.tagName=="string"}function BC(t){return Xc(t)&&t.tagName.toLowerCase()==="button"}function FC(t){return Xc(t)&&t.tagName.toLowerCase()==="form"}function qC(t){return Xc(t)&&t.tagName.toLowerCase()==="input"}function HC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GC(t,e){return t.button===0&&(!e||e==="_self")&&!HC(t)}var Jl=null;function QC(){if(Jl===null)try{new FormData(document.createElement("form"),0),Jl=!1}catch{Jl=!0}return Jl}var KC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xf(t){return t!=null&&!KC.has(t)?(cn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eu}"`),null):t}function YC(t,e){let n,i,r,s,a;if(FC(t)){let l=t.getAttribute("action");i=l?ri(l,e):null,n=t.getAttribute("method")||vu,r=xf(t.getAttribute("enctype"))||Eu,s=new FormData(t)}else if(BC(t)||qC(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(i=u?ri(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||vu,r=xf(t.getAttribute("formenctype"))||xf(l.getAttribute("enctype"))||Eu,s=new FormData(l,t),!QC()){let{name:c,type:f,value:m}=t;if(f==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,m)}}else{if(Xc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vu,i=null,r=Eu,a=t}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _p(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $C(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&ri(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function XC(t,e){if(t.id in e)return e[t.id];try{let n=await $R(()=>import(t.module),__vite__mapDeps([]));return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WC(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await XC(s,n);return a.links?a.links():[]}return[]}));return nx(i.flat(1).filter(JC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function H_(t,e,n,i,r,s){let a=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>a(u,c)||l(u,c)):s==="data"?e.filter((u,c)=>{var m;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function ZC(t,e,{includeHydrateFallback:n}={}){return ex(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function ex(t){return[...new Set(t)]}function tx(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function nx(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(tx(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function kb(){let t=P.useContext(fa);return _p(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ix(){let t=P.useContext(Yc);return _p(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var vp=P.createContext(void 0);vp.displayName="FrameworkContext";function Ub(){let t=P.useContext(vp);return _p(t,"You must render this element inside a <HydratedRouter> element"),t}function rx(t,e){let n=P.useContext(vp),[i,r]=P.useState(!1),[s,a]=P.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:m}=e,p=P.useRef(null);P.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let O=T=>{T.forEach(v=>{a(v.isIntersecting)})},N=new IntersectionObserver(O,{threshold:.5});return p.current&&N.observe(p.current),()=>{N.disconnect()}}},[t]),P.useEffect(()=>{if(i){let O=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(O)}}},[i]);let y=()=>{r(!0)},x=()=>{r(!1),a(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:Qa(l,y),onBlur:Qa(u,x),onMouseEnter:Qa(c,y),onMouseLeave:Qa(f,x),onTouchStart:Qa(m,y)}]:[!1,p,{}]}function Qa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function sx({page:t,...e}){let{router:n}=kb(),i=P.useMemo(()=>xb(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?P.createElement(ox,{page:t,matches:i,...e}):null}function ax(t){let{manifest:e,routeModules:n}=Ub(),[i,r]=P.useState([]);return P.useEffect(()=>{let s=!1;return WC(t,e,n).then(a=>{s||r(a)}),()=>{s=!0}},[t,e,n]),i}function ox({page:t,matches:e,...n}){let i=ur(),{manifest:r,routeModules:s}=Ub(),{basename:a}=kb(),{loaderData:l,matches:u}=ix(),c=P.useMemo(()=>H_(t,e,u,r,i,"data"),[t,e,u,r,i]),f=P.useMemo(()=>H_(t,e,u,r,i,"assets"),[t,e,u,r,i]),m=P.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let x=new Set,O=!1;if(e.forEach(T=>{var E;let v=r.routes[T.route.id];!v||!v.hasLoader||(!c.some(I=>I.route.id===T.route.id)&&T.route.id in l&&((E=s[T.route.id])!=null&&E.shouldRevalidate)||v.hasClientLoader?O=!0:x.add(T.route.id))}),x.size===0)return[];let N=$C(t,a,"data");return O&&x.size>0&&N.searchParams.set("_routes",e.filter(T=>x.has(T.route.id)).map(T=>T.route.id).join(",")),[N.pathname+N.search]},[a,l,i,r,c,e,t,s]),p=P.useMemo(()=>ZC(f,r),[f,r]),y=ax(f);return P.createElement(P.Fragment,null,m.map(x=>P.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),p.map(x=>P.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:O})=>P.createElement("link",{key:x,nonce:n.nonce,...O})))}function lx(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var jb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jb&&(window.__reactRouterVersion="7.9.4")}catch{}function ux({basename:t,children:e,window:n}){let i=P.useRef();i.current==null&&(i.current=XR({window:n,v5Compat:!0}));let r=i.current,[s,a]=P.useState({action:r.action,location:r.location}),l=P.useCallback(u=>{P.startTransition(()=>a(u))},[a]);return P.useLayoutEffect(()=>r.listen(l),[r,l]),P.createElement(jC,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:r})}var zb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=P.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:f,viewTransition:m,...p},y){let{basename:x}=P.useContext(mn),O=typeof c=="string"&&zb.test(c),N,T=!1;if(typeof c=="string"&&O&&(N=c,jb))try{let A=new URL(window.location.href),w=c.startsWith("//")?new URL(A.protocol+c):new URL(c),C=ri(w.pathname,x);w.origin===A.origin&&C!=null?c=C+w.search+w.hash:T=!0}catch{cn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=AC(c,{relative:r}),[E,I,j]=rx(i,p),H=dx(c,{replace:a,state:l,target:u,preventScrollReset:f,relative:r,viewTransition:m});function S(A){e&&e(A),A.defaultPrevented||H(A)}let b=P.createElement("a",{...p,...j,href:N||v,onClick:T||s?e:S,ref:lx(y,I),target:u,"data-discover":!O&&n==="render"?"true":void 0});return E&&!O?P.createElement(P.Fragment,null,b,P.createElement(sx,{page:v})):b});on.displayName="Link";var cx=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:u,...c},f){let m=ll(a,{relative:c.relative}),p=ur(),y=P.useContext(Yc),{navigator:x,basename:O}=P.useContext(mn),N=y!=null&&_x(m)&&l===!0,T=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,v=p.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(v=v.toLowerCase(),E=E?E.toLowerCase():null,T=T.toLowerCase()),E&&O&&(E=ri(E,O)||E);const I=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let j=v===T||!r&&v.startsWith(T)&&v.charAt(I)==="/",H=E!=null&&(E===T||!r&&E.startsWith(T)&&E.charAt(T.length)==="/"),S={isActive:j,isPending:H,isTransitioning:N},b=j?e:void 0,A;typeof i=="function"?A=i(S):A=[i,j?"active":null,H?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let w=typeof s=="function"?s(S):s;return P.createElement(on,{...c,"aria-current":b,className:A,ref:f,style:w,to:a,viewTransition:l},typeof u=="function"?u(S):u)});cx.displayName="NavLink";var hx=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:a=vu,action:l,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:m,...p},y)=>{let x=gx(),O=yx(l,{relative:c}),N=a.toLowerCase()==="get"?"get":"post",T=typeof l=="string"&&zb.test(l),v=E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let I=E.nativeEvent.submitter,j=(I==null?void 0:I.getAttribute("formmethod"))||a;x(I||E.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:r,state:s,relative:c,preventScrollReset:f,viewTransition:m})};return P.createElement("form",{ref:y,method:N,action:O,onSubmit:i?u:v,...p,"data-discover":!T&&t==="render"?"true":void 0})});hx.displayName="Form";function fx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bb(t){let e=P.useContext(fa);return Ie(e,fx(t)),e}function dx(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:a}={}){let l=$c(),u=ur(),c=ll(t,{relative:s});return P.useCallback(f=>{if(GC(f,e)){f.preventDefault();let m=n!==void 0?n:jo(u)===jo(c);l(t,{replace:m,state:i,preventScrollReset:r,relative:s,viewTransition:a})}},[u,l,c,n,i,e,t,r,s,a])}var mx=0,px=()=>`__${String(++mx)}__`;function gx(){let{router:t}=Bb("useSubmit"),{basename:e}=P.useContext(mn),n=VC();return P.useCallback(async(i,r={})=>{let{action:s,method:a,encType:l,formData:u,body:c}=YC(i,e);if(r.navigate===!1){let f=r.fetcherKey||px();await t.fetch(f,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:c,formMethod:r.method||a,formEncType:r.encType||l,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:c,formMethod:r.method||a,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function yx(t,{relative:e}={}){let{basename:n}=P.useContext(mn),i=P.useContext(Nn);Ie(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...ll(t||".",{relative:e})},a=ur();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Xn([n,s.pathname])),jo(s)}function _x(t,{relative:e}={}){let n=P.useContext(Ob);Ie(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Bb("useViewTransitionState"),r=ll(t,{relative:e});if(!n.isTransitioning)return!1;let s=ri(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=ri(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ac(r.pathname,a)!=null||ac(r.pathname,s)!=null}const vx=()=>{};var G_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Ex=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},qb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,l=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let p=(l&15)<<2|c>>6,y=c&63;u||(y=64,a||(p=64)),i.push(n[f],n[m],n[p],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ex(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||c==null||m==null)throw new Tx;const p=s<<2|l>>4;if(i.push(p),c!==64){const y=l<<4&240|c>>2;if(i.push(y),m!==64){const x=c<<6&192|m;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Tx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bx=function(t){const e=Fb(t);return qb.encodeByteArray(e,!0)},oc=function(t){return bx(t).replace(/\./g,"")},Hb=function(t){try{return qb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=()=>Ax().__FIREBASE_DEFAULTS__,wx=()=>{if(typeof process>"u"||typeof G_>"u")return;const t=G_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Rx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hb(t[1]);return e&&JSON.parse(e)},Jc=()=>{try{return vx()||Sx()||wx()||Rx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gb=t=>{var e,n;return(n=(e=Jc())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Cx=t=>{const e=Gb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Qb=()=>{var t;return(t=Jc())==null?void 0:t.config},Kb=t=>{var e;return(e=Jc())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[oc(JSON.stringify(n)),oc(JSON.stringify(a)),""].join(".")}const vo={};function Nx(){const t={prod:[],emulator:[]};for(const e of Object.keys(vo))vo[e]?t.emulator.push(e):t.prod.push(e);return t}function Dx(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Q_=!1;function $b(t,e){if(typeof window>"u"||typeof document>"u"||!ma(window.location.host)||vo[t]===e||vo[t]||Q_)return;vo[t]=e;function n(p){return`__firebase__banner__${p}`}const i="__firebase__banner",s=Nx().prod.length>0;function a(){const p=document.getElementById(i);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Q_=!0,a()},p}function f(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=Dx(i),y=n("text"),x=document.getElementById(y)||document.createElement("span"),O=n("learnmore"),N=document.getElementById(O)||document.createElement("a"),T=n("preprendIcon"),v=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;l(E),f(N,O);const I=c();u(v,T),E.append(v,x,N,I),document.body.appendChild(E)}s?(x.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ox(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function Mx(){var e;const t=(e=Jc())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Px(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Lx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kx(){const t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ux(){return!Mx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jx(){try{return typeof indexedDB=="object"}catch{return!1}}function zx(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="FirebaseError";class ci extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Bx,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ul.prototype.create)}}class ul{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?Fx(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new ci(r,l,i)}}function Fx(t,e){return t.replace(qx,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const qx=/\{\$([^}]+)}/g;function Hx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Br(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(K_(s)&&K_(a)){if(!Br(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function K_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Wa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Za(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Gx(t,e){const n=new Qx(t,e);return n.subscribe.bind(n)}class Qx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Kx(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=If),r.error===void 0&&(r.error=If),r.complete===void 0&&(r.complete=If);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function If(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t){return t&&t._delegate?t._delegate:t}class Fr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new xx;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xx(e))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wr){return this.instances.has(e)}getOptions(e=wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$x(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=wr){return this.component?this.component.multipleInstances?e:wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $x(t){return t===wr?void 0:t}function Xx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Yx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const Wx={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},Zx=re.INFO,eI={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},tI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=eI[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ep{constructor(e){this.name=e,this._logLevel=Zx,this._logHandler=tI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const nI=(t,e)=>e.some(n=>t instanceof n);let Y_,$_;function iI(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rI(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xb=new WeakMap,jd=new WeakMap,Jb=new WeakMap,Nf=new WeakMap,Tp=new WeakMap;function sI(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Qi(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Xb.set(n,t)}).catch(()=>{}),Tp.set(e,t),e}function aI(t){if(jd.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});jd.set(t,e)}let zd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oI(t){zd=t(zd)}function lI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Df(this),e,...n);return Jb.set(i,e.sort?e.sort():[e]),Qi(i)}:rI().includes(t)?function(...e){return t.apply(Df(this),e),Qi(Xb.get(this))}:function(...e){return Qi(t.apply(Df(this),e))}}function uI(t){return typeof t=="function"?lI(t):(t instanceof IDBTransaction&&aI(t),nI(t,iI())?new Proxy(t,zd):t)}function Qi(t){if(t instanceof IDBRequest)return sI(t);if(Nf.has(t))return Nf.get(t);const e=uI(t);return e!==t&&(Nf.set(t,e),Tp.set(e,t)),e}const Df=t=>Tp.get(t);function cI(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),l=Qi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Qi(a.result),u.oldVersion,u.newVersion,Qi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const hI=["get","getKey","getAll","getAllKeys","count"],fI=["put","add","delete","clear"],Of=new Map;function X_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Of.get(e))return Of.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=fI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||hI.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&u.done]))[0]};return Of.set(e,s),s}oI(t=>({...t,get:(e,n,i)=>X_(e,n)||t.get(e,n,i),has:(e,n)=>!!X_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function mI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bd="@firebase/app",J_="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new Ep("@firebase/app"),pI="@firebase/app-compat",gI="@firebase/analytics-compat",yI="@firebase/analytics",_I="@firebase/app-check-compat",vI="@firebase/app-check",EI="@firebase/auth",TI="@firebase/auth-compat",bI="@firebase/database",AI="@firebase/data-connect",SI="@firebase/database-compat",wI="@firebase/functions",RI="@firebase/functions-compat",CI="@firebase/installations",xI="@firebase/installations-compat",II="@firebase/messaging",NI="@firebase/messaging-compat",DI="@firebase/performance",OI="@firebase/performance-compat",MI="@firebase/remote-config",VI="@firebase/remote-config-compat",PI="@firebase/storage",LI="@firebase/storage-compat",kI="@firebase/firestore",UI="@firebase/ai",jI="@firebase/firestore-compat",zI="firebase",BI="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="[DEFAULT]",FI={[Bd]:"fire-core",[pI]:"fire-core-compat",[yI]:"fire-analytics",[gI]:"fire-analytics-compat",[vI]:"fire-app-check",[_I]:"fire-app-check-compat",[EI]:"fire-auth",[TI]:"fire-auth-compat",[bI]:"fire-rtdb",[AI]:"fire-data-connect",[SI]:"fire-rtdb-compat",[wI]:"fire-fn",[RI]:"fire-fn-compat",[CI]:"fire-iid",[xI]:"fire-iid-compat",[II]:"fire-fcm",[NI]:"fire-fcm-compat",[DI]:"fire-perf",[OI]:"fire-perf-compat",[MI]:"fire-rc",[VI]:"fire-rc-compat",[PI]:"fire-gcs",[LI]:"fire-gcs-compat",[kI]:"fire-fst",[jI]:"fire-fst-compat",[UI]:"fire-vertex","fire-js":"fire-js",[zI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,qI=new Map,qd=new Map;function W_(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $s(t){const e=t.name;if(qd.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;qd.set(e,t);for(const n of lc.values())W_(n,t);for(const n of qI.values())W_(n,t);return!0}function bp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new ul("app","Firebase",HI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=BI;function Wb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Fd,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Ki.create("bad-app-name",{appName:String(r)});if(n||(n=Qb()),!n)throw Ki.create("no-options");const s=lc.get(r);if(s){if(Br(n,s.options)&&Br(i,s.config))return s;throw Ki.create("duplicate-app",{appName:r})}const a=new Jx(r);for(const u of qd.values())a.addComponent(u);const l=new GI(n,i,a);return lc.set(r,l),l}function Zb(t=Fd){const e=lc.get(t);if(!e&&t===Fd&&Qb())return Wb();if(!e)throw Ki.create("no-app",{appName:t});return e}function Yi(t,e,n){let i=FI[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(a.join(" "));return}$s(new Fr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="firebase-heartbeat-database",KI=1,zo="firebase-heartbeat-store";let Mf=null;function e1(){return Mf||(Mf=cI(QI,KI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),Mf}async function YI(t){try{const n=(await e1()).transaction(zo),i=await n.objectStore(zo).get(t1(t));return await n.done,i}catch(e){if(e instanceof ci)si.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function Z_(t,e){try{const i=(await e1()).transaction(zo,"readwrite");await i.objectStore(zo).put(e,t1(t)),await i.done}catch(n){if(n instanceof ci)si.warn(n.message);else{const i=Ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(i.message)}}}function t1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=1024,XI=30;class JI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ev();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>XI){const a=eN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){si.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ev(),{heartbeatsToSend:i,unsentEntries:r}=WI(this._heartbeatsCache.heartbeats),s=oc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return si.warn(n),""}}}function ev(){return new Date().toISOString().substring(0,10)}function WI(t,e=$I){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),tv(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),tv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class ZI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jx()?zx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tv(t){return oc(JSON.stringify({version:2,heartbeats:t})).length}function eN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t){$s(new Fr("platform-logger",e=>new dI(e),"PRIVATE")),$s(new Fr("heartbeat",e=>new JI(e),"PRIVATE")),Yi(Bd,J_,t),Yi(Bd,J_,"esm2020"),Yi("fire-js","")}tN("");var nN="firebase",iN="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(nN,iN,"app");function n1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rN=n1,i1=new ul("auth","Firebase",n1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Ep("@firebase/auth");function sN(t,...e){uc.logLevel<=re.WARN&&uc.warn(`Auth (${pa}): ${t}`,...e)}function Tu(t,...e){uc.logLevel<=re.ERROR&&uc.error(`Auth (${pa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,...e){throw Sp(t,...e)}function un(t,...e){return Sp(t,...e)}function Ap(t,e,n){const i={...rN(),[e]:n};return new ul("auth","Firebase",i).create(e,{appName:t.name})}function Jn(t){return Ap(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aN(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&nn(t,"argument-error"),Ap(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sp(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return i1.create(t,...e)}function Q(t,e,...n){if(!t)throw Sp(e,...n)}function Hn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tu(e),new Error(e)}function ai(t,e){t||Hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function oN(){return nv()==="http:"||nv()==="https:"}function nv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oN()||Px()||"connection"in navigator)?navigator.onLine:!0}function uN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ai(n>e,"Short delay should be less than long delay!"),this.isMobile=Ox()||Lx()}get(){return lN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t,e){ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fN=new hl(3e4,6e4);function hi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Dn(t,e,n,i,r={}){return s1(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const l=cl({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...s};return Vx()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ma(t.emulatorConfig.host)&&(c.credentials="include"),r1.fetch()(await a1(t,t.config.apiHost,n,l),c)})}async function s1(t,e,n){t._canInitEmulator=!1;const i={...cN,...e};try{const r=new mN(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Wl(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wl(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Wl(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Wl(t,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ap(t,f,c);nn(t,f)}}catch(r){if(r instanceof ci)throw r;nn(t,"network-request-failed",{message:String(r)})}}async function fl(t,e,n,i,r={}){const s=await Dn(t,e,n,i,r);return"mfaPendingCredential"in s&&nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function a1(t,e,n,i){const r=`${e}${n}?${i}`,s=t,a=s.config.emulator?wp(t.config,r):`${t.config.apiScheme}://${r}`;return hN.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function dN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(un(this.auth,"network-request-failed")),fN.get())})}}function Wl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=un(t,e,i);return r.customData._tokenResponse=n,r}function iv(t){return t!==void 0&&t.enterprise!==void 0}class pN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gN(t,e){return Dn(t,"GET","/v2/recaptchaConfig",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(t,e){return Dn(t,"POST","/v1/accounts:delete",e)}async function cc(t,e){return Dn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _N(t,e=!1){const n=Xe(t),i=await n.getIdToken(e),r=Rp(i);Q(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Eo(Vf(r.auth_time)),issuedAtTime:Eo(Vf(r.iat)),expirationTime:Eo(Vf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Vf(t){return Number(t)*1e3}function Rp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Tu("JWT malformed, contained fewer than 3 sections"),null;try{const r=Hb(n);return r?JSON.parse(r):(Tu("Failed to decode base64 JWT payload"),null)}catch(r){return Tu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function rv(t){const e=Rp(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ci&&vN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function vN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eo(this.lastLoginAt),this.creationTime=Eo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t){var m;const e=t.auth,n=await t.getIdToken(),i=await Xs(t,cc(e,{idToken:n}));Q(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const s=(m=r.providerUserInfo)!=null&&m.length?o1(r.providerUserInfo):[],a=bN(t.providerData,s),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Gd(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function TN(t){const e=Xe(t);await hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bN(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function o1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e){const n=await s1(t,{},async()=>{const i=cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=await a1(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&ma(t.emulatorConfig.host)&&(u.credentials="include"),r1.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SN(t,e){return Dn(t,"POST","/v2/accounts:revokeToken",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=rv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await AN(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Ms;return i&&(Q(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(Q(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(Q(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ms,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ln{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new EN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Gd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Xs(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _N(this,e)}reload(){return TN(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ln({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await hc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vt(this.auth.app))return Promise.reject(Jn(this.auth));const e=await this.getIdToken();return await Xs(this,yN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:y,providerData:x,stsTokenManager:O}=n;Q(m&&O,e,"internal-error");const N=Ms.fromJSON(this.name,O);Q(typeof m=="string",e,"internal-error"),Ti(i,e.name),Ti(r,e.name),Q(typeof p=="boolean",e,"internal-error"),Q(typeof y=="boolean",e,"internal-error"),Ti(s,e.name),Ti(a,e.name),Ti(l,e.name),Ti(u,e.name),Ti(c,e.name),Ti(f,e.name);const T=new ln({uid:m,auth:e,email:r,emailVerified:p,displayName:i,isAnonymous:y,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:N,createdAt:c,lastLoginAt:f});return x&&Array.isArray(x)&&(T.providerData=x.map(v=>({...v}))),u&&(T._redirectEventId=u),T}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ms;r.updateFromServerResponse(n);const s=new ln({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await hc(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Q(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?o1(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Ms;l.updateFromIdToken(i);const u=new ln({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Gd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new Map;function Gn(t){ai(t instanceof Function,"Expected a class definition");let e=sv.get(t);return e?(ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}l1.type="NONE";const av=l1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t,e,n){return`firebase:${t}:${e}:${n}`}class Vs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=bu(this.userKey,r.apiKey,s),this.fullPersistenceKey=bu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cc(this.auth,{idToken:e}).catch(()=>{});return n?ln._fromGetAccountInfoResponse(this.auth,n,e):null}return ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Vs(Gn(av),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Gn(av);const a=bu(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(a);if(f){let m;if(typeof f=="string"){const p=await cc(e,{idToken:f}).catch(()=>{});if(!p)break;m=await ln._fromGetAccountInfoResponse(e,p,f)}else m=ln._fromJSON(e,f);c!==s&&(l=m),s=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Vs(s,e,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Vs(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m1(e))return"Blackberry";if(p1(e))return"Webos";if(c1(e))return"Safari";if((e.includes("chrome/")||h1(e))&&!e.includes("edge/"))return"Chrome";if(d1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function u1(t=pt()){return/firefox\//i.test(t)}function c1(t=pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h1(t=pt()){return/crios\//i.test(t)}function f1(t=pt()){return/iemobile/i.test(t)}function d1(t=pt()){return/android/i.test(t)}function m1(t=pt()){return/blackberry/i.test(t)}function p1(t=pt()){return/webos/i.test(t)}function Cp(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wN(t=pt()){var e;return Cp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function RN(){return kx()&&document.documentMode===10}function g1(t=pt()){return Cp(t)||d1(t)||p1(t)||m1(t)||/windows phone/i.test(t)||f1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t,e=[]){let n;switch(t){case"Browser":n=ov(pt());break;case"Worker":n=`${ov(pt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(t,e={}){return Dn(t,"GET","/v2/passwordPolicy",hi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=6;class NN{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??IN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lv(this),this.idTokenSubscription=new lv(this),this.beforeStateQueue=new CN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Vs.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cc(this,{idToken:e}),i=await ln._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Vt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vt(this.app))return Promise.reject(Jn(this));const n=e?Xe(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vt(this.app)?Promise.reject(Jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vt(this.app)?Promise.reject(Jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xN(this),n=new NN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ul("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await SN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Vs.create(this,[Gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Vt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&sN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function fi(t){return Xe(t)}class lv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gx(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ON(t){Wc=t}function _1(t){return Wc.loadJS(t)}function MN(){return Wc.recaptchaEnterpriseScript}function VN(){return Wc.gapiScript}function PN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class LN{constructor(){this.enterprise=new kN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const UN="recaptcha-enterprise",v1="NO_RECAPTCHA";class jN{constructor(e){this.type=UN,this.auth=fi(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{gN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new pN(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}function r(s,a,l){const u=window.grecaptcha;iv(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(v1)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LN().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(l=>{if(!n&&iv(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=MN();u.length!==0&&(u+=l),_1(u).then(()=>{r(l,s,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function uv(t,e,n,i=!1,r=!1){const s=new jN(t);let a;if(r)a=v1;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function fc(t,e,n,i,r){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await uv(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await uv(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t,e){const n=bp(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Br(s,e??{}))return r;nn(r,"already-initialized")}return n.initialize({options:e})}function BN(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Gn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function FN(t,e,n){const i=fi(t);Q(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=E1(e),{host:a,port:l}=qN(e),u=l===null?"":`:${l}`,c={url:`${s}//${a}${u}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Q(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Q(Br(c,i.config.emulator)&&Br(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,ma(a)?(Yb(`${s}//${a}${u}`),$b("Auth",!0)):HN()}function E1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qN(t){const e=E1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:cv(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:cv(a)}}}function cv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,n){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}async function GN(t,e){return Dn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(t,e){return fl(t,"POST","/v1/accounts:signInWithPassword",hi(t,e))}async function KN(t,e){return Dn(t,"POST","/v1/accounts:sendOobCode",hi(t,e))}async function YN(t,e){return KN(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e){return fl(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,e))}async function XN(t,e){return fl(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends xp{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Bo(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Bo(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fc(e,n,"signInWithPassword",QN);case"emailLink":return $N(e,{email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fc(e,i,"signUpPassword",GN);case"emailLink":return XN(e,{idToken:n,email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(t,e){return fl(t,"POST","/v1/accounts:signInWithIdp",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="http://localhost";class qr extends xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new qr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ps(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ps(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ps(e,n)}buildRequest(){const e={requestUri:JN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZN(t){const e=Wa(Za(t)).link,n=e?Wa(Za(e)).deep_link_id:null,i=Wa(Za(t)).deep_link_id;return(i?Wa(Za(i)).link:null)||i||n||e||t}class Ip{constructor(e){const n=Wa(Za(e)),i=n.apiKey??null,r=n.oobCode??null,s=WN(n.mode??null);Q(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ZN(e);try{return new Ip(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.providerId=ga.PROVIDER_ID}static credential(e,n){return Bo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Ip.parseLink(n);return Q(i,"argument-error"),Bo._fromEmailAndCode(e,i.code,i.tenantId)}}ga.PROVIDER_ID="password";ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Np{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends dl{constructor(){super("facebook.com")}static credential(e){return qr._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qr._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return zn.credential(n,i)}catch{return null}}}zn.GOOGLE_SIGN_IN_METHOD="google.com";zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends dl{constructor(){super("github.com")}static credential(e){return qr._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.GITHUB_SIGN_IN_METHOD="github.com";Ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends dl{constructor(){super("twitter.com")}static credential(e,n){return qr._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ni.credential(n,i)}catch{return null}}}Ni.TWITTER_SIGN_IN_METHOD="twitter.com";Ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e){return fl(t,"POST","/v1/accounts:signUp",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await ln._fromIdTokenResponse(e,i,r),a=hv(i);return new Hr({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=hv(i);return new Hr({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function hv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends ci{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,dc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new dc(e,n,i,r)}}function T1(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dc._fromErrorAndOperation(t,s,e,i):s})}async function tD(t,e,n=!1){const i=await Xs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Hr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(t,e,n=!1){const{auth:i}=t;if(Vt(i.app))return Promise.reject(Jn(i));const r="reauthenticate";try{const s=await Xs(t,T1(i,r,e,t),n);Q(s.idToken,i,"internal-error");const a=Rp(s.idToken);Q(a,i,"internal-error");const{sub:l}=a;return Q(t.uid===l,i,"user-mismatch"),Hr._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&nn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(t,e,n=!1){if(Vt(t.app))return Promise.reject(Jn(t));const i="signIn",r=await T1(t,i,e),s=await Hr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function iD(t,e){return b1(fi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(t){const e=fi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rD(t,e,n){const i=fi(t);await fc(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",YN)}async function sD(t,e,n){if(Vt(t.app))return Promise.reject(Jn(t));const i=fi(t),a=await fc(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eD).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&A1(t),u}),l=await Hr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function aD(t,e,n){return Vt(t.app)?Promise.reject(Jn(t)):iD(Xe(t),ga.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&A1(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(t,e){return Dn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Xe(t),s={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Xs(i,oD(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const l=i.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=i.displayName,l.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function S1(t,e,n,i){return Xe(t).onIdTokenChanged(e,n,i)}function uD(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}function cD(t,e,n,i){return Xe(t).onAuthStateChanged(e,n,i)}function hD(t){return Xe(t).signOut()}const mc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mc,"1"),this.storage.removeItem(mc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=1e3,dD=10;class R1 extends w1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);RN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,dD):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},fD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R1.type="LOCAL";const mD=R1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends w1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C1.type="SESSION";const x1=C1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Zc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async c=>c(n.origin,s)),u=await pD(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=Dp("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(m){const p=m;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return window}function yD(t){bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function _D(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function ED(){return I1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firebaseLocalStorageDb",TD=1,pc="firebaseLocalStorage",D1="fbase_key";class ml{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function eh(t,e){return t.transaction([pc],e?"readwrite":"readonly").objectStore(pc)}function bD(){const t=indexedDB.deleteDatabase(N1);return new ml(t).toPromise()}function Qd(){const t=indexedDB.open(N1,TD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(pc,{keyPath:D1})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(pc)?e(i):(i.close(),await bD(),e(await Qd()))})})}async function fv(t,e,n){const i=eh(t,!0).put({[D1]:e,value:n});return new ml(i).toPromise()}async function AD(t,e){const n=eh(t,!1).get(e),i=await new ml(n).toPromise();return i===void 0?null:i.value}function dv(t,e){const n=eh(t,!0).delete(e);return new ml(n).toPromise()}const SD=800,wD=3;class O1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>wD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zc._getInstance(ED()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await _D(),!this.activeServiceWorker)return;this.sender=new gD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qd();return await fv(e,mc,"1"),await dv(e,mc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>fv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>AD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=eh(r,!1).getAll();return new ml(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O1.type="LOCAL";const RD=O1;new hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t,e){return e?Gn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op extends xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ps(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ps(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ps(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CD(t){return b1(t.auth,new Op(t),t.bypassAuthState)}function xD(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),nD(n,new Op(t),t.bypassAuthState)}async function ID(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),tD(n,new Op(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CD;case"linkViaPopup":case"linkViaRedirect":return ID;case"reauthViaPopup":case"reauthViaRedirect":return xD;default:nn(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new hl(2e3,1e4);async function DD(t,e,n){if(Vt(t.app))return Promise.reject(un(t,"operation-not-supported-in-this-environment"));const i=fi(t);aN(t,e,Np);const r=M1(i,n);return new Rr(i,"signInViaPopup",e,r).executeNotNull()}class Rr extends V1{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Rr.currentPopupAction&&Rr.currentPopupAction.cancel(),Rr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ND.get())};e()}}Rr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="pendingRedirect",Au=new Map;class MD extends V1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Au.get(this.auth._key());if(!e){try{const i=await VD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Au.set(this.auth._key(),e)}return this.bypassAuthState||Au.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VD(t,e){const n=kD(e),i=LD(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function PD(t,e){Au.set(t._key(),e)}function LD(t){return Gn(t._redirectPersistence)}function kD(t){return bu(OD,t.config.apiKey,t.name)}async function UD(t,e,n=!1){if(Vt(t.app))return Promise.reject(Jn(t));const i=fi(t),r=M1(i,e),a=await new MD(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=10*60*1e3;class zD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!P1(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(un(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jD&&this.cachedEventUids.clear(),this.cachedEventUids.has(mv(e))}saveEventToCache(e){this.cachedEventUids.add(mv(e)),this.lastProcessedEventTime=Date.now()}}function mv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function P1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(t,e={}){return Dn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HD=/^https?/;async function GD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FD(t);for(const n of e)try{if(QD(n))return}catch{}nn(t,"unauthorized-domain")}function QD(t){const e=Hd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!HD.test(n))return!1;if(qD.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new hl(3e4,6e4);function pv(){const t=bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YD(t){return new Promise((e,n)=>{var r,s,a;function i(){pv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pv(),n(un(t,"network-request-failed"))},timeout:KD.get()})}if((s=(r=bn().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=bn().gapi)!=null&&a.load)i();else{const l=PN("iframefcb");return bn()[l]=()=>{gapi.load?i():n(un(t,"network-request-failed"))},_1(`${VN()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Su=null,e})}let Su=null;function $D(t){return Su=Su||YD(t),Su}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new hl(5e3,15e3),JD="__/auth/iframe",WD="emulator/auth/iframe",ZD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t4(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wp(e,WD):`https://${t.config.authDomain}/${JD}`,i={apiKey:e.apiKey,appName:t.name,v:pa},r=e4.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${cl(i).slice(1)}`}async function n4(t){const e=await $D(t),n=bn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:t4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZD,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=un(t,"network-request-failed"),l=bn().setTimeout(()=>{s(a)},XD.get());function u(){bn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r4=500,s4=600,a4="_blank",o4="http://localhost";class gv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l4(t,e,n,i=r4,r=s4){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...i4,width:i.toString(),height:r.toString(),top:s,left:a},c=pt().toLowerCase();n&&(l=h1(c)?a4:n),u1(c)&&(e=e||o4,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[y,x])=>`${p}${y}=${x},`,"");if(wN(c)&&l!=="_self")return u4(e||"",l),new gv(null);const m=window.open(e||"",l,f);Q(m,t,"popup-blocked");try{m.focus()}catch{}return new gv(m)}function u4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="__/auth/handler",h4="emulator/auth/handler",f4=encodeURIComponent("fac");async function yv(t,e,n,i,r,s){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:pa,eventId:r};if(e instanceof Np){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Hx(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof dl){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${f4}=${encodeURIComponent(u)}`:"";return`${d4(t)}?${cl(l).slice(1)}${c}`}function d4({config:t}){return t.emulator?wp(t,h4):`https://${t.authDomain}/${c4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="webStorageSupport";class m4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x1,this._completeRedirectFn=UD,this._overrideRedirectResult=PD}async _openPopup(e,n,i,r){var a;ai((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await yv(e,n,i,Hd(),r);return l4(e,s,Dp())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await yv(e,n,i,Hd(),r);return yD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ai(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await n4(e),i=new zD(e);return n.register("authEvent",r=>(Q(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pf,{type:Pf},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[Pf];s!==void 0&&n(!!s),nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return g1()||c1()||Cp()}}const p4=m4;var _v="@firebase/auth",vv="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _4(t){$s(new Fr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;Q(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y1(t)},c=new DN(i,r,s,u);return BN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),$s(new Fr("auth-internal",e=>{const n=fi(e.getProvider("auth").getImmediate());return(i=>new g4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(_v,vv,y4(t)),Yi(_v,vv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=5*60,E4=Kb("authIdTokenMaxAge")||v4;let Ev=null;const T4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>E4)return;const r=n==null?void 0:n.token;Ev!==r&&(Ev=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function b4(t=Zb()){const e=bp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zN(t,{popupRedirectResolver:p4,persistence:[RD,mD,x1]}),i=Kb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=T4(s.toString());uD(n,a,()=>a(n.currentUser)),S1(n,l=>a(l))}}const r=Gb("auth");return r&&FN(n,`http://${r}`),n}function A4(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}ON({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=un("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",A4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_4("Browser");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $i,L1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,b){function A(){}A.prototype=b.prototype,S.F=b.prototype,S.prototype=new A,S.prototype.constructor=S,S.D=function(w,C,D){for(var R=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)R[ct-2]=arguments[ct];return b.prototype[C].apply(w,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,b,A){A||(A=0);const w=Array(16);if(typeof b=="string")for(var C=0;C<16;++C)w[C]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(C=0;C<16;++C)w[C]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=S.g[0],A=S.g[1],C=S.g[2];let D=S.g[3],R;R=b+(D^A&(C^D))+w[0]+3614090360&4294967295,b=A+(R<<7&4294967295|R>>>25),R=D+(C^b&(A^C))+w[1]+3905402710&4294967295,D=b+(R<<12&4294967295|R>>>20),R=C+(A^D&(b^A))+w[2]+606105819&4294967295,C=D+(R<<17&4294967295|R>>>15),R=A+(b^C&(D^b))+w[3]+3250441966&4294967295,A=C+(R<<22&4294967295|R>>>10),R=b+(D^A&(C^D))+w[4]+4118548399&4294967295,b=A+(R<<7&4294967295|R>>>25),R=D+(C^b&(A^C))+w[5]+1200080426&4294967295,D=b+(R<<12&4294967295|R>>>20),R=C+(A^D&(b^A))+w[6]+2821735955&4294967295,C=D+(R<<17&4294967295|R>>>15),R=A+(b^C&(D^b))+w[7]+4249261313&4294967295,A=C+(R<<22&4294967295|R>>>10),R=b+(D^A&(C^D))+w[8]+1770035416&4294967295,b=A+(R<<7&4294967295|R>>>25),R=D+(C^b&(A^C))+w[9]+2336552879&4294967295,D=b+(R<<12&4294967295|R>>>20),R=C+(A^D&(b^A))+w[10]+4294925233&4294967295,C=D+(R<<17&4294967295|R>>>15),R=A+(b^C&(D^b))+w[11]+2304563134&4294967295,A=C+(R<<22&4294967295|R>>>10),R=b+(D^A&(C^D))+w[12]+1804603682&4294967295,b=A+(R<<7&4294967295|R>>>25),R=D+(C^b&(A^C))+w[13]+4254626195&4294967295,D=b+(R<<12&4294967295|R>>>20),R=C+(A^D&(b^A))+w[14]+2792965006&4294967295,C=D+(R<<17&4294967295|R>>>15),R=A+(b^C&(D^b))+w[15]+1236535329&4294967295,A=C+(R<<22&4294967295|R>>>10),R=b+(C^D&(A^C))+w[1]+4129170786&4294967295,b=A+(R<<5&4294967295|R>>>27),R=D+(A^C&(b^A))+w[6]+3225465664&4294967295,D=b+(R<<9&4294967295|R>>>23),R=C+(b^A&(D^b))+w[11]+643717713&4294967295,C=D+(R<<14&4294967295|R>>>18),R=A+(D^b&(C^D))+w[0]+3921069994&4294967295,A=C+(R<<20&4294967295|R>>>12),R=b+(C^D&(A^C))+w[5]+3593408605&4294967295,b=A+(R<<5&4294967295|R>>>27),R=D+(A^C&(b^A))+w[10]+38016083&4294967295,D=b+(R<<9&4294967295|R>>>23),R=C+(b^A&(D^b))+w[15]+3634488961&4294967295,C=D+(R<<14&4294967295|R>>>18),R=A+(D^b&(C^D))+w[4]+3889429448&4294967295,A=C+(R<<20&4294967295|R>>>12),R=b+(C^D&(A^C))+w[9]+568446438&4294967295,b=A+(R<<5&4294967295|R>>>27),R=D+(A^C&(b^A))+w[14]+3275163606&4294967295,D=b+(R<<9&4294967295|R>>>23),R=C+(b^A&(D^b))+w[3]+4107603335&4294967295,C=D+(R<<14&4294967295|R>>>18),R=A+(D^b&(C^D))+w[8]+1163531501&4294967295,A=C+(R<<20&4294967295|R>>>12),R=b+(C^D&(A^C))+w[13]+2850285829&4294967295,b=A+(R<<5&4294967295|R>>>27),R=D+(A^C&(b^A))+w[2]+4243563512&4294967295,D=b+(R<<9&4294967295|R>>>23),R=C+(b^A&(D^b))+w[7]+1735328473&4294967295,C=D+(R<<14&4294967295|R>>>18),R=A+(D^b&(C^D))+w[12]+2368359562&4294967295,A=C+(R<<20&4294967295|R>>>12),R=b+(A^C^D)+w[5]+4294588738&4294967295,b=A+(R<<4&4294967295|R>>>28),R=D+(b^A^C)+w[8]+2272392833&4294967295,D=b+(R<<11&4294967295|R>>>21),R=C+(D^b^A)+w[11]+1839030562&4294967295,C=D+(R<<16&4294967295|R>>>16),R=A+(C^D^b)+w[14]+4259657740&4294967295,A=C+(R<<23&4294967295|R>>>9),R=b+(A^C^D)+w[1]+2763975236&4294967295,b=A+(R<<4&4294967295|R>>>28),R=D+(b^A^C)+w[4]+1272893353&4294967295,D=b+(R<<11&4294967295|R>>>21),R=C+(D^b^A)+w[7]+4139469664&4294967295,C=D+(R<<16&4294967295|R>>>16),R=A+(C^D^b)+w[10]+3200236656&4294967295,A=C+(R<<23&4294967295|R>>>9),R=b+(A^C^D)+w[13]+681279174&4294967295,b=A+(R<<4&4294967295|R>>>28),R=D+(b^A^C)+w[0]+3936430074&4294967295,D=b+(R<<11&4294967295|R>>>21),R=C+(D^b^A)+w[3]+3572445317&4294967295,C=D+(R<<16&4294967295|R>>>16),R=A+(C^D^b)+w[6]+76029189&4294967295,A=C+(R<<23&4294967295|R>>>9),R=b+(A^C^D)+w[9]+3654602809&4294967295,b=A+(R<<4&4294967295|R>>>28),R=D+(b^A^C)+w[12]+3873151461&4294967295,D=b+(R<<11&4294967295|R>>>21),R=C+(D^b^A)+w[15]+530742520&4294967295,C=D+(R<<16&4294967295|R>>>16),R=A+(C^D^b)+w[2]+3299628645&4294967295,A=C+(R<<23&4294967295|R>>>9),R=b+(C^(A|~D))+w[0]+4096336452&4294967295,b=A+(R<<6&4294967295|R>>>26),R=D+(A^(b|~C))+w[7]+1126891415&4294967295,D=b+(R<<10&4294967295|R>>>22),R=C+(b^(D|~A))+w[14]+2878612391&4294967295,C=D+(R<<15&4294967295|R>>>17),R=A+(D^(C|~b))+w[5]+4237533241&4294967295,A=C+(R<<21&4294967295|R>>>11),R=b+(C^(A|~D))+w[12]+1700485571&4294967295,b=A+(R<<6&4294967295|R>>>26),R=D+(A^(b|~C))+w[3]+2399980690&4294967295,D=b+(R<<10&4294967295|R>>>22),R=C+(b^(D|~A))+w[10]+4293915773&4294967295,C=D+(R<<15&4294967295|R>>>17),R=A+(D^(C|~b))+w[1]+2240044497&4294967295,A=C+(R<<21&4294967295|R>>>11),R=b+(C^(A|~D))+w[8]+1873313359&4294967295,b=A+(R<<6&4294967295|R>>>26),R=D+(A^(b|~C))+w[15]+4264355552&4294967295,D=b+(R<<10&4294967295|R>>>22),R=C+(b^(D|~A))+w[6]+2734768916&4294967295,C=D+(R<<15&4294967295|R>>>17),R=A+(D^(C|~b))+w[13]+1309151649&4294967295,A=C+(R<<21&4294967295|R>>>11),R=b+(C^(A|~D))+w[4]+4149444226&4294967295,b=A+(R<<6&4294967295|R>>>26),R=D+(A^(b|~C))+w[11]+3174756917&4294967295,D=b+(R<<10&4294967295|R>>>22),R=C+(b^(D|~A))+w[2]+718787259&4294967295,C=D+(R<<15&4294967295|R>>>17),R=A+(D^(C|~b))+w[9]+3951481745&4294967295,S.g[0]=S.g[0]+b&4294967295,S.g[1]=S.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+D&4294967295}i.prototype.v=function(S,b){b===void 0&&(b=S.length);const A=b-this.blockSize,w=this.C;let C=this.h,D=0;for(;D<b;){if(C==0)for(;D<=A;)r(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<b;)if(w[C++]=S.charCodeAt(D++),C==this.blockSize){r(this,w),C=0;break}}else for(;D<b;)if(w[C++]=S[D++],C==this.blockSize){r(this,w),C=0;break}}this.h=C,this.o+=b},i.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var b=1;b<S.length-8;++b)S[b]=0;b=this.o*8;for(var A=S.length-8;A<S.length;++A)S[A]=b&255,b/=256;for(this.v(S),S=Array(16),b=0,A=0;A<4;++A)for(let w=0;w<32;w+=8)S[b++]=this.g[A]>>>w&255;return S};function s(S,b){var A=l;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=b(S)}function a(S,b){this.h=b;const A=[];let w=!0;for(let C=S.length-1;C>=0;C--){const D=S[C]|0;w&&D==b||(A[C]=D,w=!1)}this.g=A}var l={};function u(S){return-128<=S&&S<128?s(S,function(b){return new a([b|0],b<0?-1:0)}):new a([S|0],S<0?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return m;if(S<0)return N(c(-S));const b=[];let A=1;for(let w=0;S>=A;w++)b[w]=S/A|0,A*=4294967296;return new a(b,0)}function f(S,b){if(S.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(S.charAt(0)=="-")return N(f(S.substring(1),b));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(b,8));let w=m;for(let D=0;D<S.length;D+=8){var C=Math.min(8,S.length-D);const R=parseInt(S.substring(D,D+C),b);C<8?(C=c(Math.pow(b,C)),w=w.j(C).add(c(R))):(w=w.j(A),w=w.add(c(R)))}return w}var m=u(0),p=u(1),y=u(16777216);t=a.prototype,t.m=function(){if(O(this))return-N(this).m();let S=0,b=1;for(let A=0;A<this.g.length;A++){const w=this.i(A);S+=(w>=0?w:4294967296+w)*b,b*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(O(this))return"-"+N(this).toString(S);const b=c(Math.pow(S,6));var A=this;let w="";for(;;){const C=I(A,b).g;A=T(A,C.j(b));let D=((A.g.length>0?A.g[0]:A.h)>>>0).toString(S);if(A=C,x(A))return D+w;for(;D.length<6;)D="0"+D;w=D+w}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(let b=0;b<S.g.length;b++)if(S.g[b]!=0)return!1;return!0}function O(S){return S.h==-1}t.l=function(S){return S=T(this,S),O(S)?-1:x(S)?0:1};function N(S){const b=S.g.length,A=[];for(let w=0;w<b;w++)A[w]=~S.g[w];return new a(A,~S.h).add(p)}t.abs=function(){return O(this)?N(this):this},t.add=function(S){const b=Math.max(this.g.length,S.g.length),A=[];let w=0;for(let C=0;C<=b;C++){let D=w+(this.i(C)&65535)+(S.i(C)&65535),R=(D>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);w=R>>>16,D&=65535,R&=65535,A[C]=R<<16|D}return new a(A,A[A.length-1]&-2147483648?-1:0)};function T(S,b){return S.add(N(b))}t.j=function(S){if(x(this)||x(S))return m;if(O(this))return O(S)?N(this).j(N(S)):N(N(this).j(S));if(O(S))return N(this.j(N(S)));if(this.l(y)<0&&S.l(y)<0)return c(this.m()*S.m());const b=this.g.length+S.g.length,A=[];for(var w=0;w<2*b;w++)A[w]=0;for(w=0;w<this.g.length;w++)for(let C=0;C<S.g.length;C++){const D=this.i(w)>>>16,R=this.i(w)&65535,ct=S.i(C)>>>16,rn=S.i(C)&65535;A[2*w+2*C]+=R*rn,v(A,2*w+2*C),A[2*w+2*C+1]+=D*rn,v(A,2*w+2*C+1),A[2*w+2*C+1]+=R*ct,v(A,2*w+2*C+1),A[2*w+2*C+2]+=D*ct,v(A,2*w+2*C+2)}for(S=0;S<b;S++)A[S]=A[2*S+1]<<16|A[2*S];for(S=b;S<2*b;S++)A[S]=0;return new a(A,0)};function v(S,b){for(;(S[b]&65535)!=S[b];)S[b+1]+=S[b]>>>16,S[b]&=65535,b++}function E(S,b){this.g=S,this.h=b}function I(S,b){if(x(b))throw Error("division by zero");if(x(S))return new E(m,m);if(O(S))return b=I(N(S),b),new E(N(b.g),N(b.h));if(O(b))return b=I(S,N(b)),new E(N(b.g),b.h);if(S.g.length>30){if(O(S)||O(b))throw Error("slowDivide_ only works with positive integers.");for(var A=p,w=b;w.l(S)<=0;)A=j(A),w=j(w);var C=H(A,1),D=H(w,1);for(w=H(w,2),A=H(A,2);!x(w);){var R=D.add(w);R.l(S)<=0&&(C=C.add(A),D=R),w=H(w,1),A=H(A,1)}return b=T(S,C.j(b)),new E(C,b)}for(C=m;S.l(b)>=0;){for(A=Math.max(1,Math.floor(S.m()/b.m())),w=Math.ceil(Math.log(A)/Math.LN2),w=w<=48?1:Math.pow(2,w-48),D=c(A),R=D.j(b);O(R)||R.l(S)>0;)A-=w,D=c(A),R=D.j(b);x(D)&&(D=p),C=C.add(D),S=T(S,R)}return new E(C,S)}t.B=function(S){return I(this,S).h},t.and=function(S){const b=Math.max(this.g.length,S.g.length),A=[];for(let w=0;w<b;w++)A[w]=this.i(w)&S.i(w);return new a(A,this.h&S.h)},t.or=function(S){const b=Math.max(this.g.length,S.g.length),A=[];for(let w=0;w<b;w++)A[w]=this.i(w)|S.i(w);return new a(A,this.h|S.h)},t.xor=function(S){const b=Math.max(this.g.length,S.g.length),A=[];for(let w=0;w<b;w++)A[w]=this.i(w)^S.i(w);return new a(A,this.h^S.h)};function j(S){const b=S.g.length+1,A=[];for(let w=0;w<b;w++)A[w]=S.i(w)<<1|S.i(w-1)>>>31;return new a(A,S.h)}function H(S,b){const A=b>>5;b%=32;const w=S.g.length-A,C=[];for(let D=0;D<w;D++)C[D]=b>0?S.i(D+A)>>>b|S.i(D+A+1)<<32-b:S.i(D+A);return new a(C,S.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,L1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,$i=a}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var Zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var k1,eo,U1,wu,Kd,j1,z1,B1;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zl=="object"&&Zl];for(var h=0;h<o.length;++h){var d=o[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function r(o,h){if(h)e:{var d=i;o=o.split(".");for(var _=0;_<o.length-1;_++){var M=o[_];if(!(M in d))break e;d=d[M]}o=o[o.length-1],_=d[o],h=h(_),h!=_&&h!=null&&e(d,o,{configurable:!0,writable:!0,value:h})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(h){var d=[],_;for(_ in h)Object.prototype.hasOwnProperty.call(h,_)&&d.push([_,h[_]]);return d}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function u(o,h,d){return o.call.apply(o.bind,arguments)}function c(o,h,d){return c=u,c.apply(null,arguments)}function f(o,h){var d=Array.prototype.slice.call(arguments,1);return function(){var _=d.slice();return _.push.apply(_,arguments),o.apply(this,_)}}function m(o,h){function d(){}d.prototype=h.prototype,o.Z=h.prototype,o.prototype=new d,o.prototype.constructor=o,o.Ob=function(_,M,V){for(var z=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)z[ee-2]=arguments[ee];return h.prototype[M].apply(_,z)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function y(o){const h=o.length;if(h>0){const d=Array(h);for(let _=0;_<h;_++)d[_]=o[_];return d}return[]}function x(o,h){for(let _=1;_<arguments.length;_++){const M=arguments[_];var d=typeof M;if(d=d!="object"?d:M?Array.isArray(M)?"array":d:"null",d=="array"||d=="object"&&typeof M.length=="number"){d=o.length||0;const V=M.length||0;o.length=d+V;for(let z=0;z<V;z++)o[d+z]=M[z]}else o.push(M)}}class O{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function N(o){a.setTimeout(()=>{throw o},0)}function T(){var o=S;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class v{constructor(){this.h=this.g=null}add(h,d){const _=E.get();_.set(h,d),this.h?this.h.next=_:this.g=_,this.h=_}}var E=new O(()=>new I,o=>o.reset());class I{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let j,H=!1,S=new v,b=()=>{const o=Promise.resolve(void 0);j=()=>{o.then(A)}};function A(){for(var o;o=T();){try{o.h.call(o.g)}catch(d){N(d)}var h=E;h.j(o),h.h<100&&(h.h++,o.next=h.g,h.g=o)}H=!1}function w(){this.u=this.u,this.C=this.C}w.prototype.u=!1,w.prototype.dispose=function(){this.u||(this.u=!0,this.N())},w.prototype[Symbol.dispose]=function(){this.dispose()},w.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};a.addEventListener("test",d,h),a.removeEventListener("test",d,h)}catch{}return o}();function R(o){return/^[\s\xa0]*$/.test(o)}function ct(o,h){C.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,h)}m(ct,C),ct.prototype.init=function(o,h){const d=this.type=o.type,_=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget,h||(d=="mouseover"?h=o.fromElement:d=="mouseout"&&(h=o.toElement)),this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ct.Z.h.call(this)},ct.prototype.h=function(){ct.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var rn="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(o,h,d,_,M){this.listener=o,this.proxy=null,this.src=h,this.type=d,this.capture=!!_,this.ha=M,this.key=++F,this.da=this.fa=!1}function J(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ve(o,h,d){for(const _ in o)h.call(d,o[_],_,o)}function Ue(o,h){for(const d in o)h.call(void 0,o[d],d,o)}function fr(o){const h={};for(const d in o)h[d]=o[d];return h}const dr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ts(o,h){let d,_;for(let M=1;M<arguments.length;M++){_=arguments[M];for(d in _)o[d]=_[d];for(let V=0;V<dr.length;V++)d=dr[V],Object.prototype.hasOwnProperty.call(_,d)&&(o[d]=_[d])}}function qt(o){this.src=o,this.g={},this.h=0}qt.prototype.add=function(o,h,d,_,M){const V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);const z=Eh(o,h,_,M);return z>-1?(h=o[z],d||(h.fa=!1)):(h=new te(h,this.src,V,!!_,M),h.fa=d,o.push(h)),h};function di(o,h){const d=h.type;if(d in o.g){var _=o.g[d],M=Array.prototype.indexOf.call(_,h,void 0),V;(V=M>=0)&&Array.prototype.splice.call(_,M,1),V&&(J(h),o.g[d].length==0&&(delete o.g[d],o.h--))}}function Eh(o,h,d,_){for(let M=0;M<o.length;++M){const V=o[M];if(!V.da&&V.listener==h&&V.capture==!!d&&V.ha==_)return M}return-1}var Th="closure_lm_"+(Math.random()*1e6|0),bh={};function dg(o,h,d,_,M){if(Array.isArray(h)){for(let V=0;V<h.length;V++)dg(o,h[V],d,_,M);return null}return d=gg(d),o&&o[rn]?o.J(h,d,l(_)?!!_.capture:!1,M):ES(o,h,d,!1,_,M)}function ES(o,h,d,_,M,V){if(!h)throw Error("Invalid event type");const z=l(M)?!!M.capture:!!M;let ee=Sh(o);if(ee||(o[Th]=ee=new qt(o)),d=ee.add(h,d,_,z,V),d.proxy)return d;if(_=TS(),d.proxy=_,_.src=o,_.listener=d,o.addEventListener)D||(M=z),M===void 0&&(M=!1),o.addEventListener(h.toString(),_,M);else if(o.attachEvent)o.attachEvent(pg(h.toString()),_);else if(o.addListener&&o.removeListener)o.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return d}function TS(){function o(d){return h.call(o.src,o.listener,d)}const h=bS;return o}function mg(o,h,d,_,M){if(Array.isArray(h))for(var V=0;V<h.length;V++)mg(o,h[V],d,_,M);else _=l(_)?!!_.capture:!!_,d=gg(d),o&&o[rn]?(o=o.i,V=String(h).toString(),V in o.g&&(h=o.g[V],d=Eh(h,d,_,M),d>-1&&(J(h[d]),Array.prototype.splice.call(h,d,1),h.length==0&&(delete o.g[V],o.h--)))):o&&(o=Sh(o))&&(h=o.g[h.toString()],o=-1,h&&(o=Eh(h,d,_,M)),(d=o>-1?h[o]:null)&&Ah(d))}function Ah(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[rn])di(h.i,o);else{var d=o.type,_=o.proxy;h.removeEventListener?h.removeEventListener(d,_,o.capture):h.detachEvent?h.detachEvent(pg(d),_):h.addListener&&h.removeListener&&h.removeListener(_),(d=Sh(h))?(di(d,o),d.h==0&&(d.src=null,h[Th]=null)):J(o)}}}function pg(o){return o in bh?bh[o]:bh[o]="on"+o}function bS(o,h){if(o.da)o=!0;else{h=new ct(h,this);const d=o.listener,_=o.ha||o.src;o.fa&&Ah(o),o=d.call(_,h)}return o}function Sh(o){return o=o[Th],o instanceof qt?o:null}var wh="__closure_events_fn_"+(Math.random()*1e9>>>0);function gg(o){return typeof o=="function"?o:(o[wh]||(o[wh]=function(h){return o.handleEvent(h)}),o[wh])}function ht(){w.call(this),this.i=new qt(this),this.M=this,this.G=null}m(ht,w),ht.prototype[rn]=!0,ht.prototype.removeEventListener=function(o,h,d,_){mg(this,o,h,d,_)};function gt(o,h){var d,_=o.G;if(_)for(d=[];_;_=_.G)d.push(_);if(o=o.M,_=h.type||h,typeof h=="string")h=new C(h,o);else if(h instanceof C)h.target=h.target||o;else{var M=h;h=new C(_,o),ts(h,M)}M=!0;let V,z;if(d)for(z=d.length-1;z>=0;z--)V=h.g=d[z],M=Al(V,_,!0,h)&&M;if(V=h.g=o,M=Al(V,_,!0,h)&&M,M=Al(V,_,!1,h)&&M,d)for(z=0;z<d.length;z++)V=h.g=d[z],M=Al(V,_,!1,h)&&M}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var o=this.i;for(const h in o.g){const d=o.g[h];for(let _=0;_<d.length;_++)J(d[_]);delete o.g[h],o.h--}}this.G=null},ht.prototype.J=function(o,h,d,_){return this.i.add(String(o),h,!1,d,_)},ht.prototype.K=function(o,h,d,_){return this.i.add(String(o),h,!0,d,_)};function Al(o,h,d,_){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();let M=!0;for(let V=0;V<h.length;++V){const z=h[V];if(z&&!z.da&&z.capture==d){const ee=z.listener,Qe=z.ha||z.src;z.fa&&di(o.i,z),M=ee.call(Qe,_)!==!1&&M}}return M&&!_.defaultPrevented}function AS(o,h){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=c(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:a.setTimeout(o,h||0)}function yg(o){o.g=AS(()=>{o.g=null,o.i&&(o.i=!1,yg(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class SS extends w{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:yg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(o){w.call(this),this.h=o,this.g={}}m(Aa,w);var _g=[];function vg(o){ve(o.g,function(h,d){this.g.hasOwnProperty(d)&&Ah(h)},o),o.g={}}Aa.prototype.N=function(){Aa.Z.N.call(this),vg(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rh=a.JSON.stringify,wS=a.JSON.parse,RS=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Eg(){}function Tg(){}var Sa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ch(){C.call(this,"d")}m(Ch,C);function xh(){C.call(this,"c")}m(xh,C);var mr={},bg=null;function Sl(){return bg=bg||new ht}mr.Ia="serverreachability";function Ag(o){C.call(this,mr.Ia,o)}m(Ag,C);function wa(o){const h=Sl();gt(h,new Ag(h))}mr.STAT_EVENT="statevent";function Sg(o,h){C.call(this,mr.STAT_EVENT,o),this.stat=h}m(Sg,C);function yt(o){const h=Sl();gt(h,new Sg(h,o))}mr.Ja="timingevent";function wg(o,h){C.call(this,mr.Ja,o),this.size=h}m(wg,C);function Ra(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},h)}function Ca(){this.g=!0}Ca.prototype.ua=function(){this.g=!1};function CS(o,h,d,_,M,V){o.info(function(){if(o.g)if(V){var z="",ee=V.split("&");for(let ye=0;ye<ee.length;ye++){var Qe=ee[ye].split("=");if(Qe.length>1){const Je=Qe[0];Qe=Qe[1];const gn=Je.split("_");z=gn.length>=2&&gn[1]=="type"?z+(Je+"="+Qe+"&"):z+(Je+"=redacted&")}}}else z=null;else z=V;return"XMLHTTP REQ ("+_+") [attempt "+M+"]: "+h+`
`+d+`
`+z})}function xS(o,h,d,_,M,V,z){o.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+M+"]: "+h+`
`+d+`
`+V+" "+z})}function ns(o,h,d,_){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+NS(o,d)+(_?" "+_:"")})}function IS(o,h){o.info(function(){return"TIMEOUT: "+h})}Ca.prototype.info=function(){};function NS(o,h){if(!o.g)return h;if(!h)return null;try{const V=JSON.parse(h);if(V){for(o=0;o<V.length;o++)if(Array.isArray(V[o])){var d=V[o];if(!(d.length<2)){var _=d[1];if(Array.isArray(_)&&!(_.length<1)){var M=_[0];if(M!="noop"&&M!="stop"&&M!="close")for(let z=1;z<_.length;z++)_[z]=""}}}}return Rh(V)}catch{return h}}var wl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Rg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cg;function Ih(){}m(Ih,Eg),Ih.prototype.g=function(){return new XMLHttpRequest},Cg=new Ih;function xa(o){return encodeURIComponent(String(o))}function DS(o){var h=1;o=o.split(":");const d=[];for(;h>0&&o.length;)d.push(o.shift()),h--;return o.length&&d.push(o.join(":")),d}function mi(o,h,d,_){this.j=o,this.i=h,this.l=d,this.S=_||1,this.V=new Aa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xg}function xg(){this.i=null,this.g="",this.h=!1}var Ig={},Nh={};function Dh(o,h,d){o.M=1,o.A=Cl(pn(h)),o.u=d,o.R=!0,Ng(o,null)}function Ng(o,h){o.F=Date.now(),Rl(o),o.B=pn(o.A);var d=o.B,_=o.S;Array.isArray(_)||(_=[String(_)]),qg(d.i,"t",_),o.C=0,d=o.j.L,o.h=new xg,o.g=oy(o.j,d?h:null,!o.u),o.P>0&&(o.O=new SS(c(o.Y,o,o.g),o.P)),h=o.V,d=o.g,_=o.ba;var M="readystatechange";Array.isArray(M)||(M&&(_g[0]=M.toString()),M=_g);for(let V=0;V<M.length;V++){const z=dg(d,M[V],_||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=o.J?fr(o.J):{},o.u?(o.v||(o.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,h)):(o.v="GET",o.g.ea(o.B,o.v,null,h)),wa(),CS(o.i,o.v,o.B,o.l,o.S,o.u)}mi.prototype.ba=function(o){o=o.target;const h=this.O;h&&yi(o)==3?h.j():this.Y(o)},mi.prototype.Y=function(o){try{if(o==this.g)e:{const ee=yi(this.g),Qe=this.g.ya(),ye=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||Xg(this.g)))){this.K||ee!=4||Qe==7||(Qe==8||ye<=0?wa(3):wa(2)),Oh(this);var h=this.g.ca();this.X=h;var d=OS(this);if(this.o=h==200,xS(this.i,this.v,this.B,this.l,this.S,ee,h),this.o){if(this.U&&!this.L){t:{if(this.g){var _,M=this.g;if((_=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(_)){var V=_;break t}}V=null}if(o=V)ns(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mh(this,o);else{this.o=!1,this.m=3,yt(12),pr(this),Ia(this);break e}}if(this.R){o=!0;let Je;for(;!this.K&&this.C<d.length;)if(Je=MS(this,d),Je==Nh){ee==4&&(this.m=4,yt(14),o=!1),ns(this.i,this.l,null,"[Incomplete Response]");break}else if(Je==Ig){this.m=4,yt(15),ns(this.i,this.l,d,"[Invalid Chunk]"),o=!1;break}else ns(this.i,this.l,Je,null),Mh(this,Je);if(Dg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||d.length!=0||this.h.h||(this.m=1,yt(16),o=!1),this.o=this.o&&o,!o)ns(this.i,this.l,d,"[Invalid Chunked Response]"),pr(this),Ia(this);else if(d.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),Bh(z),z.P=!0,yt(11))}}else ns(this.i,this.l,d,null),Mh(this,d);ee==4&&pr(this),this.o&&!this.K&&(ee==4?iy(this.j,this):(this.o=!1,Rl(this)))}else KS(this.g),h==400&&d.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),pr(this),Ia(this)}}}catch{}finally{}};function OS(o){if(!Dg(o))return o.g.la();const h=Xg(o.g);if(h==="")return"";let d="";const _=h.length,M=yi(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return pr(o),Ia(o),"";o.h.i=new a.TextDecoder}for(let V=0;V<_;V++)o.h.h=!0,d+=o.h.i.decode(h[V],{stream:!(M&&V==_-1)});return h.length=0,o.h.g+=d,o.C=0,o.h.g}function Dg(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function MS(o,h){var d=o.C,_=h.indexOf(`
`,d);return _==-1?Nh:(d=Number(h.substring(d,_)),isNaN(d)?Ig:(_+=1,_+d>h.length?Nh:(h=h.slice(_,_+d),o.C=_+d,h)))}mi.prototype.cancel=function(){this.K=!0,pr(this)};function Rl(o){o.T=Date.now()+o.H,Og(o,o.H)}function Og(o,h){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Ra(c(o.aa,o),h)}function Oh(o){o.D&&(a.clearTimeout(o.D),o.D=null)}mi.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(IS(this.i,this.B),this.M!=2&&(wa(),yt(17)),pr(this),this.m=2,Ia(this)):Og(this,this.T-o)};function Ia(o){o.j.I==0||o.K||iy(o.j,o)}function pr(o){Oh(o);var h=o.O;h&&typeof h.dispose=="function"&&h.dispose(),o.O=null,vg(o.V),o.g&&(h=o.g,o.g=null,h.abort(),h.dispose())}function Mh(o,h){try{var d=o.j;if(d.I!=0&&(d.g==o||Vh(d.h,o))){if(!o.L&&Vh(d.h,o)&&d.I==3){try{var _=d.Ba.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var M=_;if(M[0]==0){e:if(!d.v){if(d.g)if(d.g.F+3e3<o.F)Ol(d),Nl(d);else break e;zh(d),yt(18)}}else d.xa=M[1],0<d.xa-d.K&&M[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=Ra(c(d.Va,d),6e3));Pg(d.h)<=1&&d.ta&&(d.ta=void 0)}else yr(d,11)}else if((o.L||d.g==o)&&Ol(d),!R(h))for(M=d.Ba.g.parse(h),h=0;h<M.length;h++){let ye=M[h];const Je=ye[0];if(!(Je<=d.K))if(d.K=Je,ye=ye[1],d.I==2)if(ye[0]=="c"){d.M=ye[1],d.ba=ye[2];const gn=ye[3];gn!=null&&(d.ka=gn,d.j.info("VER="+d.ka));const _r=ye[4];_r!=null&&(d.za=_r,d.j.info("SVER="+d.za));const _i=ye[5];_i!=null&&typeof _i=="number"&&_i>0&&(_=1.5*_i,d.O=_,d.j.info("backChannelRequestTimeoutMs_="+_)),_=d;const vi=o.g;if(vi){const Vl=vi.g?vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vl){var V=_.h;V.g||Vl.indexOf("spdy")==-1&&Vl.indexOf("quic")==-1&&Vl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Ph(V,V.h),V.h=null))}if(_.G){const Fh=vi.g?vi.g.getResponseHeader("X-HTTP-Session-Id"):null;Fh&&(_.wa=Fh,be(_.J,_.G,Fh))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-o.F,d.j.info("Handshake RTT: "+d.T+"ms")),_=d;var z=o;if(_.na=ay(_,_.L?_.ba:null,_.W),z.L){Lg(_.h,z);var ee=z,Qe=_.O;Qe&&(ee.H=Qe),ee.D&&(Oh(ee),Rl(ee)),_.g=z}else ty(_);d.i.length>0&&Dl(d)}else ye[0]!="stop"&&ye[0]!="close"||yr(d,7);else d.I==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?yr(d,7):jh(d):ye[0]!="noop"&&d.l&&d.l.qa(ye),d.A=0)}}wa(4)}catch{}}var VS=class{constructor(o,h){this.g=o,this.map=h}};function Mg(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Pg(o){return o.h?1:o.g?o.g.size:0}function Vh(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function Ph(o,h){o.g?o.g.add(h):o.h=h}function Lg(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}Mg.prototype.cancel=function(){if(this.i=kg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function kg(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const d of o.g.values())h=h.concat(d.G);return h}return y(o.i)}var Ug=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PS(o,h){if(o){o=o.split("&");for(let d=0;d<o.length;d++){const _=o[d].indexOf("=");let M,V=null;_>=0?(M=o[d].substring(0,_),V=o[d].substring(_+1)):M=o[d],h(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function pi(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;o instanceof pi?(this.l=o.l,Na(this,o.j),this.o=o.o,this.g=o.g,Da(this,o.u),this.h=o.h,Lh(this,Hg(o.i)),this.m=o.m):o&&(h=String(o).match(Ug))?(this.l=!1,Na(this,h[1]||"",!0),this.o=Oa(h[2]||""),this.g=Oa(h[3]||"",!0),Da(this,h[4]),this.h=Oa(h[5]||"",!0),Lh(this,h[6]||"",!0),this.m=Oa(h[7]||"")):(this.l=!1,this.i=new Va(null,this.l))}pi.prototype.toString=function(){const o=[];var h=this.j;h&&o.push(Ma(h,jg,!0),":");var d=this.g;return(d||h=="file")&&(o.push("//"),(h=this.o)&&o.push(Ma(h,jg,!0),"@"),o.push(xa(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&o.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(Ma(d,d.charAt(0)=="/"?US:kS,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",Ma(d,zS)),o.join("")},pi.prototype.resolve=function(o){const h=pn(this);let d=!!o.j;d?Na(h,o.j):d=!!o.o,d?h.o=o.o:d=!!o.g,d?h.g=o.g:d=o.u!=null;var _=o.h;if(d)Da(h,o.u);else if(d=!!o.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var M=h.h.lastIndexOf("/");M!=-1&&(_=h.h.slice(0,M+1)+_)}if(M=_,M==".."||M==".")_="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){_=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let z=0;z<M.length;){const ee=M[z++];ee=="."?_&&z==M.length&&V.push(""):ee==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),_&&z==M.length&&V.push("")):(V.push(ee),_=!0)}_=V.join("/")}else _=M}return d?h.h=_:d=o.i.toString()!=="",d?Lh(h,Hg(o.i)):d=!!o.m,d&&(h.m=o.m),h};function pn(o){return new pi(o)}function Na(o,h,d){o.j=d?Oa(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function Da(o,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);o.u=h}else o.u=null}function Lh(o,h,d){h instanceof Va?(o.i=h,BS(o.i,o.l)):(d||(h=Ma(h,jS)),o.i=new Va(h,o.l))}function be(o,h,d){o.i.set(h,d)}function Cl(o){return be(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Oa(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ma(o,h,d){return typeof o=="string"?(o=encodeURI(o).replace(h,LS),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function LS(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var jg=/[#\/\?@]/g,kS=/[#\?:]/g,US=/[#\?]/g,jS=/[#\?@]/g,zS=/#/g;function Va(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function gr(o){o.g||(o.g=new Map,o.h=0,o.i&&PS(o.i,function(h,d){o.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=Va.prototype,t.add=function(o,h){gr(this),this.i=null,o=is(this,o);let d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(h),this.h+=1,this};function zg(o,h){gr(o),h=is(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function Bg(o,h){return gr(o),h=is(o,h),o.g.has(h)}t.forEach=function(o,h){gr(this),this.g.forEach(function(d,_){d.forEach(function(M){o.call(h,M,_,this)},this)},this)};function Fg(o,h){gr(o);let d=[];if(typeof h=="string")Bg(o,h)&&(d=d.concat(o.g.get(is(o,h))));else for(o=Array.from(o.g.values()),h=0;h<o.length;h++)d=d.concat(o[h]);return d}t.set=function(o,h){return gr(this),this.i=null,o=is(this,o),Bg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=Fg(this,o),o.length>0?String(o[0]):h):h};function qg(o,h,d){zg(o,h),d.length>0&&(o.i=null,o.g.set(is(o,h),y(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(let _=0;_<h.length;_++){var d=h[_];const M=xa(d);d=Fg(this,d);for(let V=0;V<d.length;V++){let z=M;d[V]!==""&&(z+="="+xa(d[V])),o.push(z)}}return this.i=o.join("&")};function Hg(o){const h=new Va;return h.i=o.i,o.g&&(h.g=new Map(o.g),h.h=o.h),h}function is(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function BS(o,h){h&&!o.j&&(gr(o),o.i=null,o.g.forEach(function(d,_){const M=_.toLowerCase();_!=M&&(zg(this,_),qg(this,M,d))},o)),o.j=h}function FS(o,h){const d=new Ca;if(a.Image){const _=new Image;_.onload=f(gi,d,"TestLoadImage: loaded",!0,h,_),_.onerror=f(gi,d,"TestLoadImage: error",!1,h,_),_.onabort=f(gi,d,"TestLoadImage: abort",!1,h,_),_.ontimeout=f(gi,d,"TestLoadImage: timeout",!1,h,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=o}else h(!1)}function qS(o,h){const d=new Ca,_=new AbortController,M=setTimeout(()=>{_.abort(),gi(d,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:_.signal}).then(V=>{clearTimeout(M),V.ok?gi(d,"TestPingServer: ok",!0,h):gi(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),gi(d,"TestPingServer: error",!1,h)})}function gi(o,h,d,_,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),_(d)}catch{}}function HS(){this.g=new RS}function kh(o){this.i=o.Sb||null,this.h=o.ab||!1}m(kh,Eg),kh.prototype.g=function(){return new xl(this.i,this.h)};function xl(o,h){ht.call(this),this.H=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(xl,ht),t=xl.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=h,this.readyState=1,La(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(h.body=o),(this.H||a).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pa(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,La(this)),this.g&&(this.readyState=3,La(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gg(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gg(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?Pa(this):La(this),this.readyState==3&&Gg(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,Pa(this))},t.Na=function(o){this.g&&(this.response=o,Pa(this))},t.ga=function(){this.g&&Pa(this)};function Pa(o){o.readyState=4,o.l=null,o.j=null,o.B=null,La(o)}t.setRequestHeader=function(o,h){this.A.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=h.next();return o.join(`\r
`)};function La(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Qg(o){let h="";return ve(o,function(d,_){h+=_,h+=":",h+=d,h+=`\r
`}),h}function Uh(o,h,d){e:{for(_ in d){var _=!1;break e}_=!0}_||(d=Qg(d),typeof o=="string"?d!=null&&xa(d):be(o,h,d))}function De(o){ht.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(De,ht);var GS=/^https?$/i,QS=["POST","PUT"];t=De.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,h,d,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cg.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(V){Kg(this,V);return}if(o=d||"",d=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var M in _)d.set(M,_[M]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const V of _.keys())d.set(V,_.get(V));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(d.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(QS,h,void 0)>=0)||_||M||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of d)this.g.setRequestHeader(V,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(V){Kg(this,V)}};function Kg(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.o=5,Yg(o),Il(o)}function Yg(o){o.A||(o.A=!0,gt(o,"complete"),gt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,gt(this,"complete"),gt(this,"abort"),Il(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Il(this,!0)),De.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?$g(this):this.Xa())},t.Xa=function(){$g(this)};function $g(o){if(o.h&&typeof s<"u"){if(o.v&&yi(o)==4)setTimeout(o.Ca.bind(o),0);else if(gt(o,"readystatechange"),yi(o)==4){o.h=!1;try{const V=o.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var _;if(_=V===0){let z=String(o.D).match(Ug)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),_=!GS.test(z?z.toLowerCase():"")}d=_}if(d)gt(o,"complete"),gt(o,"success");else{o.o=6;try{var M=yi(o)>2?o.g.statusText:""}catch{M=""}o.l=M+" ["+o.ca()+"]",Yg(o)}}finally{Il(o)}}}}function Il(o,h){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const d=o.g;o.g=null,h||gt(o,"ready");try{d.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function yi(o){return o.g?o.g.readyState:0}t.ca=function(){try{return yi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),wS(h)}};function Xg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function KS(o){const h={};o=(o.g&&yi(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<o.length;_++){if(R(o[_]))continue;var d=DS(o[_]);const M=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const V=h[M]||[];h[M]=V,V.push(d)}Ue(h,function(_){return _.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ka(o,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||h}function Jg(o){this.za=0,this.i=[],this.j=new Ca,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ka("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ka("baseRetryDelayMs",5e3,o),this.Za=ka("retryDelaySeedMs",1e4,o),this.Ta=ka("forwardChannelMaxRetries",2,o),this.va=ka("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Mg(o&&o.concurrentRequestLimit),this.Ba=new HS,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Jg.prototype,t.ka=8,t.I=1,t.connect=function(o,h,d,_){yt(0),this.W=o,this.H=h||{},d&&_!==void 0&&(this.H.OSID=d,this.H.OAID=_),this.F=this.X,this.J=ay(this,null,this.W),Dl(this)};function jh(o){if(Wg(o),o.I==3){var h=o.V++,d=pn(o.J);if(be(d,"SID",o.M),be(d,"RID",h),be(d,"TYPE","terminate"),Ua(o,d),h=new mi(o,o.j,h),h.M=2,h.A=Cl(pn(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(h.A.toString(),"")}catch{}!d&&a.Image&&(new Image().src=h.A,d=!0),d||(h.g=oy(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Rl(h)}sy(o)}function Nl(o){o.g&&(Bh(o),o.g.cancel(),o.g=null)}function Wg(o){Nl(o),o.v&&(a.clearTimeout(o.v),o.v=null),Ol(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function Dl(o){if(!Vg(o.h)&&!o.m){o.m=!0;var h=o.Ea;j||b(),H||(j(),H=!0),S.add(h,o),o.D=0}}function YS(o,h){return Pg(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=h.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Ra(c(o.Ea,o,h),ry(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const M=new mi(this,this.j,o);let V=this.o;if(this.U&&(V?(V=fr(V),ts(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var _=this.i[d];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,h>4096){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=ey(this,M,h),d=pn(this.J),be(d,"RID",o),be(d,"CVER",22),this.G&&be(d,"X-HTTP-Session-Id",this.G),Ua(this,d),V&&(this.R?h="headers="+xa(Qg(V))+"&"+h:this.u&&Uh(d,this.u,V)),Ph(this.h,M),this.Ra&&be(d,"TYPE","init"),this.S?(be(d,"$req",h),be(d,"SID","null"),M.U=!0,Dh(M,d,null)):Dh(M,d,h),this.I=2}}else this.I==3&&(o?Zg(this,o):this.i.length==0||Vg(this.h)||Zg(this))};function Zg(o,h){var d;h?d=h.l:d=o.V++;const _=pn(o.J);be(_,"SID",o.M),be(_,"RID",d),be(_,"AID",o.K),Ua(o,_),o.u&&o.o&&Uh(_,o.u,o.o),d=new mi(o,o.j,d,o.D+1),o.u===null&&(d.J=o.o),h&&(o.i=h.G.concat(o.i)),h=ey(o,d,1e3),d.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Ph(o.h,d),Dh(d,_,h)}function Ua(o,h){o.H&&ve(o.H,function(d,_){be(h,_,d)}),o.l&&ve({},function(d,_){be(h,_,d)})}function ey(o,h,d){d=Math.min(o.i.length,d);const _=o.l?c(o.l.Ka,o.l,o):null;e:{var M=o.i;let ee=-1;for(;;){const Qe=["count="+d];ee==-1?d>0?(ee=M[0].g,Qe.push("ofs="+ee)):ee=0:Qe.push("ofs="+ee);let ye=!0;for(let Je=0;Je<d;Je++){var V=M[Je].g;const gn=M[Je].map;if(V-=ee,V<0)ee=Math.max(0,M[Je].g-100),ye=!1;else try{V="req"+V+"_"||"";try{var z=gn instanceof Map?gn:Object.entries(gn);for(const[_r,_i]of z){let vi=_i;l(_i)&&(vi=Rh(_i)),Qe.push(V+_r+"="+encodeURIComponent(vi))}}catch(_r){throw Qe.push(V+"type="+encodeURIComponent("_badmap")),_r}}catch{_&&_(gn)}}if(ye){z=Qe.join("&");break e}}z=void 0}return o=o.i.splice(0,d),h.G=o,z}function ty(o){if(!o.g&&!o.v){o.Y=1;var h=o.Da;j||b(),H||(j(),H=!0),S.add(h,o),o.A=0}}function zh(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Ra(c(o.Da,o),ry(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,ny(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Ra(c(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),Nl(this),ny(this))};function Bh(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function ny(o){o.g=new mi(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var h=pn(o.na);be(h,"RID","rpc"),be(h,"SID",o.M),be(h,"AID",o.K),be(h,"CI",o.F?"0":"1"),!o.F&&o.ia&&be(h,"TO",o.ia),be(h,"TYPE","xmlhttp"),Ua(o,h),o.u&&o.o&&Uh(h,o.u,o.o),o.O&&(o.g.H=o.O);var d=o.g;o=o.ba,d.M=1,d.A=Cl(pn(h)),d.u=null,d.R=!0,Ng(d,o)}t.Va=function(){this.C!=null&&(this.C=null,Nl(this),zh(this),yt(19))};function Ol(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function iy(o,h){var d=null;if(o.g==h){Ol(o),Bh(o),o.g=null;var _=2}else if(Vh(o.h,h))d=h.G,Lg(o.h,h),_=1;else return;if(o.I!=0){if(h.o)if(_==1){d=h.u?h.u.length:0,h=Date.now()-h.F;var M=o.D;_=Sl(),gt(_,new wg(_,d)),Dl(o)}else ty(o);else if(M=h.m,M==3||M==0&&h.X>0||!(_==1&&YS(o,h)||_==2&&zh(o)))switch(d&&d.length>0&&(h=o.h,h.i=h.i.concat(d)),M){case 1:yr(o,5);break;case 4:yr(o,10);break;case 3:yr(o,6);break;default:yr(o,2)}}}function ry(o,h){let d=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(d*=2),d*h}function yr(o,h){if(o.j.info("Error code "+h),h==2){var d=c(o.bb,o),_=o.Ua;const M=!_;_=new pi(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Na(_,"https"),Cl(_),M?FS(_.toString(),d):qS(_.toString(),d)}else yt(2);o.I=0,o.l&&o.l.pa(h),sy(o),Wg(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function sy(o){if(o.I=0,o.ja=[],o.l){const h=kg(o.h);(h.length!=0||o.i.length!=0)&&(x(o.ja,h),x(o.ja,o.i),o.h.i.length=0,y(o.i),o.i.length=0),o.l.oa()}}function ay(o,h,d){var _=d instanceof pi?pn(d):new pi(d);if(_.g!="")h&&(_.g=h+"."+_.g),Da(_,_.u);else{var M=a.location;_=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;const V=new pi(null);_&&Na(V,_),h&&(V.g=h),M&&Da(V,M),d&&(V.h=d),_=V}return d=o.G,h=o.wa,d&&h&&be(_,d,h),be(_,"VER",o.ka),Ua(o,_),_}function oy(o,h,d){if(h&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Aa&&!o.ma?new De(new kh({ab:d})):new De(o.ma),h.Fa(o.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ly(){}t=ly.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ml(){}Ml.prototype.g=function(o,h){return new Nt(o,h)};function Nt(o,h){ht.call(this),this.g=new Jg(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(o?o["X-WebChannel-Client-Profile"]=h.sa:o={"X-WebChannel-Client-Profile":h.sa}),this.g.U=o,(o=h&&h.Qb)&&!R(o)&&(this.g.u=o),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!R(h)&&(this.g.G=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new rs(this)}m(Nt,ht),Nt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){jh(this.g)},Nt.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.v&&(d={},d.__data__=Rh(o),o=d);h.i.push(new VS(h.Ya++,o)),h.I==3&&Dl(h)},Nt.prototype.N=function(){this.g.l=null,delete this.j,jh(this.g),delete this.g,Nt.Z.N.call(this)};function uy(o){Ch.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const d in h){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}m(uy,Ch);function cy(){xh.call(this),this.status=1}m(cy,xh);function rs(o){this.g=o}m(rs,ly),rs.prototype.ra=function(){gt(this.g,"a")},rs.prototype.qa=function(o){gt(this.g,new uy(o))},rs.prototype.pa=function(o){gt(this.g,new cy)},rs.prototype.oa=function(){gt(this.g,"b")},Ml.prototype.createWebChannel=Ml.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,B1=function(){return new Ml},z1=function(){return Sl()},j1=mr,Kd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wl.NO_ERROR=0,wl.TIMEOUT=8,wl.HTTP_ERROR=6,wu=wl,Rg.COMPLETE="complete",U1=Rg,Tg.EventType=Sa,Sa.OPEN="a",Sa.CLOSE="b",Sa.ERROR="c",Sa.MESSAGE="d",ht.prototype.listen=ht.prototype.J,eo=Tg,De.prototype.listenOnce=De.prototype.K,De.prototype.getLastError=De.prototype.Ha,De.prototype.getLastErrorCode=De.prototype.ya,De.prototype.getStatus=De.prototype.ca,De.prototype.getResponseJson=De.prototype.La,De.prototype.getResponseText=De.prototype.la,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Fa,k1=De}).apply(typeof Zl<"u"?Zl:typeof self<"u"?self:typeof window<"u"?window:{});const bv="@firebase/firestore",Av="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Ep("@firebase/firestore");function cs(){return Gr.logLevel}function q(t,...e){if(Gr.logLevel<=re.DEBUG){const n=e.map(Mp);Gr.debug(`Firestore (${ya}): ${t}`,...n)}}function oi(t,...e){if(Gr.logLevel<=re.ERROR){const n=e.map(Mp);Gr.error(`Firestore (${ya}): ${t}`,...n)}}function Js(t,...e){if(Gr.logLevel<=re.WARN){const n=e.map(Mp);Gr.warn(`Firestore (${ya}): ${t}`,...n)}}function Mp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,F1(t,i,n)}function F1(t,e,n){let i=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw oi(i),new Error(i)}function fe(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||F1(e,r,i)}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}}class w4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class R4{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wn,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fe(typeof i.accessToken=="string",31837,{l:i}),new q1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string",2055,{h:e}),new dt(e)}}class C4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class x4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new C4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){fe(this.o===void 0,3512);const i=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Sv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=N4(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function se(t,e){return t<e?-1:t>e?1:0}function Yd(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),s=e.charAt(i);if(r!==s)return Lf(r)===Lf(s)?se(r,s):Lf(r)?1:-1}return se(t.length,e.length)}const D4=55296,O4=57343;function Lf(t){const e=t.charCodeAt(0);return e>=D4&&e<=O4}function Ws(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="__name__";class yn{constructor(e,n,i){n===void 0?n=0:n>e.length&&K(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&K(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return yn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=yn.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return se(e.length,n.length)}static compareSegments(e,n){const i=yn.isNumericId(e),r=yn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?yn.extractNumericId(e).compare(yn.extractNumericId(n)):Yd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $i.fromString(e.substring(4,e.length-2))}}class Ee extends yn{construct(e,n,i){return new Ee(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new B(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const M4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends yn{construct(e,n,i){return new at(e,n,i)}static isValidIdentifier(e){return M4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wv}static keyField(){return new at([wv])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new B(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new B(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new B(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Ee.fromString(e))}static fromName(e){return new G(Ee.fromString(e).popFirst(5))}static empty(){return new G(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t,e,n){if(!n)throw new B(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V4(t,e,n,i){if(e===!0&&i===!0)throw new B(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rv(t){if(!G.isDocumentKey(t))throw new B(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cv(t){if(G.isDocumentKey(t))throw new B(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function G1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function th(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K(12329,{type:typeof t})}function hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=th(t);throw new B(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e){const n={typeString:t};return e&&(n.value=e),n}function pl(t,e){if(!G1(t))throw new B(L.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new B(L.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=-62135596800,Iv=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Iv);return new we(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xv)throw new B(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:we._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pl(e,we._jsonSchema))return new we(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}we._jsonSchemaVersion="firestore/timestamp/1.0",we._jsonSchema={type:Ge("string",we._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${static fromTimestamp(e){return new $(e)}static min(){return new $(new we(0,0))}static max(){return new $(new we(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=-1;function P4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=$.fromTimestamp(i===1e9?new we(n+1,0):new we(n,i));return new tr(r,G.empty(),e)}function L4(t){return new tr(t.readTime,t.key,Fo)}class tr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new tr($.min(),G.empty(),Fo)}static max(){return new tr($.max(),G.empty(),Fo)}}function k4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==U4)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,i)=>{n(e)})}static reject(e){return new U((n,i)=>{i(e)})}static waitFor(e){return new U((n,i)=>{let r=0,s=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(e){let n=U.resolve(!1);for(const i of e)n=n.next(r=>r?U.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new U((i,r)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{a[c]=f,++l,l===s&&i(a)},f=>r(f))}})}static doWhile(e,n){return new U((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function z4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function va(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=-1;function ih(t){return t==null}function gc(t){return t===0&&1/t==-1/0}function B4(t){return typeof t=="number"&&Number.isInteger(t)&&!gc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="";function F4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Nv(e)),e=q4(t.get(n),e);return Nv(e)}function q4(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case Q1:n+="";break;default:n+=s}}return n}function Nv(t){return t+Q1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function K1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||it.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,it.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,it.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eu(this.root,e,this.comparator,!0)}}class eu{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class it{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??it.RED,this.left=r??it.EMPTY,this.right=s??it.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new it(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return it.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return it.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}}it.EMPTY=null,it.RED=!0,it.BLACK=!1;it.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new it(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ov(this.data.getIterator())}getIteratorFrom(e){return new Ov(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ye(this.comparator);return n.data=e,n}}class Ov{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new Lt([])}unionWith(e){let n=new Ye(at.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Lt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Y1("Invalid base64 string: "+s):s}}(e);return new ut(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const H4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(t){if(fe(!!t,39018),typeof t=="string"){let e=0;const n=H4.exec(t);if(fe(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ir(t){return typeof t=="string"?ut.fromBase64String(t):ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="server_timestamp",X1="__type__",J1="__previous_value__",W1="__local_write_time__";function Lp(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[X1])==null?void 0:i.stringValue)===$1}function rh(t){const e=t.mapValue.fields[J1];return Lp(e)?rh(e):e}function qo(t){const e=nr(t.mapValue.fields[W1].timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n,i,r,s,a,l,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f}}const yc="(default)";class Ho{constructor(e,n){this.projectId=e,this.database=n||yc}static empty(){return new Ho("","")}get isDefaultDatabase(){return this.database===yc}isEqual(e){return e instanceof Ho&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="__type__",Q4="__max__",tu={mapValue:{}},eA="__vector__",_c="value";function rr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lp(t)?4:Y4(t)?9007199254740991:K4(t)?10:11:K(28295,{value:t})}function Cn(t,e){if(t===e)return!0;const n=rr(t);if(n!==rr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qo(t).isEqual(qo(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=nr(r.timestampValue),l=nr(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return ir(r.bytesValue).isEqual(ir(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ve(r.geoPointValue.latitude)===Ve(s.geoPointValue.latitude)&&Ve(r.geoPointValue.longitude)===Ve(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ve(r.integerValue)===Ve(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Ve(r.doubleValue),l=Ve(s.doubleValue);return a===l?gc(a)===gc(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Ws(t.arrayValue.values||[],e.arrayValue.values||[],Cn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(Dv(a)!==Dv(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Cn(a[u],l[u])))return!1;return!0}(t,e);default:return K(52216,{left:t})}}function Go(t,e){return(t.values||[]).find(n=>Cn(n,e))!==void 0}function Zs(t,e){if(t===e)return 0;const n=rr(t),i=rr(e);if(n!==i)return se(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Ve(s.integerValue||s.doubleValue),u=Ve(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Mv(t.timestampValue,e.timestampValue);case 4:return Mv(qo(t),qo(e));case 5:return Yd(t.stringValue,e.stringValue);case 6:return function(s,a){const l=ir(s),u=ir(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=se(l[c],u[c]);if(f!==0)return f}return se(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=se(Ve(s.latitude),Ve(a.latitude));return l!==0?l:se(Ve(s.longitude),Ve(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Vv(t.arrayValue,e.arrayValue);case 10:return function(s,a){var p,y,x,O;const l=s.fields||{},u=a.fields||{},c=(p=l[_c])==null?void 0:p.arrayValue,f=(y=u[_c])==null?void 0:y.arrayValue,m=se(((x=c==null?void 0:c.values)==null?void 0:x.length)||0,((O=f==null?void 0:f.values)==null?void 0:O.length)||0);return m!==0?m:Vv(c,f)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===tu.mapValue&&a===tu.mapValue)return 0;if(s===tu.mapValue)return 1;if(a===tu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=a.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const p=Yd(u[m],f[m]);if(p!==0)return p;const y=Zs(l[u[m]],c[f[m]]);if(y!==0)return y}return se(u.length,f.length)}(t.mapValue,e.mapValue);default:throw K(23264,{he:n})}}function Mv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=nr(t),i=nr(e),r=se(n.seconds,i.seconds);return r!==0?r:se(n.nanos,i.nanos)}function Vv(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Zs(n[r],i[r]);if(s)return s}return se(n.length,i.length)}function ea(t){return $d(t)}function $d(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=nr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ir(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=$d(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${$d(n.fields[a])}`;return r+"}"}(t.mapValue):K(61005,{value:t})}function Ru(t){switch(rr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rh(t);return e?16+Ru(e):16;case 5:return 2*t.stringValue.length;case 6:return ir(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Ru(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return cr(i.fields,(s,a)=>{r+=s.length+Ru(a)}),r}(t.mapValue);default:throw K(13486,{value:t})}}function Pv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xd(t){return!!t&&"integerValue"in t}function kp(t){return!!t&&"arrayValue"in t}function Lv(t){return!!t&&"nullValue"in t}function kv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cu(t){return!!t&&"mapValue"in t}function K4(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Z1])==null?void 0:i.stringValue)===eA}function To(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return cr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=To(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=To(t.arrayValue.values[n]);return e}return{...t}}function Y4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Q4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Cu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=To(n)}setAll(e){let n=at.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=To(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Cu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Cu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){cr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Rt(To(this.value))}}function tA(t){const e=[];return cr(t.fields,(n,i)=>{const r=new at([n]);if(Cu(i)){const s=tA(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new Lt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n,i,r,s,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new mt(e,0,$.min(),$.min(),$.min(),Rt.empty(),0)}static newFoundDocument(e,n,i,r){return new mt(e,1,n,$.min(),i,r,0)}static newNoDocument(e,n){return new mt(e,2,n,$.min(),$.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,$.min(),$.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.position=e,this.inclusive=n}}function Uv(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(a.referenceValue),n.key):i=Zs(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function jv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n="asc"){this.field=e,this.dir=n}}function $4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{}class qe extends nA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new J4(e,n,i):n==="array-contains"?new e3(e,i):n==="in"?new t3(e,i):n==="not-in"?new n3(e,i):n==="array-contains-any"?new i3(e,i):new qe(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new W4(e,i):new Z4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zs(n,this.value)):n!==null&&rr(this.value)===rr(n)&&this.matchesComparison(Zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fn extends nA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fn(e,n)}matches(e){return iA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iA(t){return t.op==="and"}function rA(t){return X4(t)&&iA(t)}function X4(t){for(const e of t.filters)if(e instanceof fn)return!1;return!0}function Jd(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+ea(t.value);if(rA(t))return t.filters.map(e=>Jd(e)).join(",");{const e=t.filters.map(n=>Jd(n)).join(",");return`${t.op}(${e})`}}function sA(t,e){return t instanceof qe?function(i,r){return r instanceof qe&&i.op===r.op&&i.field.isEqual(r.field)&&Cn(i.value,r.value)}(t,e):t instanceof fn?function(i,r){return r instanceof fn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&sA(a,r.filters[l]),!0):!1}(t,e):void K(19439)}function aA(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${ea(n.value)}`}(t):t instanceof fn?function(n){return n.op.toString()+" {"+n.getFilters().map(aA).join(" ,")+"}"}(t):"Filter"}class J4 extends qe{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class W4 extends qe{constructor(e,n){super(e,"in",n),this.keys=oA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Z4 extends qe{constructor(e,n){super(e,"not-in",n),this.keys=oA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class e3 extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kp(n)&&Go(n.arrayValue,this.value)}}class t3 extends qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Go(this.value.arrayValue,n)}}class n3 extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Go(this.value.arrayValue,n)}}class i3 extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Go(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function zv(t,e=null,n=[],i=[],r=null,s=null,a=null){return new r3(t,e,n,i,r,s,a)}function Up(t){const e=X(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Jd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ea(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ea(i)).join(",")),e.Te=n}return e.Te}function jp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jv(t.startAt,e.startAt)&&jv(t.endAt,e.endAt)}function Wd(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function s3(t,e,n,i,r,s,a,l){return new gl(t,e,n,i,r,s,a,l)}function zp(t){return new gl(t)}function Bv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lA(t){return t.collectionGroup!==null}function bo(t){const e=X(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ye(at.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ec(s,i))}),n.has(at.keyField().canonicalString())||e.Ie.push(new Ec(at.keyField(),i))}return e.Ie}function An(t){const e=X(t);return e.Ee||(e.Ee=a3(e,bo(t))),e.Ee}function a3(t,e){if(t.limitType==="F")return zv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Ec(r.field,s)});const n=t.endAt?new vc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new vc(t.startAt.position,t.startAt.inclusive):null;return zv(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Zd(t,e){const n=t.filters.concat([e]);return new gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function em(t,e,n){return new gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sh(t,e){return jp(An(t),An(e))&&t.limitType===e.limitType}function uA(t){return`${Up(An(t))}|lt:${t.limitType}`}function hs(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>aA(r)).join(", ")}]`),ih(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ea(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ea(r)).join(",")),`Target(${i})`}(An(t))}; limitType=${t.limitType})`}function ah(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of bo(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,u){const c=Uv(a,l,u);return a.inclusive?c<=0:c<0}(i.startAt,bo(i),r)||i.endAt&&!function(a,l,u){const c=Uv(a,l,u);return a.inclusive?c>=0:c>0}(i.endAt,bo(i),r))}(t,e)}function o3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cA(t){return(e,n)=>{let i=!1;for(const r of bo(t)){const s=l3(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function l3(t,e,n){const i=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Zs(u,c):K(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return K(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){cr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return K1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=new Ne(G.comparator);function li(){return u3}const hA=new Ne(G.comparator);function to(...t){let e=hA;for(const n of t)e=e.insert(n.key,n);return e}function fA(t){let e=hA;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Cr(){return Ao()}function dA(){return Ao()}function Ao(){return new Wr(t=>t.toString(),(t,e)=>t.isEqual(e))}const c3=new Ne(G.comparator),h3=new Ye(G.comparator);function ae(...t){let e=h3;for(const n of t)e=e.add(n);return e}const f3=new Ye(se);function d3(){return f3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(e)?"-0":e}}function mA(t){return{integerValue:""+t}}function m3(t,e){return B4(e)?mA(e):Bp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function p3(t,e,n){return t instanceof Qo?function(r,s){const a={fields:{[X1]:{stringValue:$1},[W1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Lp(s)&&(s=rh(s)),s&&(a.fields[J1]=s),{mapValue:a}}(n,e):t instanceof Ko?gA(t,e):t instanceof Yo?yA(t,e):function(r,s){const a=pA(r,s),l=Fv(a)+Fv(r.Ae);return Xd(a)&&Xd(r.Ae)?mA(l):Bp(r.serializer,l)}(t,e)}function g3(t,e,n){return t instanceof Ko?gA(t,e):t instanceof Yo?yA(t,e):n}function pA(t,e){return t instanceof Tc?function(i){return Xd(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Qo extends oh{}class Ko extends oh{constructor(e){super(),this.elements=e}}function gA(t,e){const n=_A(e);for(const i of t.elements)n.some(r=>Cn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Yo extends oh{constructor(e){super(),this.elements=e}}function yA(t,e){let n=_A(e);for(const i of t.elements)n=n.filter(r=>!Cn(r,i));return{arrayValue:{values:n}}}class Tc extends oh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Fv(t){return Ve(t.integerValue||t.doubleValue)}function _A(t){return kp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n){this.field=e,this.transform=n}}function _3(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Ko&&r instanceof Ko||i instanceof Yo&&r instanceof Yo?Ws(i.elements,r.elements,Cn):i instanceof Tc&&r instanceof Tc?Cn(i.Ae,r.Ae):i instanceof Qo&&r instanceof Qo}(t.transform,e.transform)}class v3{constructor(e,n){this.version=e,this.transformResults=n}}class en{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new en}static exists(e){return new en(void 0,e)}static updateTime(e){return new en(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lh{}function vA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fp(t.key,en.none()):new yl(t.key,t.data,en.none());{const n=t.data,i=Rt.empty();let r=new Ye(at.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new hr(t.key,i,new Lt(r.toArray()),en.none())}}function E3(t,e,n){t instanceof yl?function(r,s,a){const l=r.value.clone(),u=Hv(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof hr?function(r,s,a){if(!xu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Hv(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(EA(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function So(t,e,n,i){return t instanceof yl?function(s,a,l,u){if(!xu(s.precondition,a))return l;const c=s.value.clone(),f=Gv(s.fieldTransforms,u,a);return c.setAll(f),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof hr?function(s,a,l,u){if(!xu(s.precondition,a))return l;const c=Gv(s.fieldTransforms,u,a),f=a.data;return f.setAll(EA(s)),f.setAll(c),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,i):function(s,a,l){return xu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function T3(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=pA(i.transform,r||null);s!=null&&(n===null&&(n=Rt.empty()),n.set(i.field,s))}return n||null}function qv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ws(i,r,(s,a)=>_3(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yl extends lh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class hr extends lh{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function EA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Hv(t,e,n){const i=new Map;fe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,g3(a,l,n[r]))}return i}function Gv(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,p3(s,a,e))}return i}class Fp extends lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b3 extends lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&E3(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=So(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=So(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=dA();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=vA(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(n,i)=>qv(n,i))&&Ws(this.baseMutations,e.baseMutations,(n,i)=>qv(n,i))}}class qp{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){fe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return c3}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new qp(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,ue;function R3(t){switch(t){case L.OK:return K(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return K(15467,{code:t})}}function TA(t){if(t===void 0)return oi("GRPC error has no .code"),L.UNKNOWN;switch(t){case je.OK:return L.OK;case je.CANCELLED:return L.CANCELLED;case je.UNKNOWN:return L.UNKNOWN;case je.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case je.INTERNAL:return L.INTERNAL;case je.UNAVAILABLE:return L.UNAVAILABLE;case je.UNAUTHENTICATED:return L.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case je.NOT_FOUND:return L.NOT_FOUND;case je.ALREADY_EXISTS:return L.ALREADY_EXISTS;case je.PERMISSION_DENIED:return L.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case je.ABORTED:return L.ABORTED;case je.OUT_OF_RANGE:return L.OUT_OF_RANGE;case je.UNIMPLEMENTED:return L.UNIMPLEMENTED;case je.DATA_LOSS:return L.DATA_LOSS;default:return K(39323,{code:t})}}(ue=je||(je={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=new $i([4294967295,4294967295],0);function Qv(t){const e=C3().encode(t),n=new L1;return n.update(e),new Uint8Array(n.digest())}function Kv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $i([n,i],0),new $i([r,s],0)]}class Hp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new no(`Invalid padding: ${n}`);if(i<0)throw new no(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new no(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$i.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply($i.fromNumber(i)));return r.compare(x3)===1&&(r=new $i([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Qv(e),[i,r]=Kv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Hp(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=Qv(e),[i,r]=Kv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,_l.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new uh($.min(),r,new Ne(se),li(),ae())}}class _l{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new _l(i,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,i,r){this.be=e,this.removedTargetIds=n,this.key=i,this.De=r}}class bA{constructor(e,n){this.targetId=e,this.Ce=n}}class AA{constructor(e,n,i=ut.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Yv{constructor(){this.ve=0,this.Fe=$v(),this.Me=ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ae(),n=ae(),i=ae();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:K(38017,{changeType:s})}}),new _l(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=$v()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class I3{constructor(e){this.Ge=e,this.ze=new Map,this.je=li(),this.Je=nu(),this.He=nu(),this.Ye=new Ne(se)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:K(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const s=r.target;if(Wd(s))if(i===0){const a=new G(s.path);this.et(n,a,mt.newNoDocument(a,$.min()))}else fe(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=ir(i).toUint8Array()}catch(u){if(u instanceof Y1)return Js("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Hp(a,r,s)}catch(u){return Js(u instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&Wd(l.target)){const u=new G(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,mt.newNoDocument(u,e))}s.Be&&(n.set(a,s.ke()),s.qe())}});let i=ae();this.He.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const r=new uh(e,n,this.Ye,this.je,i);return this.je=li(),this.Je=nu(),this.He=nu(),this.Ye=new Ne(se),r}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Yv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ye(se),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ye(se),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nu(){return new Ne(G.comparator)}function $v(){return new Ne(G.comparator)}const N3={asc:"ASCENDING",desc:"DESCENDING"},D3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O3={and:"AND",or:"OR"};class M3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tm(t,e){return t.useProto3Json||ih(e)?e:{value:e}}function bc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function V3(t,e){return bc(t,e.toTimestamp())}function Sn(t){return fe(!!t,49232),$.fromTimestamp(function(n){const i=nr(n);return new we(i.seconds,i.nanos)}(t))}function Gp(t,e){return nm(t,e).canonicalString()}function nm(t,e){const n=function(r){return new Ee(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wA(t){const e=Ee.fromString(t);return fe(NA(e),10190,{key:e.toString()}),e}function im(t,e){return Gp(t.databaseId,e.path)}function kf(t,e){const n=wA(e);if(n.get(1)!==t.databaseId.projectId)throw new B(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(CA(n))}function RA(t,e){return Gp(t.databaseId,e)}function P3(t){const e=wA(t);return e.length===4?Ee.emptyPath():CA(e)}function rm(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CA(t){return fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Xv(t,e,n){return{name:im(t,e),fields:n.value.mapValue.fields}}function L3(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:K(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(fe(f===void 0||typeof f=="string",58123),ut.fromBase64String(f||"")):(fe(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ut.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(c){const f=c.code===void 0?L.UNKNOWN:TA(c.code);return new B(f,c.message||"")}(a);n=new AA(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=kf(t,i.document.name),s=Sn(i.document.updateTime),a=i.document.createTime?Sn(i.document.createTime):$.min(),l=new Rt({mapValue:{fields:i.document.fields}}),u=mt.newFoundDocument(r,s,a,l),c=i.targetIds||[],f=i.removedTargetIds||[];n=new Iu(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=kf(t,i.document),s=i.readTime?Sn(i.readTime):$.min(),a=mt.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Iu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=kf(t,i.document),s=i.removedTargetIds||[];n=new Iu([],s,r,null)}else{if(!("filter"in e))return K(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new w3(r,s),l=i.targetId;n=new bA(l,a)}}return n}function k3(t,e){let n;if(e instanceof yl)n={update:Xv(t,e.key,e.value)};else if(e instanceof Fp)n={delete:im(t,e.key)};else if(e instanceof hr)n={update:Xv(t,e.key,e.data),updateMask:Q3(e.fieldMask)};else{if(!(e instanceof b3))return K(16599,{Vt:e.type});n={verify:im(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Qo)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ko)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Yo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Tc)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw K(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:V3(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K(27497)}(t,e.precondition)),n}function U3(t,e){return t&&t.length>0?(fe(e!==void 0,14353),t.map(n=>function(r,s){let a=r.updateTime?Sn(r.updateTime):Sn(s);return a.isEqual($.min())&&(a=Sn(s)),new v3(a,r.transformResults||[])}(n,e))):[]}function j3(t,e){return{documents:[RA(t,e.path)]}}function z3(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=RA(t,r);const s=function(c){if(c.length!==0)return IA(fn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(f=>function(p){return{field:fs(p.field),direction:q3(p.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=tm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:r}}function B3(t){let e=P3(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){fe(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const p=xA(m);return p instanceof fn&&rA(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(p=>function(x){return new Ec(ds(x.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(m){let p;return p=typeof m=="object"?m.value:m,ih(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,y=m.values||[];return new vc(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const p=!m.before,y=m.values||[];return new vc(y,p)}(n.endAt)),s3(e,r,a,s,l,"F",u,c)}function F3(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ds(n.unaryFilter.field);return qe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ds(n.unaryFilter.field);return qe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ds(n.unaryFilter.field);return qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ds(n.unaryFilter.field);return qe.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}}(t):t.fieldFilter!==void 0?function(n){return qe.create(ds(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fn.create(n.compositeFilter.filters.map(i=>xA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return K(1026)}}(n.compositeFilter.op))}(t):K(30097,{filter:t})}function q3(t){return N3[t]}function H3(t){return D3[t]}function G3(t){return O3[t]}function fs(t){return{fieldPath:t.canonicalString()}}function ds(t){return at.fromServerFormat(t.fieldPath)}function IA(t){return t instanceof qe?function(n){if(n.op==="=="){if(kv(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NAN"}};if(Lv(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kv(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NOT_NAN"}};if(Lv(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(n.field),op:H3(n.op),value:n.value}}}(t):t instanceof fn?function(n){const i=n.getFilters().map(r=>IA(r));return i.length===1?i[0]:{compositeFilter:{op:G3(n.op),filters:i}}}(t):K(54877,{filter:t})}function Q3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,i,r,s=$.min(),a=$.min(),l=ut.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.yt=e}}function Y3(t){const e=B3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.Cn=new X3}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(tr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(tr.min())}updateCollectionGroup(e,n,i){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class X3{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ye(Ee.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ye(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DA=41943040;class wt{static withCacheSize(e){return new wt(e,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wt.DEFAULT_COLLECTION_PERCENTILE=10,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wt.DEFAULT=new wt(DA,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wt.DISABLED=new wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ta(0)}static cr(){return new ta(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="LruGarbageCollector",J3=1048576;function Zv([t,e],[n,i]){const r=se(t,n);return r===0?se(e,i):r}class W3{constructor(e){this.Ir=e,this.buffer=new Ye(Zv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Zv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Z3{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){q(Wv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){va(n)?q(Wv,"Ignoring IndexedDB error during garbage collection: ",n):await _a(n)}await this.Vr(3e5)})}}class eO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return U.resolve(nh.ce);const i=new W3(n);return this.mr.forEachTarget(e,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(Jv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,r,s,a,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,a=Date.now(),this.nthSequenceNumber(e,r))).next(m=>(i=m,l=Date.now(),this.removeTargets(e,i,n))).next(m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(m=>(c=Date.now(),cs()<=re.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:m})))}}function tO(t,e){return new eO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.changes=new Wr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&So(i.mutation,r,Lt.empty(),we.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ae()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ae()){const r=Cr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=to();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Cr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ae()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let s=li();const a=Ao(),l=function(){return Ao()}();return n.forEach((u,c)=>{const f=i.get(c.key);r.has(c.key)&&(f===void 0||f.mutation instanceof hr)?s=s.insert(c.key,c):f!==void 0?(a.set(c.key,f.mutation.getFieldMask()),So(f.mutation,c,f.mutation.getFieldMask(),we.now())):a.set(c.key,Lt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>a.set(c,f)),n.forEach((c,f)=>l.set(c,new iO(f,a.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const i=Ao();let r=new Ne((a,l)=>a-l),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||Lt.empty();f=l.applyToLocalView(c,f),i.set(u,f);const m=(r.get(l.batchId)||ae()).add(u);r=r.insert(l.batchId,m)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,m=dA();f.forEach(p=>{if(!s.has(p)){const y=vA(n.get(p),i.get(p));y!==null&&m.set(p,y),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,m))}return U.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return G.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):U.resolve(Cr());let l=Fo,u=s;return a.next(c=>U.forEach(c,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ae())).next(f=>({batchId:l,changes:fA(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=to();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let a=to();return this.indexManager.getCollectionParents(e,s).next(l=>U.forEach(l,u=>{const c=function(m,p){return new gl(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(f=>{f.forEach((m,p)=>{a=a.insert(m,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(a=>{s.forEach((u,c)=>{const f=c.getKey();a.get(f)===null&&(a=a.insert(f,mt.newInvalidDocument(f)))});let l=to();return a.forEach((u,c)=>{const f=s.get(u);f!==void 0&&So(f.mutation,c,Lt.empty(),we.now()),ah(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Sn(r.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:Y3(r.bundledQuery),readTime:Sn(r.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.overlays=new Ne(G.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Cr();return U.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.St(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(i)),U.resolve()}getOverlaysForCollection(e,n,i){const r=Cr(),s=n.length+1,a=new G(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return U.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ne((c,f)=>c-f);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=s.get(c.largestBatchId);f===null&&(f=Cr(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Cr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=r)););return U.resolve(l)}St(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new S3(n,i));let s=this.qr.get(n);s===void 0&&(s=ae(),this.qr.set(n,s)),this.qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.Qr=new Ye(We.$r),this.Ur=new Ye(We.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new We(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new We(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new G(new Ee([])),i=new We(n,e),r=new We(n,e+1),s=[];return this.Ur.forEachInRange([i,r],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new G(new Ee([])),i=new We(n,e),r=new We(n,e+1);let s=ae();return this.Ur.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new We(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class We{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return G.comparator(e.key,n.key)||se(e.Yr,n.Yr)}static Kr(e,n){return se(e.Yr,n.Yr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(We.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new A3(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Zr=this.Zr.add(new We(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ei(i),s=r<0?0:r;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Pp:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new We(n,0),r=new We(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([i,r],a=>{const l=this.Xr(a.Yr);s.push(l)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ye(se);return n.forEach(r=>{const s=new We(r,0),a=new We(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],l=>{i=i.add(l.Yr)})}),U.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const a=new We(new G(s),0);let l=new Ye(se);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(l=l.add(u.Yr)),!0)},a),U.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(i=>{const r=this.Xr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return U.forEach(n.mutations,r=>{const s=new We(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new We(n,0),r=this.Zr.firstAfterOrEqual(i);return U.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.ri=e,this.docs=function(){return new Ne(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let i=li();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():mt.newInvalidDocument(r))}),U.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=li();const a=n.path,l=new G(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||k4(L4(f),i)<=0||(r.has(f.key)||ah(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,i,r){K(9500)}ii(e,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new cO(this)}getSize(e){return U.resolve(this.size)}}class cO extends nO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.persistence=e,this.si=new Wr(n=>Up(n),jp),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.oi=0,this._i=new Qp,this.targetCount=0,this.ai=ta.ur()}forEachTarget(e,n){return this.si.forEach((i,r)=>n(r)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ta(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),U.waitFor(s).next(()=>r)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return U.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),U.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return U.resolve(i)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n){this.ui={},this.overlays={},this.ci=new nh(0),this.li=!1,this.li=!0,this.hi=new oO,this.referenceDelegate=e(this),this.Pi=new hO(this),this.indexManager=new $3,this.remoteDocumentCache=function(r){return new uO(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new K3(n),this.Ii=new sO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new lO(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){q("MemoryPersistence","Starting transaction:",e);const r=new fO(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ai(e,n){return U.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class fO extends j4{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Ri=new Qp,this.Vi=null}static mi(e){return new Kp(e)}get fi(){if(this.Vi)return this.Vi;throw K(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),U.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.fi.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,i=>{const r=G.fromPath(i);return this.gi(e,r).next(s=>{s||n.removeEntry(r,$.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ac{constructor(e,n){this.persistence=e,this.pi=new Wr(i=>F4(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=tO(this,n)}static mi(e,n){return new Ac(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(i,r)=>this.br(e,i,r).next(s=>s?U.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,a=>this.br(e,a,n).next(l=>{l||(i++,s.removeEntry(a,$.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),U.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ru(e.data.value)),n}br(e,n,i){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return U.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=r}static As(e,n){let i=ae(),r=ae();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Yp(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Ux()?8:z4(pt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new dO;return this.Ss(e,n,a).next(l=>{if(s.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>s.result)}bs(e,n,i,r){return i.documentReadCount<this.fs?(cs()<=re.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",hs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(cs()<=re.DEBUG&&q("QueryEngine","Query:",hs(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(cs()<=re.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",hs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(n))):U.resolve())}ys(e,n){if(Bv(n))return U.resolve(null);let i=An(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=em(n,null,"F"),i=An(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=ae(...s);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.Ds(n,l);return this.Cs(n,c,a,u.readTime)?this.ys(e,em(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,i,r){return Bv(n)||r.isEqual($.min())?U.resolve(null):this.ps.getDocuments(e,i).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,i,r)?U.resolve(null):(cs()<=re.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hs(n)),this.vs(e,a,n,P4(r,Fo)).next(l=>l))})}Ds(e,n){let i=new Ye(cA(e));return n.forEach((r,s)=>{ah(e,s)&&(i=i.add(s))}),i}Cs(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,n,i){return cs()<=re.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",hs(n)),this.ps.getDocumentsMatchingQuery(e,n,tr.min(),i)}vs(e,n,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="LocalStore",pO=3e8;class gO{constructor(e,n,i,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Ne(se),this.xs=new Wr(s=>Up(s),jp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function yO(t,e,n,i){return new gO(t,e,n,i)}async function MA(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=ae();for(const c of r){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:l}))})})}function _O(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const m=c.batch,p=m.keys();let y=U.resolve();return p.forEach(x=>{y=y.next(()=>f.getEntry(u,x)).next(O=>{const N=c.docVersions.get(x);fe(N!==null,48541),O.version.compareTo(N)<0&&(m.applyToRemoteDocument(O,c),O.isValidDocument()&&(O.setReadTime(c.commitVersion),f.addEntry(O)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ae();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function VA(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function vO(t,e){const n=X(t),i=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((f,m)=>{const p=r.get(m);if(!p)return;l.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(s,f.addedDocuments,m)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(ut.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,i)),r=r.insert(m,y),function(O,N,T){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=pO?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,y,f)&&l.push(n.Pi.updateTargetData(s,y))});let u=li(),c=ae();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(EO(s,a,e.documentUpdates).next(f=>{u=f.ks,c=f.qs})),!i.isEqual($.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next(m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return U.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ms=r,s))}function EO(t,e,n){let i=ae(),r=ae();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=li();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual($.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):q($p,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{ks:a,qs:r}})}function TO(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function bO(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Pi.getTargetData(i,e).next(s=>s?(r=s,U.resolve(r)):n.Pi.allocateTargetId(i).next(a=>(r=new Li(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function sm(t,e,n){const i=X(t),r=i.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!va(a))throw a;q($p,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function eE(t,e,n){const i=X(t);let r=$.min(),s=ae();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,f){const m=X(u),p=m.xs.get(f);return p!==void 0?U.resolve(m.Ms.get(p)):m.Pi.getTargetData(c,f)}(i,a,An(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Fs.getDocumentsMatchingQuery(a,e,n?r:$.min(),n?s:ae())).next(l=>(AO(i,o3(e),l),{documents:l,Qs:s})))}function AO(t,e,n){let i=t.Os.get(e)||$.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Os.set(e,i)}class tE{constructor(){this.activeTargetIds=d3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SO{constructor(){this.Mo=new tE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="ConnectivityMonitor";class iE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(nE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){q(nE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu=null;function am(){return iu===null?iu=function(){return 268435456+Math.round(2147483648*Math.random())}():iu++,"0x"+iu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="RestConnection",RO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===yc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,n,i,r,s){const a=am(),l=this.zo(e,n.toUriEncodedString());q(Uf,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,s);const{host:c}=new URL(l),f=ma(c);return this.Jo(e,l,u,i,f).then(m=>(q(Uf,`Received RPC '${e}' ${a}: `,m),m),m=>{throw Js(Uf,`RPC '${e}' ${a} failed with error: `,m,"url: ",l,"request:",i),m})}Ho(e,n,i,r,s,a){return this.Go(e,n,i,r,s)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}zo(e,n){const i=RO[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="WebChannelConnection";class IO extends CO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,r,s){const a=am();return new Promise((l,u)=>{const c=new k1;c.setWithCredentials(!0),c.listenOnce(U1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case wu.NO_ERROR:const m=c.getResponseJson();q(ft,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case wu.TIMEOUT:q(ft,`RPC '${e}' ${a} timed out`),u(new B(L.DEADLINE_EXCEEDED,"Request time out"));break;case wu.HTTP_ERROR:const p=c.getStatus();if(q(ft,`RPC '${e}' ${a} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y==null?void 0:y.error;if(x&&x.status&&x.message){const O=function(T){const v=T.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(v)>=0?v:L.UNKNOWN}(x.status);u(new B(O,x.message))}else u(new B(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new B(L.UNAVAILABLE,"Connection failed."));break;default:K(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{q(ft,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);q(ft,`RPC '${e}' ${a} sending request:`,r),c.send(n,"POST",f,i,15)})}T_(e,n,i){const r=am(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=B1(),l=z1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=s.join("");q(ft,`Creating RPC '${e}' stream ${r}: ${f}`,u);const m=a.createWebChannel(f,u);this.I_(m);let p=!1,y=!1;const x=new xO({Yo:N=>{y?q(ft,`Not sending because RPC '${e}' stream ${r} is closed:`,N):(p||(q(ft,`Opening RPC '${e}' stream ${r} transport.`),m.open(),p=!0),q(ft,`RPC '${e}' stream ${r} sending:`,N),m.send(N))},Zo:()=>m.close()}),O=(N,T,v)=>{N.listen(T,E=>{try{v(E)}catch(I){setTimeout(()=>{throw I},0)}})};return O(m,eo.EventType.OPEN,()=>{y||(q(ft,`RPC '${e}' stream ${r} transport opened.`),x.o_())}),O(m,eo.EventType.CLOSE,()=>{y||(y=!0,q(ft,`RPC '${e}' stream ${r} transport closed`),x.a_(),this.E_(m))}),O(m,eo.EventType.ERROR,N=>{y||(y=!0,Js(ft,`RPC '${e}' stream ${r} transport errored. Name:`,N.name,"Message:",N.message),x.a_(new B(L.UNAVAILABLE,"The operation could not be completed")))}),O(m,eo.EventType.MESSAGE,N=>{var T;if(!y){const v=N.data[0];fe(!!v,16349);const E=v,I=(E==null?void 0:E.error)||((T=E[0])==null?void 0:T.error);if(I){q(ft,`RPC '${e}' stream ${r} received error:`,I);const j=I.status;let H=function(A){const w=je[A];if(w!==void 0)return TA(w)}(j),S=I.message;H===void 0&&(H=L.INTERNAL,S="Unknown error status: "+j+" with message "+I.message),y=!0,x.a_(new B(H,S)),m.close()}else q(ft,`RPC '${e}' stream ${r} received:`,v),x.u_(v)}}),O(l,j1.STAT_EVENT,N=>{N.stat===Kd.PROXY?q(ft,`RPC '${e}' stream ${r} detected buffering proxy`):N.stat===Kd.NOPROXY&&q(ft,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t){return new M3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="PersistentStream";class LA{constructor(e,n,i,r,s,a,l,u){this.Mi=e,this.S_=i,this.b_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(oi(n.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new B(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(rE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(q(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NO extends LA{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=L3(this.serializer,e),i=function(s){if(!("targetChange"in s))return $.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?$.min():a.readTime?Sn(a.readTime):$.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=rm(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Wd(u)?{documents:j3(s,u)}:{query:z3(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=SA(s,a.resumeToken);const c=tm(s,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo($.min())>0){l.readTime=bc(s,a.snapshotVersion.toTimestamp());const c=tm(s,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const i=F3(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=rm(this.serializer),n.removeTarget=e,this.q_(n)}}class DO extends LA{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=U3(e.writeResults,e.commitTime),i=Sn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=rm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>k3(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{}class MO extends OO{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new B(L.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,nm(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(L.UNKNOWN,s.toString())})}Ho(e,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,nm(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new B(L.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class VO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(oi(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="RemoteStore";class PO{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{i.enqueueAndForget(async()=>{Zr(this)&&(q(Qr,"Restarting streams for network reachability change."),await async function(u){const c=X(u);c.Ea.add(4),await vl(c),c.Ra.set("Unknown"),c.Ea.delete(4),await hh(c)}(this))})}),this.Ra=new VO(i,r)}}async function hh(t){if(Zr(t))for(const e of t.da)await e(!0)}async function vl(t){for(const e of t.da)await e(!1)}function kA(t,e){const n=X(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zp(n)?Wp(n):Ea(n).O_()&&Jp(n,e))}function Xp(t,e){const n=X(t),i=Ea(n);n.Ia.delete(e),i.O_()&&UA(n,e),n.Ia.size===0&&(i.O_()?i.L_():Zr(n)&&n.Ra.set("Unknown"))}function Jp(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ea(t).Y_(e)}function UA(t,e){t.Va.Ue(e),Ea(t).Z_(e)}function Wp(t){t.Va=new I3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ea(t).start(),t.Ra.ua()}function Zp(t){return Zr(t)&&!Ea(t).x_()&&t.Ia.size>0}function Zr(t){return X(t).Ea.size===0}function jA(t){t.Va=void 0}async function LO(t){t.Ra.set("Online")}async function kO(t){t.Ia.forEach((e,n)=>{Jp(t,e)})}async function UO(t,e){jA(t),Zp(t)?(t.Ra.ha(e),Wp(t)):t.Ra.set("Unknown")}async function jO(t,e,n){if(t.Ra.set("Online"),e instanceof AA&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(i){q(Qr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Sc(t,i)}else if(e instanceof Iu?t.Va.Ze(e):e instanceof bA?t.Va.st(e):t.Va.tt(e),!n.isEqual($.min()))try{const i=await VA(t.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(c);f&&s.Ia.set(c,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(ut.EMPTY_BYTE_STRING,f.snapshotVersion)),UA(s,u);const m=new Li(f.target,u,c,f.sequenceNumber);Jp(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){q(Qr,"Failed to raise snapshot:",i),await Sc(t,i)}}async function Sc(t,e,n){if(!va(e))throw e;t.Ea.add(1),await vl(t),t.Ra.set("Offline"),n||(n=()=>VA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(Qr,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await hh(t)})}function zA(t,e){return e().catch(n=>Sc(t,n,e))}async function fh(t){const e=X(t),n=sr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pp;for(;zO(e);)try{const r=await TO(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,BO(e,r)}catch(r){await Sc(e,r)}BA(e)&&FA(e)}function zO(t){return Zr(t)&&t.Ta.length<10}function BO(t,e){t.Ta.push(e);const n=sr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function BA(t){return Zr(t)&&!sr(t).x_()&&t.Ta.length>0}function FA(t){sr(t).start()}async function FO(t){sr(t).ra()}async function qO(t){const e=sr(t);for(const n of t.Ta)e.ea(n.mutations)}async function HO(t,e,n){const i=t.Ta.shift(),r=qp.from(i,e,n);await zA(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await fh(t)}async function GO(t,e){e&&sr(t).X_&&await async function(i,r){if(function(a){return R3(a)&&a!==L.ABORTED}(r.code)){const s=i.Ta.shift();sr(i).B_(),await zA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await fh(i)}}(t,e),BA(t)&&FA(t)}async function sE(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),q(Qr,"RemoteStore received new credentials");const i=Zr(n);n.Ea.add(3),await vl(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hh(n)}async function QO(t,e){const n=X(t);e?(n.Ea.delete(2),await hh(n)):e||(n.Ea.add(2),await vl(n),n.Ra.set("Unknown"))}function Ea(t){return t.ma||(t.ma=function(n,i,r){const s=X(n);return s.sa(),new NO(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Xo:LO.bind(null,t),t_:kO.bind(null,t),r_:UO.bind(null,t),H_:jO.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Zp(t)?Wp(t):t.Ra.set("Unknown")):(await t.ma.stop(),jA(t))})),t.ma}function sr(t){return t.fa||(t.fa=function(n,i,r){const s=X(n);return s.sa(),new DO(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:FO.bind(null,t),r_:GO.bind(null,t),ta:qO.bind(null,t),na:HO.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await fh(t)):(await t.fa.stop(),t.Ta.length>0&&(q(Qr,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,l=new eg(e,n,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(t,e){if(oi("AsyncQueue",`${e}: ${t}`),va(t))return new B(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{static emptySet(e){return new Ls(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=to(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ls)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ls;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.ga=new Ne(G.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):K(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class na{constructor(e,n,i,r,s,a,l,u,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new na(e,n,Ls.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class YO{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=X(n),s=r.queries;r.queries=oE(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new B(L.ABORTED,"Firestore shutting down"))}}function oE(){return new Wr(t=>uA(t),sh)}async function qA(t,e){const n=X(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.ba()&&e.Da()&&(i=2):(s=new KO,i=e.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=tg(a,`Initialization of query '${hs(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&ng(n)}async function HA(t,e){const n=X(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=e.Da()?0:1:!s.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function $O(t,e){const n=X(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Fa(r)&&(i=!0);a.wa=r}}i&&ng(n)}function XO(t,e,n){const i=X(t),r=i.queries.get(e);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(e)}function ng(t){t.Ca.forEach(e=>{e.next()})}var om,lE;(lE=om||(om={})).Ma="default",lE.Cache="cache";class GA{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new na(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.key=e}}class KA{constructor(e){this.key=e}}class JO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ae(),this.mutatedKeys=ae(),this.eu=cA(e),this.tu=new Ls(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new aE,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,m)=>{const p=r.get(f),y=ah(this.query,m)?m:null,x=!!p&&this.mutatedKeys.has(p.key),O=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let N=!1;p&&y?p.data.isEqual(y.data)?x!==O&&(i.track({type:3,doc:y}),N=!0):this.su(p,y)||(i.track({type:2,doc:y}),N=!0,(u&&this.eu(y,u)>0||c&&this.eu(y,c)<0)&&(l=!0)):!p&&y?(i.track({type:0,doc:y}),N=!0):p&&!y&&(i.track({type:1,doc:p}),N=!0,(u||c)&&(l=!0)),N&&(y?(a=a.add(y),s=O?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{tu:a,iu:i,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,m)=>function(y,x){const O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{Rt:N})}};return O(y)-O(x)}(f.type,m.type)||this.eu(f.doc,m.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,c=u!==this.Za;return this.Za=u,a.length!==0||c?{snapshot:new na(this.query,e.tu,s,a,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ae(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new KA(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new QA(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return na.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ig="SyncEngine";class WO{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class ZO{constructor(e){this.key=e,this.hu=!1}}class e6{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Wr(l=>uA(l),sh),this.Iu=new Map,this.Eu=new Set,this.du=new Ne(G.comparator),this.Au=new Map,this.Ru=new Qp,this.Vu={},this.mu=new Map,this.fu=ta.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function t6(t,e,n=!0){const i=ZA(t);let r;const s=i.Tu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await YA(i,e,n,!0),r}async function n6(t,e){const n=ZA(t);await YA(n,e,!0,!1)}async function YA(t,e,n,i){const r=await bO(t.localStore,An(e)),s=r.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await i6(t,e,s,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&kA(t.remoteStore,r),l}async function i6(t,e,n,i,r){t.pu=(m,p,y)=>async function(O,N,T,v){let E=N.view.ru(T);E.Cs&&(E=await eE(O.localStore,N.query,!1).then(({documents:S})=>N.view.ru(S,E)));const I=v&&v.targetChanges.get(N.targetId),j=v&&v.targetMismatches.get(N.targetId)!=null,H=N.view.applyChanges(E,O.isPrimaryClient,I,j);return cE(O,N.targetId,H.au),H.snapshot}(t,m,p,y);const s=await eE(t.localStore,e,!0),a=new JO(e,s.Qs),l=a.ru(s.documents),u=_l.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=a.applyChanges(l,t.isPrimaryClient,u);cE(t,n,c.au);const f=new WO(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function r6(t,e,n){const i=X(t),r=i.Tu.get(e),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!sh(a,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await sm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Xp(i.remoteStore,r.targetId),lm(i,r.targetId)}).catch(_a)):(lm(i,r.targetId),await sm(i.localStore,r.targetId,!0))}async function s6(t,e){const n=X(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Xp(n.remoteStore,i.targetId))}async function a6(t,e,n){const i=d6(t);try{const r=await function(a,l){const u=X(a),c=we.now(),f=l.reduce((y,x)=>y.add(x.key),ae());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=li(),O=ae();return u.Ns.getEntries(y,f).next(N=>{x=N,x.forEach((T,v)=>{v.isValidDocument()||(O=O.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,x)).next(N=>{m=N;const T=[];for(const v of l){const E=T3(v,m.get(v.key).overlayedDocument);E!=null&&T.push(new hr(v.key,E,tA(E.value.mapValue),en.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,T,l)}).next(N=>{p=N;const T=N.applyToLocalDocumentSet(m,O);return u.documentOverlayCache.saveOverlays(y,N.batchId,T)})}).then(()=>({batchId:p.batchId,changes:fA(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let c=a.Vu[a.currentUser.toKey()];c||(c=new Ne(se)),c=c.insert(l,u),a.Vu[a.currentUser.toKey()]=c}(i,r.batchId,n),await El(i,r.changes),await fh(i.remoteStore)}catch(r){const s=tg(r,"Failed to persist write");n.reject(s)}}async function $A(t,e){const n=X(t);try{const i=await vO(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(fe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?fe(a.hu,14607):r.removedDocuments.size>0&&(fe(a.hu,42227),a.hu=!1))}),await El(n,i,e)}catch(i){await _a(i)}}function uE(t,e,n){const i=X(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=X(a);u.onlineState=l;let c=!1;u.queries.forEach((f,m)=>{for(const p of m.Sa)p.va(l)&&(c=!0)}),c&&ng(u)}(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function o6(t,e,n){const i=X(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),s=r&&r.key;if(s){let a=new Ne(G.comparator);a=a.insert(s,mt.newNoDocument(s,$.min()));const l=ae().add(s),u=new uh($.min(),new Map,new Ne(se),a,l);await $A(i,u),i.du=i.du.remove(s),i.Au.delete(e),rg(i)}else await sm(i.localStore,e,!1).then(()=>lm(i,e,n)).catch(_a)}async function l6(t,e){const n=X(t),i=e.batch.batchId;try{const r=await _O(n.localStore,e);JA(n,i,null),XA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await El(n,r)}catch(r){await _a(r)}}async function u6(t,e,n){const i=X(t);try{const r=await function(a,l){const u=X(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(m=>(fe(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(i.localStore,e);JA(i,e,n),XA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await El(i,r)}catch(r){await _a(r)}}function XA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function JA(t,e,n){const i=X(t);let r=i.Vu[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function lm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||WA(t,i)})}function WA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Xp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),rg(t))}function cE(t,e,n){for(const i of n)i instanceof QA?(t.Ru.addReference(i.key,e),c6(t,i)):i instanceof KA?(q(ig,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||WA(t,i.key)):K(19791,{wu:i})}function c6(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(q(ig,"New document in limbo: "+n),t.Eu.add(i),rg(t))}function rg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(Ee.fromString(e)),i=t.fu.next();t.Au.set(i,new ZO(n)),t.du=t.du.insert(n,i),kA(t.remoteStore,new Li(An(zp(n.path)),i,"TargetPurposeLimboResolution",nh.ce))}}async function El(t,e,n){const i=X(t),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,e,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const m=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){r.push(c);const m=Yp.As(u.targetId,c);s.push(m)}}))}),await Promise.all(a),i.Pu.H_(r),await async function(u,c){const f=X(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>U.forEach(c,p=>U.forEach(p.Es,y=>f.persistence.referenceDelegate.addReference(m,p.targetId,y)).next(()=>U.forEach(p.ds,y=>f.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))}catch(m){if(!va(m))throw m;q($p,"Failed to update sequence numbers: "+m)}for(const m of c){const p=m.targetId;if(!m.fromCache){const y=f.Ms.get(p),x=y.snapshotVersion,O=y.withLastLimboFreeSnapshotVersion(x);f.Ms=f.Ms.insert(p,O)}}}(i.localStore,s))}async function h6(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){q(ig,"User change. New user:",e.toKey());const i=await MA(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new B(L.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await El(n,i.Ls)}}function f6(t,e){const n=X(t),i=n.Au.get(e);if(i&&i.hu)return ae().add(i.key);{let r=ae();const s=n.Iu.get(e);if(!s)return r;for(const a of s){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function ZA(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$A.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o6.bind(null,e),e.Pu.H_=$O.bind(null,e.eventManager),e.Pu.yu=XO.bind(null,e.eventManager),e}function d6(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u6.bind(null,e),e}class wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return yO(this.persistence,new mO,e.initialUser,this.serializer)}Cu(e){return new OA(Kp.mi,this.serializer)}Du(e){return new SO}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wc.provider={build:()=>new wc};class m6 extends wc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){fe(this.persistence.referenceDelegate instanceof Ac,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Z3(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wt.withCacheSize(this.cacheSizeBytes):wt.DEFAULT;return new OA(i=>Ac.mi(i,n),this.serializer)}}class um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=h6.bind(null,this.syncEngine),await QO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YO}()}createDatastore(e){const n=ch(e.databaseInfo.databaseId),i=function(s){return new IO(s)}(e.databaseInfo);return function(s,a,l,u){return new MO(s,a,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,a,l){return new PO(i,r,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>uE(this.syncEngine,n,0),function(){return iE.v()?new iE:new wO}())}createSyncEngine(e,n){return function(r,s,a,l,u,c,f){const m=new e6(r,s,a,l,u,c);return f&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=X(r);q(Qr,"RemoteStore shutting down."),s.Ea.add(5),await vl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}um.provider={build:()=>new um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="FirestoreClient";class p6{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=dt.UNAUTHENTICATED,this.clientId=Vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{q(ar,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(q(ar,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=tg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function zf(t,e){t.asyncQueue.verifyOperationInProgress(),q(ar,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await MA(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await g6(t);q(ar,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>sE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>sE(e.remoteStore,r)),t._onlineComponents=e}async function g6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(ar,"Using user provided OfflineComponentProvider");try{await zf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===L.FAILED_PRECONDITION||r.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Js("Error using user provided cache. Falling back to memory cache: "+n),await zf(t,new wc)}}else q(ar,"Using default OfflineComponentProvider"),await zf(t,new m6(void 0));return t._offlineComponents}async function tS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(ar,"Using user provided OnlineComponentProvider"),await hE(t,t._uninitializedComponentsProvider._online)):(q(ar,"Using default OnlineComponentProvider"),await hE(t,new um))),t._onlineComponents}function y6(t){return tS(t).then(e=>e.syncEngine)}async function nS(t){const e=await tS(t),n=e.eventManager;return n.onListen=t6.bind(null,e.syncEngine),n.onUnlisten=r6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=s6.bind(null,e.syncEngine),n}function _6(t,e,n={}){const i=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,c){const f=new eS({next:p=>{f.Nu(),a.enqueueAndForget(()=>HA(s,m));const y=p.docs.has(l);!y&&p.fromCache?c.reject(new B(L.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&u&&u.source==="server"?c.reject(new B(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new GA(zp(l.path),f,{includeMetadataChanges:!0,qa:!0});return qA(s,m)}(await nS(t),t.asyncQueue,e,n,i)),i.promise}function v6(t,e,n={}){const i=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,c){const f=new eS({next:p=>{f.Nu(),a.enqueueAndForget(()=>HA(s,m)),p.fromCache&&u.source==="server"?c.reject(new B(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new GA(l,f,{includeMetadataChanges:!0,qa:!0});return qA(s,m)}(await nS(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="firestore.googleapis.com",dE=!0;class mE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new B(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rS,this.ssl=dE}else this.host=e.host,this.ssl=e.ssl??dE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<J3)throw new B(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iS(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new B(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new B(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new B(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dh{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new S4;switch(i.type){case"firstParty":return new x4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new B(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=fE.get(n);i&&(q("ComponentProvider","Removing Datastore"),fE.delete(n),i.terminate())}(this),Promise.resolve()}}function E6(t,e,n,i={}){var c;t=hn(t,dh);const r=ma(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(Yb(`https://${l}`),$b("Firestore",!0)),s.host!==rS&&s.host!==l&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:r,emulatorOptions:i};if(!Br(u,a)&&(t._setSettings(u),i.mockUserToken)){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=dt.MOCK_USER;else{f=Ix(i.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new B(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new dt(p)}t._authCredentials=new w4(new q1(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ta(this.firestore,e,this._query)}}class Le{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Le(this.firestore,e,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(pl(n,Le._jsonSchema))return new Le(e,i||null,new G(Ee.fromString(n.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Ge("string",Le._jsonSchemaVersion),referencePath:Ge("string")};class Xi extends Ta{constructor(e,n,i){super(e,n,zp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Le(this.firestore,null,new G(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function cm(t,e,...n){if(t=Xe(t),H1("collection","path",e),t instanceof dh){const i=Ee.fromString(e,...n);return Cv(i),new Xi(t,null,i)}{if(!(t instanceof Le||t instanceof Xi))throw new B(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ee.fromString(e,...n));return Cv(i),new Xi(t.firestore,null,i)}}function xr(t,e,...n){if(t=Xe(t),arguments.length===1&&(e=Vp.newId()),H1("doc","path",e),t instanceof dh){const i=Ee.fromString(e,...n);return Rv(i),new Le(t,null,new G(i))}{if(!(t instanceof Le||t instanceof Xi))throw new B(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ee.fromString(e,...n));return Rv(i),new Le(t.firestore,t instanceof Xi?t.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PA(this,"async_queue_retry"),this._c=()=>{const i=jf();i&&q(pE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=jf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Wn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!va(e))throw e;q(pE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,oi("INTERNAL UNHANDLED ERROR: ",yE(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=eg.createAndSchedule(this,e,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&K(47125,{Pc:yE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class es extends dh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new gE,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function T6(t,e){const n=typeof t=="object"?t:Zb(),i=typeof t=="string"?t:yc,r=bp(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Cx("firestore");s&&E6(r,...s)}return r}function sg(t){if(t._terminated)throw new B(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||b6(t),t._firestoreClient}function b6(t){var i,r,s;const e=t._freezeSettings(),n=function(l,u,c,f){return new G4(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,iS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new p6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jt(ut.fromBase64String(e))}catch(n){throw new B(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jt(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pl(e,Jt._jsonSchema))return Jt.fromBase64String(e.bytes)}}Jt._jsonSchemaVersion="firestore/bytes/1.0",Jt._jsonSchema={type:Ge("string",Jt._jsonSchemaVersion),bytes:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wn._jsonSchemaVersion}}static fromJSON(e){if(pl(e,wn._jsonSchema))return new wn(e.latitude,e.longitude)}}wn._jsonSchemaVersion="firestore/geoPoint/1.0",wn._jsonSchema={type:Ge("string",wn._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Rn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pl(e,Rn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Rn(e.vectorValues);throw new B(L.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rn._jsonSchemaVersion="firestore/vectorValue/1.0",Rn._jsonSchema={type:Ge("string",Rn._jsonSchemaVersion),vectorValues:Ge("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=/^__.*__$/;class S6{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new yl(e,this.data,n,this.fieldTransforms)}}class sS{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{Ac:t})}}class ag{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ag({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aS(this.Ac)&&A6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class w6{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ch(e)}Cc(e,n,i,r=!1){return new ag({Ac:e,methodName:n,Dc:i,path:at.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gh(t){const e=t._freezeSettings(),n=ch(t._databaseId);return new w6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oS(t,e,n,i,r,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,r);lg("Data must be an object, but it was:",a,i);const l=lS(i,a);let u,c;if(s.merge)u=new Lt(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const p=hm(e,m,n);if(!a.contains(p))throw new B(L.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);cS(f,p)||f.push(p)}u=new Lt(f),c=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=a.fieldTransforms;return new S6(new Rt(l),u,c)}class yh extends ph{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yh}}class og extends ph{_toFieldTransform(e){return new y3(e.path,new Qo)}isEqual(e){return e instanceof og}}function R6(t,e,n,i){const r=t.Cc(1,e,n);lg("Data must be an object, but it was:",r,i);const s=[],a=Rt.empty();cr(i,(u,c)=>{const f=ug(e,u,n);c=Xe(c);const m=r.yc(f);if(c instanceof yh)s.push(f);else{const p=Tl(c,m);p!=null&&(s.push(f),a.set(f,p))}});const l=new Lt(s);return new sS(a,l,r.fieldTransforms)}function C6(t,e,n,i,r,s){const a=t.Cc(1,e,n),l=[hm(e,i,n)],u=[r];if(s.length%2!=0)throw new B(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(hm(e,s[p])),u.push(s[p+1]);const c=[],f=Rt.empty();for(let p=l.length-1;p>=0;--p)if(!cS(c,l[p])){const y=l[p];let x=u[p];x=Xe(x);const O=a.yc(y);if(x instanceof yh)c.push(y);else{const N=Tl(x,O);N!=null&&(c.push(y),f.set(y,N))}}const m=new Lt(c);return new sS(f,m,a.fieldTransforms)}function x6(t,e,n,i=!1){return Tl(n,t.Cc(i?4:3,e))}function Tl(t,e){if(uS(t=Xe(t)))return lg("Unsupported field value:",e,t),lS(t,e);if(t instanceof ph)return function(i,r){if(!aS(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=Tl(l,r.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Xe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return m3(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=we.fromDate(i);return{timestampValue:bc(r.serializer,s)}}if(i instanceof we){const s=new we(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bc(r.serializer,s)}}if(i instanceof wn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jt)return{bytesValue:SA(r.serializer,i._byteString)};if(i instanceof Le){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Gp(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Rn)return function(a,l){return{mapValue:{fields:{[Z1]:{stringValue:eA},[_c]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.Sc("VectorValues must only contain numeric values.");return Bp(l.serializer,c)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${th(i)}`)}(t,e)}function lS(t,e){const n={};return K1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cr(t,(i,r)=>{const s=Tl(r,e.mc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function uS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof we||t instanceof wn||t instanceof Jt||t instanceof Le||t instanceof ph||t instanceof Rn)}function lg(t,e,n){if(!uS(n)||!G1(n)){const i=th(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function hm(t,e,n){if((e=Xe(e))instanceof mh)return e._internalPath;if(typeof e=="string")return ug(t,e);throw Rc("Field path arguments must be of type string or ",t,!1,void 0,n)}const I6=new RegExp("[~\\*/\\[\\]]");function ug(t,e,n){if(e.search(I6)>=0)throw Rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mh(...e.split("."))._internalPath}catch{throw Rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rc(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new B(L.INVALID_ARGUMENT,l+t+u)}function cS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N6 extends hS{data(){return super.data()}}function cg(t,e){return typeof e=="string"?ug(t,e):e instanceof mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class O6 extends hg{}function M6(t,e,...n){let i=[];e instanceof hg&&i.push(e),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof fg).length,l=s.filter(u=>u instanceof _h).length;if(a>1||a>0&&l>0)throw new B(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class _h extends O6{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new _h(e,n,i)}_apply(e){const n=this._parse(e);return fS(e._query,n),new Ta(e.firestore,e.converter,Zd(e._query,n))}_parse(e){const n=gh(e.firestore);return function(s,a,l,u,c,f,m){let p;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new B(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){vE(m,f);const x=[];for(const O of m)x.push(_E(u,s,O));p={arrayValue:{values:x}}}else p=_E(u,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||vE(m,f),p=x6(l,a,m,f==="in"||f==="not-in");return qe.create(c,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function V6(t,e,n){const i=e,r=cg("where",t);return _h._create(r,i,n)}class fg extends hg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)fS(a,u),a=Zd(a,u)}(e._query,n),new Ta(e.firestore,e.converter,Zd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _E(t,e,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new B(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lA(e)&&n.indexOf("/")!==-1)throw new B(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ee.fromString(n));if(!G.isDocumentKey(i))throw new B(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Pv(t,new G(i))}if(n instanceof Le)return Pv(t,n._key);throw new B(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${th(n)}.`)}function vE(t,e){if(!Array.isArray(t)||t.length===0)throw new B(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fS(t,e){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class P6{convertValue(e,n="none"){switch(rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw K(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return cr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var i,r,s;const n=(s=(r=(i=e.fields)==null?void 0:i[_c].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>Ve(a.doubleValue));return new Rn(n)}convertGeoPoint(e){return new wn(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=rh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(qo(e));default:return null}}convertTimestamp(e){const n=nr(e);return new we(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ee.fromString(e);fe(NA(i),9688,{name:e});const r=new Ho(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||oi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class io{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pr extends hS{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(cg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(L.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Pr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:Ge("string",Pr._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class Nu extends Pr{data(e={}){return super.data(e)}}class ks{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new io(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Nu(this._firestore,this._userDataWriter,i.key,i,new io(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Nu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new io(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Nu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new io(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,f=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:L6(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(L.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ks._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function L6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t){t=hn(t,Le);const e=hn(t.firestore,es);return _6(sg(e),t._key).then(n=>z6(e,t,n))}ks._jsonSchemaVersion="firestore/querySnapshot/1.0",ks._jsonSchema={type:Ge("string",ks._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class mS extends P6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Le(this.firestore,null,n)}}function k6(t){t=hn(t,Ta);const e=hn(t.firestore,es),n=sg(e),i=new mS(e);return D6(t._query),v6(n,t._query).then(r=>new ks(e,i,t,r))}function TE(t,e,n){t=hn(t,Le);const i=hn(t.firestore,es),r=dS(t.converter,e);return vh(i,[oS(gh(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,en.none())])}function U6(t,e,n,...i){t=hn(t,Le);const r=hn(t.firestore,es),s=gh(r);let a;return a=typeof(e=Xe(e))=="string"||e instanceof mh?C6(s,"updateDoc",t._key,e,n,i):R6(s,"updateDoc",t._key,e),vh(r,[a.toMutation(t._key,en.exists(!0))])}function j6(t){return vh(hn(t.firestore,es),[new Fp(t._key,en.none())])}function pS(t,e){const n=hn(t.firestore,es),i=xr(t),r=dS(t.converter,e);return vh(n,[oS(gh(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,en.exists(!1))]).then(()=>i)}function vh(t,e){return function(i,r){const s=new Wn;return i.asyncQueue.enqueueAndForget(async()=>a6(await y6(i),r,s)),s.promise}(sg(t),e)}function z6(t,e,n){const i=n.docs.get(e._key),r=new mS(t);return new Pr(t,r,e._key,i,new io(n.hasPendingWrites,n.fromCache),e.converter)}function B6(){return new og("serverTimestamp")}(function(e,n=!0){(function(r){ya=r})(pa),$s(new Fr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new es(new R4(i.getProvider("auth-internal")),new I4(a,i.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new B(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ho(c.options.projectId,f)}(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Yi(bv,Av,e),Yi(bv,Av,"esm2020")})();const F6={apiKey:"AIzaSyAkALoqnH9haoyExBTjgNji42urZQU4TmQ",authDomain:"mi-proyecto-336a0.firebaseapp.com",projectId:"mi-proyecto-336a0",storageBucket:"mi-proyecto-336a0.appspot.com",messagingSenderId:"820500491445",appId:"1:820500491445:web:072c097cd5d09dbae362fc"},gS=Wb(F6),Er=b4(gS),Qn=T6(gS),yS=P.createContext(null);function q6({children:t}){const[e,n]=P.useState(null),[i,r]=P.useState(!0),[s,a]=P.useState(!1),[l,u]=P.useState(""),c=new zn,f=async v=>{const E=await EE(xr(Qn,"users",v));return E.exists()?E.data():{}},m=async({email:v,password:E,displayName:I})=>{u(""),a(!0);try{const j=await sD(Er,v,E);return I&&await lD(j.user,{displayName:I}),await TE(xr(Qn,"users",j.user.uid),{displayName:I||"",role:"user",createdAt:new Date}),j.user}catch(j){throw u(j.message),j}finally{a(!1)}},p=async({email:v,password:E})=>{u(""),a(!0);try{return(await aD(Er,v,E)).user}catch(I){throw u(I.message),I}finally{a(!1)}},y=async()=>{u(""),a(!0);try{const v=await DD(Er,c);return(await EE(xr(Qn,"users",v.user.uid))).exists()||await TE(xr(Qn,"users",v.user.uid),{displayName:v.user.displayName,role:"user",createdAt:new Date}),v.user}catch(v){throw u(v.message),v}finally{a(!1)}},x=async()=>{await hD(Er),n(null)},O=v=>rD(Er,v);P.useEffect(()=>{const v=S1(Er,()=>{});return()=>v()},[]),P.useEffect(()=>{const v=cD(Er,async E=>{if(E){const I=await f(E.uid),j={...E,...I};localStorage.setItem("user",JSON.stringify(j)),n(j)}else n(null),localStorage.removeItem("user");r(!1)});return()=>v()},[]);const N=v=>(e==null?void 0:e.role)===v,T=()=>(e==null?void 0:e.role)==="admin";return g.jsx(yS.Provider,{value:{user:e,loading:i,actionLoading:s,error:l,setError:u,register:m,login:p,loginWithGoogle:y,logout:x,resetPassword:O,hasRole:N,isAdmin:T},children:t})}const ba=()=>P.useContext(yS);function H6(){const t=ba();if(!t)return null;const{user:e,logout:n}=t,[i,r]=P.useState(!1),[s,a]=P.useState(""),l=$c(),u=c=>{c.preventDefault(),s.trim()&&(console.log("Buscar:",s),l(`/search?q=${encodeURIComponent(s.trim())}`),a(""),r(!1))};return g.jsx("header",{className:"bg-[#493D9E] sticky top-0 z-20 shadow-md",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[g.jsx("div",{className:"text-white text-2xl font-bold",children:"Digital Dreamers"}),g.jsx("div",{className:"md:hidden",children:g.jsx("button",{onClick:()=>r(!i),className:"text-white text-2xl focus:outline-none transition-transform duration-300 hover:scale-110",children:""})}),g.jsxs("nav",{className:`flex-1 md:flex md:items-center md:justify-between transition-all duration-500 ease-in-out
            ${i?"block":"hidden"} md:block`,children:[g.jsx("ul",{className:"flex flex-col md:flex-row md:space-x-4 mt-4 md:mt-0 text-white font-semibold text-lg",children:[{label:"Inicio",to:"/"},{label:"Sobre nosotras",to:"/nosotras"},{label:"Nuestros valores",to:"/valores"},{label:"Contacto",to:"/contacto"},{label:"Confianza",to:"/confianza"}].map(c=>g.jsx("li",{className:"md:my-0 my-2 transform transition-transform duration-300 hover:scale-110",children:g.jsx(on,{to:c.to,className:"block px-3 py-2 rounded-full hover:bg-[#DAD2FF] hover:text-[#493D9E] transition-all duration-300",onClick:()=>r(!1),children:c.label})},c.to))}),g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 mt-4 md:mt-0",children:[g.jsxs("form",{onSubmit:u,className:"flex items-center bg-[#FFF2AF] rounded-2xl px-3 py-1 mb-2 md:mb-0 w-full md:w-auto",children:[g.jsx("input",{type:"text",placeholder:"Buscar",value:s,onChange:c=>a(c.target.value),className:"bg-transparent focus:outline-none text-[#493D9E] px-2 w-full"}),g.jsx("button",{type:"submit",className:"text-[#493D9E] px-2 rounded hover:bg-[#B2A5FF] transition",children:""})]}),g.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-2 text-sm",children:e?g.jsxs(g.Fragment,{children:[g.jsxs("span",{className:"text-[#FFF2AF] mb-1 md:mb-0",children:["Hola, ",e.displayName||e.email]}),g.jsx(on,{to:"/dashboard",className:"px-3 py-1.5 rounded bg-[#FFF2AF] text-[#493D9E] font-semibold hover:bg-[#B2A5FF] transition",children:"Dashboard"}),g.jsx("button",{onClick:n,className:"px-3 py-1.5 rounded border border-[#FFF2AF] font-semibold hover:bg-[#DAD2FF] hover:text-[#493D9E] transition",children:"Salir"})]}):g.jsx(on,{to:"/login",className:"px-3 py-1.5 rounded bg-[#FFF2AF] text-[#493D9E] font-semibold hover:bg-[#DAD2FF] transition",children:"Iniciar sesin"})})]})]})]})})}var _S={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bE=Ir.createContext&&Ir.createContext(_S),G6=["attr","size","title"];function Q6(t,e){if(t==null)return{};var n=K6(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function K6(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Cc.apply(this,arguments)}function AE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function xc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(n),!0).forEach(function(i){Y6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Y6(t,e,n){return e=$6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $6(t){var e=X6(t,"string");return typeof e=="symbol"?e:e+""}function X6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vS(t){return t&&t.map((e,n)=>Ir.createElement(e.tag,xc({key:n},e.attr),vS(e.child)))}function bl(t){return e=>Ir.createElement(J6,Cc({attr:xc({},t.attr)},e),vS(t.child))}function J6(t){var e=n=>{var{attr:i,size:r,title:s}=t,a=Q6(t,G6),l=r||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Ir.createElement("svg",Cc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:u,style:xc(xc({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Ir.createElement("title",null,s),t.children)};return bE!==void 0?Ir.createElement(bE.Consumer,null,n=>e(n)):e(_S)}function W6(t){return bl({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(t)}function Z6(t){return bl({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function eM(t){return bl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function tM(t){return bl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(t)}function nM(t){return bl({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M204 6.5C101.4 6.5 0 74.9 0 185.6 0 256 39.6 296 63.6 296c9.9 0 15.6-27.6 15.6-35.4 0-9.3-23.7-29.1-23.7-67.8 0-80.4 61.2-137.4 140.4-137.4 68.1 0 118.5 38.7 118.5 109.8 0 53.1-21.3 152.7-90.3 152.7-24.9 0-46.2-18-46.2-43.8 0-37.8 26.4-74.4 26.4-113.4 0-66.2-93.9-54.2-93.9 25.8 0 16.8 2.1 35.4 9.6 50.7-13.8 59.4-42 147.9-42 209.1 0 18.9 2.7 37.5 4.5 56.4 3.4 3.8 1.7 3.4 6.9 1.5 50.4-69 48.6-82.5 71.4-172.8 12.3 23.4 44.1 36 69.3 36 106.2 0 153.9-103.5 153.9-196.8C384 71.3 298.2 6.5 204 6.5z"},child:[]}]})(t)}function iM(){return g.jsxs("footer",{className:"bg-[#493D9E] text-white py-16 mt-16",children:[g.jsxs("div",{className:"flex flex-col items-center md:items-start mb-12",children:[g.jsx("img",{src:"/Digital-Dreamers/images/logo.png",alt:"Digital Dreamers Logo",className:"w-32 mb-4"}),g.jsx("p",{className:"text-sm leading-relaxed text-center md:text-left",children:"Impulsamos sueos con cdigo"})]}),g.jsxs("div",{className:"max-w-6xl mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-10 text-center md:text-left",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-[Merienda] font-semibold text-lg mb-4",children:"Concenos"}),g.jsxs("ul",{className:"space-y-2 text-sm",children:[g.jsx("li",{children:g.jsx(on,{to:"/nosotras",className:"hover:text-[#FFF2AF] hover:scale-105 transition-all duration-300",children:"Nosotras"})}),g.jsx("li",{children:g.jsx(on,{to:"/valores",className:"hover:text-[#FFF2AF] hover:scale-105 transition-all duration-300",children:"Valores"})}),g.jsx("li",{children:g.jsx(on,{to:"/contacto",className:"hover:text-[#FFF2AF] hover:scale-105 transition-all duration-300",children:"Contacto"})}),g.jsx("li",{children:g.jsx(on,{to:"/confianza",className:"hover:text-[#FFF2AF] hover:scale-105 transition-all duration-300",children:"Confianza"})})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-[Merienda] font-bold text-lg mb-4",children:"Redes Sociales"}),g.jsxs("div",{className:"flex justify-center md:justify-start space-x-4 text-xl",children:[g.jsx("a",{href:"https://facebook.com",target:"_blank",className:"hover:text-[#FFF2AF] hover:scale-110 transition-transform duration-300",children:g.jsx(W6,{})}),g.jsx("a",{href:"https://instagram.com",target:"_blank",className:"hover:text-[#FFF2AF] hover:scale-110 transition-transform duration-300",children:g.jsx(eM,{})}),g.jsx("a",{href:"https://linkedin.com",target:"_blank",className:"hover:text-[#FFF2AF] hover:scale-110 transition-transform duration-300",children:g.jsx(tM,{})}),g.jsx("a",{href:"https://github.com",target:"_blank",className:"hover:text-[#FFF2AF] hover:scale-110 transition-transform duration-300",children:g.jsx(Z6,{})}),g.jsx("a",{href:"https://pinterest.com",target:"_blank",className:"hover:text-[#FFF2AF] hover:scale-110 transition-transform duration-300",children:g.jsx(nM,{})})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-[Merienda] font-semibold text-lg mb-4",children:"Contctanos"}),g.jsxs("ul",{className:"space-y-2 text-sm",children:[g.jsx("li",{children:"Carabayllo-Lima, Per"}),g.jsx("li",{children:"901-767-000"}),g.jsx("li",{children:"digitaldreamers@gmail.com"})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-[Merienda] font-bold text-lg mb-4",children:"Trminos"}),g.jsx("ul",{className:"space-y-2 text-sm",children:g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:text-[#FFF2AF] hover:scale-105 transition-all duration-300",children:"Trminos de Privacidad"})})})]})]}),g.jsx("div",{className:"text-center text-sm mt-12 border-t border-gray-700 pt-6 text-[#FFF2AF]",children:"Copyright  2025 Digital Dreamers"})]})}function rM(){const{user:t}=ba();return g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Mi Perfil"}),g.jsxs("div",{className:"flex items-center gap-4",children:[(t==null?void 0:t.photoURL)&&g.jsx("img",{src:t.photoURL,className:"w-16 h-16 rounded-full border",alt:"Foto de perfil"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium",children:t==null?void 0:t.displayName}),g.jsx("p",{className:"text-gray-600 text-sm",children:t==null?void 0:t.email})]})]})]})}function sM(){return g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("section",{className:"relative flex flex-col lg:flex-row items-center justify-between bg-gradient-to-br from-[#B2A5FF] to-[#FFF2AF] px-10 lg:px-20 py-24 overflow-hidden",children:[g.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[150px] bg-white"}),g.jsxs("div",{className:"relative z-10 max-w-xl text-center lg:text-left space-y-5",children:[g.jsxs("h1",{className:"text-6xl tracking-wide font-[Merienda] font-bold text-[#493D9E] leading-tight",children:["Bienvenid@s a ",g.jsx("span",{className:"text-[#FFF2AF] drop-shadow-md",children:"Digital Dreamers"}),"!"]}),g.jsx("p",{className:"text-[#493D9E] text-lg font-[Macondo] font-semibold",children:"Damos vida a ideas digitales con creatividad, propsito y tecnologa. Aqu los sueos se convierten en cdigo "}),g.jsx("div",{className:"pt-4",children:g.jsx(on,{to:"/contacto",className:"inline-block bg-[#493D9E] text-[#FFF2AF] font-bold px-6 py-3 rounded-2xl text-lg shadow-md transition-all duration-300 hover:bg-[#FFF2AF] hover:text-[#493D9E] hover:shadow-xl",children:"Contctanos"})})]}),g.jsx("div",{className:"relative z-10 mt-10 lg:mt-0",children:g.jsx("img",{src:"/Digital-Dreamers/images/img1-index.png",alt:"Chicas programadoras",className:"w-full max-w-[500px] rounded-3xl hover:-translate-y-2 transition-transform duration-300"})})]}),g.jsx("section",{className:"flex flex-col lg:flex-row justify-center items-center gap-10 bg-[#F8F7FF] px-10 lg:px-24 py-24 border-b-[10px] border-[#FFF2AF]",children:g.jsxs("div",{className:"max-w-3xl text-[#493D9E] text-justify text-lg font-medium leading-relaxed",children:[g.jsx("h2",{className:"text-4xl font-[Merienda] font-bold text-center mb-8",children:"Nuestra historia "}),g.jsx("p",{children:"Somos cuatro programadoras apasionadas por el diseo web, la esttica y el trabajo colaborativo. Estamos listas para dar vida a ideas y convertirlas en experiencias digitales llenas de precisin, estilo y creatividad. Cada proyecto es un universo donde la organizacin se encuentra con la imaginacin, y donde los sueos se vuelven cdigo que inspira, conecta y comunica ."})]})}),g.jsxs("section",{className:"flex flex-col justify-center gap-5 bg-[#FFF2AF]",children:[g.jsx("div",{className:"text-center text-[#493D9E] font-[Merienda] text-2xl font-medium pt-8",children:g.jsx("h2",{className:"text-4xl font-bold text-center mb-10",style:{color:"#493D9E"},children:" Porque programar con propsito..."})}),g.jsxs("div",{className:"grid grid-cols-2 gap-5 border-b-[10px] border-b-gradient-to-r from-[#B2A5FF] to-[#FFF2AF] border-[#B2A5FF] rounded-2xl bg-white px-10 md:px-24 my-12 p-4 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center",children:g.jsx("img",{src:"/Digital-Dreamers/images/imgobj.png",alt:"nuestros objetivos",className:"w-full max-w-[500px] rounded-2xl object-cover transition-transform duration-300 hover:-translate-y-2"})}),g.jsx("div",{className:"flex justify-center text-justify p-12 text-[22px] font-medium text-[#493D9E]",children:g.jsx("p",{children:"Es crear soluciones web innovadoras que mezclen esttica , funcionalidad  y organizacin . Lo hacemos con un espritu de colaboracin donde nuestras ideas (y las tuyas!) cobran vida en forma de experiencias digitales que inspiran, comunican y dejan huella."})})]})]}),g.jsxs("section",{className:"flex flex-col justify-center gap-8 bg-white",children:[g.jsx("div",{className:"text-center text-[#493D9E] font-[Merienda] text-2xl font-medium pt-8",children:g.jsx("h2",{className:"text-4xl font-bold text-center mb-10",style:{color:"#493D9E"},children:"Cuatro mentes, un mismo cdigo "})}),g.jsx("div",{className:"flex justify-center text-[#493D9E] font-[Macondo] text-lg font-semibold",children:g.jsx("h3",{className:"text-4xl font-bold text-center mb-10",style:{color:"#493D9E"},children:"Formamos un equipo sin igual!"})}),g.jsx("div",{className:"flex flex-wrap justify-center gap-8 px-10 md:px-24 my-12 p-4",children:[{nombre:"Marcell ",texto:"Especialista en diseo UI/UX, amante del detalle y la belleza en cada proyecto."},{nombre:"Yamileth ",texto:"Front-end developer apasionada por un cdigo limpio, funcional y elegante."},{nombre:"Mara ",texto:"Creativa en maquetacin web, transforma ideas en interfaces que conectan."},{nombre:"Sandra ",texto:"Desarrolladora full stack con visin estratgica y amor por la innovacin."}].map((t,e)=>g.jsxs("div",{className:"bg-[#FFF2AF] max-w-[280px] rounded-3xl overflow-hidden shadow-md border-t-[10px] border-[#B2A5FF] transition-transform duration-300 hover:-translate-y-2 hover:shadow-lg cursor-pointer hover:rotate-1",children:[g.jsx("img",{src:"/Digital-Dreamers/images/img2.png",alt:`Foto de ${t.nombre}`,className:"w-full max-w-[500px] h-[200px] object-cover"}),g.jsxs("div",{className:"p-5 text-center",children:[g.jsx("h3",{className:"text-[#493D9E] font-[Concert_One] text-xl",children:t.nombre}),g.jsx("p",{className:"text-[#493D9E] text-base mt-2",children:t.texto})]})]},e))})]}),g.jsxs("section",{className:"flex flex-col justify-center gap-5 bg-[#DAD2FF] pb-24",children:[g.jsx("div",{className:"text-center text-[#493D9E] font-[Merienda] text-2xl font-medium pt-8",children:g.jsx("h2",{className:"text-4xl font-bold text-center mb-10",style:{color:"#493D9E"},children:" Conoce ms sobre..."})}),g.jsx("div",{className:"flex justify-center",children:g.jsx(on,{to:"/nosotras",className:"rounded-2xl bg-[#B2A5FF] text-[#493D9E] text-lg font-bold no-underline px-6 py-3 transition-all duration-300 hover:bg-[#FFF2AF] hover:shadow-md hover:-translate-y-1 active:bg-[#493D9E] active:text-[#FFF2AF] hover:shadow-2xl hover:scale-105",children:"Nosotras"})})]})]})}function aM(){return g.jsxs("div",{className:"bg-[#DAD2FF] text-gray-800",children:[g.jsxs("section",{className:"text-center py-20 bg-white shadow-md mt-10 mb-16 px-4",children:[g.jsx("h1",{className:"text-5xl font-bold text-[#493D9E] mb-6 font-[Concert_One]",children:"CONOCE MS SOBRE NOSOTRAS"}),g.jsx("p",{className:"max-w-3xl mx-auto text-lg leading-relaxed text-gray-600 font-[Macondo]",children:"Cuatro mentes creativas unidas por la pasin por la tecnologa y el deseo de crear un impacto positivo en el mundo digital."})]}),g.jsxs("section",{className:"max-w-6xl mx-auto px-6 mb-24 text-center",children:[g.jsxs("h2",{className:"text-4xl mb-12 text-gray-900 font-[Merienda] relative inline-block",children:["Nuestras Historias",g.jsx("span",{className:"block w-16 h-1 bg-gradient-to-r from-[#e5afec] to-[#cb60f1] mx-auto mt-3 rounded"})]}),g.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Sandra E. Charri Macassi (Sam)"}),g.jsx("p",{className:"text-sm text-[#c778e6] font-semibold uppercase mb-4",children:"Diseadora de UX/UI y programadora de Front-end"}),g.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"Mi historia con la programacin empieza con la pasin por el diseo grfico. Luego de llevar cursos tcnicos sobre el tema, descubr Adobe Dreamweaver y Fireworks. Ms tarde, particip en el programa educativo Protagonistas del futuro de Chicas en Tecnologas (2024), donde aprend UX/UI con Figma, App Inventor y marketing. En 2025 obtuve la beca +ChicasTec, consolidando mis conocimientos y habilidades como programadora y diseadora."})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Yamileth Quispe Espinoza"}),g.jsx("p",{className:"text-sm text-[#c778e6] font-semibold uppercase mb-4",children:"Programadora en formacin"}),g.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"Comenc mi camino en la programacin gracias a la beca +ChicasTec, que me abri las puertas hacia el fascinante mundo de la tecnologa. Aprend que programar no solo es escribir cdigo, sino imaginar soluciones y crear herramientas que transforman vidas. Cada reto me ayud a fortalecer mi pensamiento lgico, mi creatividad y mi pasin por aprender constantemente."})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Mara Beln"}),g.jsx("p",{className:"text-sm text-[#c778e6] font-semibold uppercase mb-4",children:"Desarrolladora web en formacin"}),g.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"Descubr la programacin gracias a la beca +ChicasTec, y desde entonces me apasiona crear pginas y proyectos que combinen creatividad con tecnologa. Cada proyecto es una oportunidad para aprender y explorar nuevas formas de expresar mis ideas."})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Marcell Gamboa"}),g.jsx("p",{className:"text-sm text-[#c778e6] font-semibold uppercase mb-4",children:"Desarrolladora web en formacin"}),g.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"Me estoy iniciando en el mundo de la programacin y el diseo web. Comenc con el programa +ChicasTec (2025), donde aprend diseo UX/UI con Figma y programacin bsica. Estoy emocionada por todo lo que estoy descubriendo y aprendiendo da a da."})]})]})]}),g.jsxs("section",{className:"max-w-7xl mx-auto px-6 mb-32 text-center pb-20",children:[g.jsxs("h2",{className:"text-4xl mb-12 text-gray-900 font-[Merienda] relative inline-block",children:["Datos Curiosos",g.jsx("span",{className:"block w-16 h-1 bg-gradient-to-r from-[#e5afec] to-[#cb60f1] mx-auto mt-3 rounded"})]}),g.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Sandra E. Charri Macassi"}),g.jsx("h4",{className:"text-lg text-[#948bd6] font-semibold mb-2",children:"Herramientas favoritas:"}),g.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Figma, Miro, Canva, Illustrator, Dreamweaver, VS Code y GitHub."}),g.jsx("div",{className:"bg-[#C5BDF7] rounded-lg p-4 text-[#352C7A] font-semibold",children:"Superpoder: Pensar en lo que el usuario necesita y dejar una marca personal en cada trabajo colaborativo."})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Yamileth Quispe Espinoza"}),g.jsx("h4",{className:"text-lg text-[#948bd6] font-semibold mb-2",children:"Herramientas favoritas:"}),g.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Visual Studio Code, Bootstrap, CSS y HTML."}),g.jsx("div",{className:"bg-[#C5BDF7] rounded-lg p-4 text-[#352C7A] font-semibold",children:"Superpoder: Aprendo rpido, innovo y doy a cada proyecto un toque nico."})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Mara Beln"}),g.jsx("h4",{className:"text-lg text-[#948bd6] font-semibold mb-2",children:"Herramientas favoritas:"}),g.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Visual Studio Code, HTML, CSS y la tcnica de aprender haciendo."}),g.jsx("div",{className:"bg-[#C5BDF7] rounded-lg p-4 text-[#352C7A] font-semibold",children:"Superpoder: Transformar ideas simples en proyectos funcionales y organizados."})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-[#c56ce6] hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("h3",{className:"text-2xl font-[Concert_One] mb-2",children:"Marcell Gamboa"}),g.jsx("h4",{className:"text-lg text-[#948bd6] font-semibold mb-2",children:"Herramientas favoritas:"}),g.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Figma, Miro, Visual Studio Code y GitHub."}),g.jsx("div",{className:"bg-[#C5BDF7] rounded-lg p-4 text-[#352C7A] font-semibold",children:"Superpoder: Simplificar lo complejo y crear diseos fciles de usar."})]})]})]})]})}function oM(){const[t,e]=P.useState({nombres:"",apellidos:"",edad:"",grado:"",ciudad:"",telefono:"",correo:"",mensaje:""}),[n,i]=P.useState({mensaje:"",color:""}),r=l=>{e({...t,[l.target.name]:l.target.value})},s=l=>{i({mensaje:l,color:"red"}),setTimeout(()=>i({mensaje:"",color:""}),6e3)},a=async l=>{l.preventDefault();const{nombres:u,apellidos:c,edad:f,grado:m,ciudad:p,telefono:y,correo:x,mensaje:O}=t,N=/^[A-Za-z\s]+$/,T=/^[0-9]{7,15}$/,v=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,E=[{cond:!u||!c||!f||isNaN(parseInt(f))||f<15||f>45||!m||!p||!y||!x||!O,msg:" Por favor, completa todos los campos correctamente."},{cond:!N.test(u)||!N.test(c),msg:" Nombres y apellidos solo deben contener letras."},{cond:!T.test(y.replace(/\s+/g,"")),msg:" Ingresa un telfono vlido (solo nmeros, 7 a 15 dgitos)."},{cond:!v.test(x),msg:" Ingresa un correo electrnico vlido."},{cond:O.length<10,msg:" El mensaje debe tener al menos 10 caracteres."}];for(let I of E)if(I.cond)return s(I.msg);try{await pS(cm(Qn,"contactos"),{...t,fecha:B6()}),i({mensaje:" Gracias por contactarnos! Tus datos fueron enviados con xito.",color:"#988ee2ff"}),e({nombres:"",apellidos:"",edad:"",grado:"",ciudad:"",telefono:"",correo:"",mensaje:""}),setTimeout(()=>i({mensaje:"",color:""}),8e3)}catch(I){console.error("Error al guardar:",I),s(" Ocurri un error al enviar tus datos. Intenta nuevamente.")}};return g.jsxs("section",{id:"contacto",className:"bg-violet-300/100 text-white py-16 px-6 flex flex-col items-center",children:[g.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Conectemos!"}),g.jsx("p",{className:"mb-8 text-center max-w-lg",children:"Completa el formulario para que podamos conocerte mejor y responderte lo antes posible."}),g.jsxs("form",{onSubmit:a,className:"bg-[#FFF2AF] text-[#2E1E5B] rounded-2xl p-8 w-full max-w-lg shadow-lg space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Nombres:"}),g.jsx("input",{type:"text",name:"nombres",value:t.nombres,onChange:r,placeholder:"Ejemplo: Anel Rosa",required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Apellidos:"}),g.jsx("input",{type:"text",name:"apellidos",value:t.apellidos,onChange:r,placeholder:"Ejemplo: Meja Chirhuana",required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Edad:"}),g.jsx("input",{type:"number",name:"edad",value:t.edad,onChange:r,min:"15",max:"45",placeholder:"Entre 15 y 45 aos. Ej: 18 aos",required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Grado de estudios:"}),g.jsxs("select",{name:"grado",value:t.grado,onChange:r,required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]",children:[g.jsx("option",{value:"",children:"-- Selecciona una opcin --"}),g.jsx("option",{value:"secundaria",children:"Secundaria en curso / completa"}),g.jsx("option",{value:"tecnico",children:"Tcnico / Instituto"}),g.jsx("option",{value:"universitario",children:"Universitario en curso"}),g.jsx("option",{value:"profesional",children:"Universitario completo"}),g.jsx("option",{value:"postgrado",children:"Postgrado / Maestra"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Ciudad / Pas:"}),g.jsx("input",{type:"text",name:"ciudad",value:t.ciudad,onChange:r,placeholder:"Ejemplo: Lima, Per",required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Nmero de telfono:"}),g.jsx("input",{type:"tel",name:"telefono",value:t.telefono,onChange:r,placeholder:"+51 999 999 999",required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Correo electrnico:"}),g.jsx("input",{type:"email",name:"correo",value:t.correo,onChange:r,placeholder:"nombre@gmail.com",required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-semibold",children:"Mensaje:"}),g.jsx("textarea",{name:"mensaje",value:t.mensaje,onChange:r,placeholder:"Cuntanos, en qu podemos ayudarte?...",rows:"5",required:!0,className:"w-full mt-1 p-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4E2BBF]"})]}),g.jsx("p",{style:{color:n.color},className:"font-semibold text-center text-lg mt-2",children:n.mensaje}),g.jsx("button",{type:"submit",className:"w-full bg-purple-300/100 py-3 rounded-lg font-bold hover:bg-purple-400/100 transition-all",children:"Enviar Mensaje"})]})]})}function lM(){return P.useEffect(()=>{console.log("Contacto.jsx montado")},[]),g.jsxs("div",{className:"flex flex-col items-center justify-center",children:[g.jsxs("section",{className:"w-full bg-[#CAB8FF] py-16 px-6 text-center",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#3C2A91] mb-10",children:"EN QU PODEMOS AYUDARTE?"}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[{icon:"",title:"Diseo UX/UI",text:"Diseamos experiencias digitales atractivas, intuitivas y centradas en el usuario.",bg:"bg-[#FFF2AF]"},{icon:"",title:"Desarrollo Web",text:"Desde pginas informativas hasta plataformas dinmicas, creamos soluciones a medida.",bg:"bg-[#FFF2AF]"},{icon:"",title:"Estrategia Digital",text:"Te guiamos en marketing, redes sociales y posicionamiento online.",bg:"bg-[#FFF2AF]"},{icon:"",title:"Integracin con IA",text:"Implementamos herramientas de inteligencia artificial para potenciar tu negocio.",bg:"bg-[#FFF2AF]"},{icon:"",title:"Consultora en Diversidad Tech",text:"Fomentamos equipos inclusivos y entornos tecnolgicos ms diversos.",bg:"bg-[#FFF2AF]"},{icon:"",title:"Formacin y Workshops",text:"Capacitaciones prcticas en programacin, diseo y herramientas digitales.",bg:"bg-[#FFF2AF]"}].map((t,e)=>g.jsxs("div",{className:`${t.bg} rounded-xl shadow-lg p-6 hover:scale-105 transition-transform duration-300`,children:[g.jsxs("h3",{className:"text-lg font-semibold text-[#3C2A91] mb-2",children:[t.icon," ",t.title]}),g.jsx("p",{className:"text-gray-700 text-sm",children:t.text})]},e))})]}),g.jsxs("section",{className:"w-full bg-white py-16 px-6 text-center",children:[g.jsx("h2",{className:"text-2xl italic text-gray-800 mb-10",children:"Por qu elegirnos?"}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[{icon:"",title:"PERSPECTIVA NICA",text:"Como equipo 100% femenino, aportamos una visin fresca y diversa que transforma cada proyecto en algo autntico."},{icon:"",title:"AGILIDAD Y FLEXIBILIDAD",text:"Nos adaptamos rpidamente a los cambios con metodologas giles, entregando resultados ptimos sin perder calidad."},{icon:"",title:"ATENCIN AL DETALLE",text:"Cuidamos cada pxel, lnea de cdigo y palabra para que tu producto no solo funcione, sino que brille."},{icon:"",title:"IMPACTO SOSTENIBLE",text:"No construimos solo proyectos, sino soluciones que evolucionan contigo y generan impacto positivo a largo plazo."}].map((t,e)=>g.jsxs("div",{className:"bg-[#CAB8FF]/70 rounded-xl shadow-md p-6 hover:bg-[#bfa9ff] transition-colors duration-300",children:[g.jsxs("h3",{className:"text-[#3C2A91] font-semibold mb-2",children:[t.icon," ",t.title]}),g.jsx("p",{className:"text-gray-700 text-sm",children:t.text})]},e))})]}),g.jsxs("section",{className:"w-full bg-[#3C2A91] text-white py-16 px-6 text-center",children:[g.jsx("h2",{className:"text-3xl font-[Merienda] mb-4",children:"Conectemos!"}),g.jsx("p",{className:"text-sm mb-10",children:"Completa el formulario para que podamos conocerte mejor y responderte lo antes posible."}),g.jsx("div",{className:"max-w-lg mx-auto bg-white rounded-xl p-8 shadow-lg text-gray-800",children:g.jsx(oM,{})})]})]})}function uM(){return g.jsxs("div",{className:"bg-[#DAD2FF] text-gray-800",children:[g.jsxs("section",{className:"bg-white text-center py-16",children:[g.jsx("h1",{className:"text-5xl font-bold text-[#493D9E] mb-4",children:"LOS VALORES QUE NOS DEFINEN"}),g.jsx("p",{className:"font-[Macondo] text-lg",children:"Estos principios guan cada proyecto y cada decisin que tomamos como equipo."})]}),g.jsxs("section",{className:"container mx-auto py-16 px-6",children:[g.jsx("h2",{className:"text-center text-4xl font-[Merienda] text-[#493D9E] border-b-4 border-[#896AFA] pb-6 mb-10",children:"Nuestros Pilares Fundamentales"}),g.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{titulo:" Colaboracin",texto:"Unir talentos y conocimientos para alcanzar objetivos en equipo, apoyndose mutuamente. En un grupo de programadoras, la colaboracin es trabajar como un solo motor: cada integrante aporta habilidades para que el proyecto avance. No se trata solo de dividir tareas, sino de compartir ideas, aprender unas de otras y mejorar juntas. Tambin implica pedir ayuda, reconocer logros y apoyarse.",frase:' "En programacin, un buen equipo es como un cdigo limpio: cada lnea cuenta para que todo funcione."'},{titulo:" Creatividad",texto:"Buscar soluciones innovadoras y originales para resolver problemas. En programacin, la creatividad es ver ms all de lo evidente. Es transformar un requerimiento en una solucin funcional y atractiva. No se trata solo de hacerlo diferente, sino mejor y ms eficiente. Una programadora creativa mezcla lgica y arte, generando experiencias digitales nicas y memorables para los usuarios.",frase:' "Programar no es solo escribir cdigo, es pintar ideas con lneas de lgica."'},{titulo:" Perseverancia",texto:"Mantenerse firmes ante los retos y errores, aprendiendo de cada fallo. En el cdigo, los errores son inevitables, pero la perseverancia convierte un bug en una leccin. Es no rendirse aunque la solucin parezca escondida y seguir intentando hasta lograrlo. Perseverar es aprender de cada fallo, mantener la motivacin y tener paciencia hasta obtener el resultado esperado.",frase:' "Un error en el cdigo no es el final, es la pista que te acerca a la solucin."'},{titulo:" Responsabilidad",texto:"Cumplir compromisos y entregar trabajos de calidad en el tiempo acordado. En un equipo de programadoras, la responsabilidad es respetar plazos y calidad, asumiendo el rol con seriedad. Significa que nuestro aporte no afecte negativamente al proyecto. Tambin implica comunicar problemas a tiempo para que el equipo pueda adaptarse, demostrando compromiso con el objetivo final.",frase:' "En programacin, cada lnea de cdigo es una promesa cumplida al proyecto."'},{titulo:" Curiosidad",texto:"Estar siempre dispuestas a aprender nuevas herramientas y lenguajes. La curiosidad impulsa a explorar y no conformarse con lo que ya se sabe. En programacin, permite evolucionar, descubrir tecnologas y adaptarse a cambios. Las programadoras curiosas buscan optimizar, experimentar y aprender para innovar y resolver problemas con ideas creativas e inesperadas.",frase:' "La mejor programadora no es la que lo sabe todo, sino la que siempre quiere aprender ms."'},{titulo:" Respeto",texto:"Escuchar y valorar las ideas de todas, sin importar la experiencia. El respeto es la base de una buena comunicacin. Significa aceptar distintas formas de resolver problemas y debatirlas sin descalificar. Un equipo con respeto crea confianza, permite expresar ideas y recibir crticas constructivas, resolviendo conflictos sin daar relaciones.",frase:' "En el cdigo y en el equipo, cada aporte cuenta para que todo compile."'}].map((t,e)=>g.jsxs("div",{className:"bg-white shadow-lg rounded-xl border-t-4 border-[#B2A5FF] p-8 hover:-translate-y-3 hover:shadow-2xl transition-all",children:[g.jsx("h3",{className:"font-[Concert_One] text-2xl mb-4",children:t.titulo}),g.jsx("p",{className:"text-lg mb-4",children:t.texto}),g.jsx("p",{className:"bg-[#B2A5FF] text-[#352C7A] p-4 rounded-md text-center font-semibold",children:t.frase})]},e))})]}),g.jsxs("section",{className:"container mx-auto py-16 px-6",children:[g.jsx("h2",{className:"text-center text-4xl font-[Merienda] text-[#493D9E] border-b-4 border-[#896AFA] pb-6 mb-10",children:"Cmo vivimos estos valores"}),g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{titulo:" En nuestra familia",texto:"Practicamos la colaboracin y el respeto al apoyarnos en las tareas y escucharnos con atencin. Con responsabilidad cumplimos nuestros deberes, y con perseverancia enfrentamos juntos las dificultades. La creatividad y la curiosidad nos ayudan a resolver problemas cotidianos y aprender como equipo."},{titulo:" En nuestro aprendizaje",texto:"Vivimos nuestros valores al estudiar con responsabilidad, compartir conocimientos y apoyarnos unas a otras con respeto y colaboracin. La perseverancia nos mantiene firmes frente a lo difcil, mientras que la creatividad y la curiosidad nos impulsan a buscar nuevas formas de aprender y mejorar."},{titulo:" En nuestros proyectos",texto:"Aplicamos todos los valores al trabajar en equipo: colaboramos, respetamos las ideas de cada integrante y asumimos con responsabilidad cada tarea. La perseverancia nos ayuda a superar errores, la creatividad nos permite innovar, y la curiosidad nos motiva a investigar nuevas herramientas."},{titulo:" En nuestra comunidad",texto:"Nuestros valores se reflejan en la forma de convivir: colaboramos para ayudar a los dems, respetamos la diversidad de opiniones y actuamos con responsabilidad en los compromisos sociales. Adems, mantenemos la perseverancia en causas comunes y usamos creatividad y curiosidad para proponer mejoras que beneficien a todos."}].map((t,e)=>g.jsxs("div",{className:"bg-white shadow-lg rounded-xl border-t-4 border-[#B2A5FF] p-8 hover:-translate-y-3 hover:shadow-2xl transition-all",children:[g.jsx("h3",{className:"font-[Concert_One] text-2xl mb-4",children:t.titulo}),g.jsx("p",{className:"text-lg",children:t.texto})]},e))})]})]})}function cM(){const t=[{id:1,title:"Digital Dreamers - Landing Page",category:"Diseo Web",description:"Landing responsive que presenta nuestra marca, el equipo y nuestros valores.",details:"Creada con React, Tailwind CSS y Javascript, incluye secciones como Inicio, Sobre Nosotras, Valores y Contacto, reflejando la esencia del equipo.",image:"https://i.ibb.co/FbJZhKJ/inspiracion.jpg",screenshots:["https://i.ibb.co/HFmpPyB/inspiracion2.jpg"],link:"https://yamilethquispe.github.io/Digital-Dreamers/"},{id:2,title:"Calculadora Profesional",category:"App",description:"Aplicacin funcional que realiza operaciones bsicas y avanzadas con una interfaz moderna.",details:"Desarrollada en React con diseo responsive y clculos en tiempo real. Ideal para mostrar lgica y manejo de estados en React.",image:"https://i.ibb.co/fY0HQt4/calculadora.jpg",screenshots:["https://i.ibb.co/4Yr9ktF/calculadora2.jpg"],link:"https://sancharrimacassi-dev.github.io/CT-Digital-Dreamers/calculadora.html"},{id:3,title:"Pgina Inspiradora - Cdigo Rosa",category:"Web",description:"Proyecto de referencia que nos inspira por su estructura limpia y moderna.",details:"Sitio web con animaciones sutiles, excelente uso del color y diseo minimalista, que sirve como gua para futuros proyectos del equipo.",image:"https://i.ibb.co/fY0HQt4/calculadora.jpg",screenshots:["https://i.ibb.co/4Yr9ktF/calculadora2.jpg"],link:"https://codigo-rosa-u4.vercel.app/"}],[e,n]=P.useState("All"),[i,r]=P.useState(null),s=["All",...Array.from(new Set(t.map(l=>l.category)))],a=t.filter(l=>e==="All"||l.category===e);return g.jsxs("section",{className:"py-12 px-6 bg-gradient-to-b from-purple-50 to-white",children:[g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsx("h2",{className:"text-3xl font-bold text-center text-purple-600/70 mb-4",children:"Portafolio del equipo"}),g.jsx("p",{className:"text-center text-gray-600 mb-8 max-w-2xl mx-auto",children:'Aqu mostramos nuestros proyectos. Haz click en "Ver proyecto" para abrir la demo/repositorio o en "Ms" para ver detalles.'}),g.jsx("div",{className:"flex justify-center gap-3 mb-8 flex-wrap",children:s.map(l=>g.jsx("button",{onClick:()=>n(l),className:`px-4 py-2 rounded-full border transition ${e===l?"bg-purple-600 text-white border-purple-600":"bg-white text-gray-700 border-gray-200 hover:shadow"}`,children:l},l))}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(l=>g.jsxs("article",{className:"bg-white rounded-2xl shadow-lg overflow-hidden transform hover:scale-105 transition duration-300",children:[g.jsxs("div",{className:"relative h-48",children:[g.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute left-3 top-3 bg-white/70 text-sm px-3 py-1 rounded-full backdrop-blur",children:l.category})]}),g.jsxs("div",{className:"p-5",children:[g.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:l.title}),g.jsx("p",{className:"text-gray-600 mt-2",children:l.description}),g.jsxs("div",{className:"mt-4 flex gap-3",children:[g.jsx("a",{href:l.link,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-4 py-2 rounded-lg bg-purple-500/70 text-white font-medium hover:bg-purple-600 transition",children:"Ver proyecto"}),g.jsx("button",{onClick:()=>r(l),className:"inline-block px-4 py-2 rounded-lg border border-gray-200 hover:shadow transition",children:"Ms"})]})]})]},l.id))})]}),i&&g.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 p-4",onClick:()=>r(null),children:g.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full overflow-auto",onClick:l=>l.stopPropagation(),children:g.jsxs("div",{className:"p-5",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h3",{className:"text-2xl font-bold text-pink-600",children:i.title}),g.jsx("button",{onClick:()=>r(null),className:"text-gray-500 hover:text-gray-800",children:"Cerrar "})]}),g.jsx("p",{className:"text-gray-700 mt-3",children:i.details}),g.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:i.screenshots.map((l,u)=>g.jsx("img",{src:l,alt:`${i.title} ${u+1}`,className:"w-full h-40 object-cover rounded"},u))}),g.jsxs("div",{className:"mt-5 flex gap-3",children:[g.jsx("a",{href:i.link,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg bg-pink-500 text-white",children:"Abrir proyecto"}),g.jsx("button",{onClick:()=>r(null),className:"px-4 py-2 rounded-lg border",children:"Cerrar"})]})]})})})]})}function hM(){return g.jsx(g.Fragment,{children:g.jsx(cM,{})})}function SE({children:t}){const{user:e,loading:n}=ba();return n?g.jsx("div",{className:"p-6",children:"Cargando sesin"}):e?t:g.jsx(UC,{to:"/login",replace:!0})}function fM(){const{login:t,register:e,resetPassword:n,setError:i,error:r,loginWithGoogle:s}=ba(),[a,l]=P.useState("login"),[u,c]=P.useState({email:"",password:"",displayName:""}),[f,m]=P.useState(!1),p=$c(),y=N=>c(T=>({...T,[N.target.name]:N.target.value})),x=async N=>{var T;N.preventDefault(),m(!0),i("");try{a==="login"?(await t({email:u.email,password:u.password}),p("/dashboard")):a==="register"?(await e({email:u.email,password:u.password,displayName:u.displayName}),p("/dashboard")):(await n(u.email),alert("Revisa tu correo para restablecer la contrasea."),l("login"))}catch(v){const E=((T=v==null?void 0:v.code)==null?void 0:T.replace("auth/","").replaceAll("-"," "))||"error inesperado";i(E)}finally{m(!1)}},O=async()=>{var N;console.log(" Clic detectado: intentando iniciar sesin con Google..."),m(!0),i("");try{const T=await s();console.log(" Inicio de sesin exitoso:",T),p("/dashboard")}catch(T){console.error(" Error completo en login con Google:",T);const v=((N=T==null?void 0:T.code)==null?void 0:N.replace("auth/","").replaceAll("-"," "))||"error al iniciar con google";i(v)}finally{m(!1)}};return g.jsx("div",{className:"min-h-[80dvh] grid place-items-center px-4",children:g.jsxs("div",{className:"w-full max-w-md bg-white p-6 rounded-xl shadow",children:[g.jsxs("div",{className:"flex gap-2 mb-6",children:[g.jsx("button",{className:`flex-1 py-2 rounded ${a==="login"?"bg-gray-900 text-white":"border"}`,onClick:()=>l("login"),children:"Entrar"}),g.jsx("button",{className:`flex-1 py-2 rounded ${a==="register"?"bg-gray-900 text-white":"border"}`,onClick:()=>l("register"),children:"Crear cuenta"}),g.jsx("button",{className:`flex-1 py-2 rounded ${a==="reset"?"bg-gray-900 text-white":"border"}`,onClick:()=>l("reset"),children:"Olvid contrasea"})]}),r&&g.jsx("p",{className:"mb-4 text-sm text-red-600",children:r}),g.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a==="register"&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm mb-1",children:"Nombre"}),g.jsx("input",{name:"displayName",value:u.displayName,onChange:y,className:"w-full border rounded px-3 py-2"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm mb-1",children:"Correo"}),g.jsx("input",{type:"email",name:"email",value:u.email,onChange:y,className:"w-full border rounded px-3 py-2",required:!0})]}),a!=="reset"&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm mb-1",children:"Contrasea"}),g.jsx("input",{type:"password",name:"password",value:u.password,onChange:y,className:"w-full border rounded px-3 py-2",required:!0})]}),g.jsx("button",{type:"submit",disabled:f,className:"w-full py-2 rounded bg-gray-900 text-white disabled:opacity-60",children:f?"Procesando":a==="login"?"Entrar":a==="register"?"Crear cuenta":"Enviar correo"})]}),g.jsxs("button",{type:"button",disabled:f,onClick:O,className:"w-full py-2 rounded border mt-4 flex items-center justify-center gap-2 disabled:opacity-60",children:[g.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Iniciar sesin con Google"]})]})})}function wE(){const{user:t}=ba(),[e,n]=P.useState({title:"",description:""}),[i,r]=P.useState([]),[s,a]=P.useState(!0),[l,u]=P.useState(null),[c,f]=P.useState({title:"",description:""}),m=E=>{n({...e,[E.target.name]:E.target.value})},p=E=>{f({...c,[E.target.name]:E.target.value})},y=async()=>{if(!t)return;a(!0);const E=M6(cm(Qn,"tasks"),V6("createdBy","==",t.uid)),I=await k6(E);r(I.docs.map(j=>({id:j.id,...j.data()}))),a(!1)},x=async E=>{if(E.preventDefault(),!t)return alert("Debes iniciar sesin");if(!e.title.trim())return alert("El ttulo es obligatorio");await pS(cm(Qn,"tasks"),{title:e.title,description:e.description,createdBy:t.uid,createdAt:new Date}),n({title:"",description:""}),y()},O=E=>{u(E.id),f({title:E.title,description:E.description||""})},N=async()=>{if(!l)return;const E=xr(Qn,"tasks",l);await U6(E,{title:c.title,description:c.description}),u(null),y()},T=()=>{u(null)},v=async E=>{confirm("Eliminar esta tarea?")&&(await j6(xr(Qn,"tasks",E)),y())};return P.useEffect(()=>{y()},[t]),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Mis tareas"}),g.jsxs("form",{onSubmit:x,className:"mb-6 bg-gray-50 p-4 rounded-lg shadow",children:[g.jsx("input",{name:"title",value:e.title,onChange:m,className:"w-full border p-2 rounded mb-2",placeholder:"Ttulo",required:!0}),g.jsx("textarea",{name:"description",value:e.description,onChange:m,className:"w-full border p-2 rounded mb-2",placeholder:"Descripcin"}),g.jsx("button",{className:"bg-purple-300 text-white px-4 py-2 rounded",children:"Agregar tarea"})]}),s?g.jsx("p",{children:"Cargando tareas..."}):i.length===0?g.jsx("p",{children:"No tienes tareas an."}):g.jsx("ul",{className:"space-y-2",children:i.map(E=>g.jsx("li",{className:"p-3 bg-white border rounded shadow-sm",children:l===E.id?g.jsxs("div",{children:[g.jsx("input",{name:"title",className:"w-full border p-2 rounded mb-2",value:c.title,onChange:p}),g.jsx("textarea",{name:"description",className:"w-full border p-2 rounded mb-2",value:c.description,onChange:p}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:N,className:"bg-purple-600 text-white px-3 py-1 rounded",children:"Guardar"}),g.jsx("button",{onClick:T,className:"bg-gray-500 text-white px-3 py-1 rounded",children:"Cancelar"})]})]}):g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium",children:E.title}),E.description&&g.jsx("p",{className:"text-sm text-gray-600",children:E.description})]}),g.jsxs("div",{className:"flex gap-2 ml-4",children:[g.jsx("button",{onClick:()=>O(E),className:"bg-purple-500 text-white px-3 py-1 rounded",children:"Editar"}),g.jsx("button",{onClick:()=>v(E.id),className:"bg-purple-300 text-white px-3 py-1 rounded",children:"Eliminar"})]})]})},E.id))})]})}function dM(){const{user:t}=ba(),[e,n]=P.useState("tasks"),i=[{id:"profile",name:"Mi Perfil",icon:""},{id:"tasks",name:"Mis Tareas",icon:""}],r=()=>{switch(e){case"profile":return g.jsx(rM,{});case"tasks":return g.jsx(wE,{});default:return g.jsx(wE,{})}};return g.jsxs("div",{className:"min-h-screen bg-gray-100",children:[g.jsx("header",{className:"bg-white shadow-sm border-b",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex justify-between items-center",children:[g.jsx("h1",{className:"text-xl font-bold",children:"Mi Dashboard"}),g.jsxs("p",{className:"text-sm text-gray-600",children:["Bienvenido, ",g.jsx("b",{children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)})]})]})}),g.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 flex gap-8",children:[g.jsxs("aside",{className:"w-64 bg-white shadow rounded-lg p-4",children:[g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Navegacin"}),g.jsx("ul",{className:"space-y-2",children:i.map(s=>g.jsx("li",{children:g.jsxs("button",{onClick:()=>n(s.id),className:`w-full text-left px-3 py-2 rounded-md flex items-center gap-2
                    ${e===s.id?"bg-blue-100 text-blue-700 border-r-4 border-blue-500":"text-gray-600 hover:bg-gray-50"}`,children:[g.jsx("span",{children:s.icon})," ",s.name]})},s.id))})]}),g.jsx("main",{className:"flex-1 bg-white p-6 shadow rounded-lg",children:r()})]})]})}function mM(){return g.jsx(ux,{children:g.jsxs(q6,{children:[g.jsxs("div",{className:"min-h-screen flex flex-col",children:[g.jsx(H6,{}),g.jsx("main",{className:"flex-grow p-6",children:g.jsxs(zC,{children:[g.jsx(kn,{path:"/",element:g.jsx(sM,{})}),g.jsx(kn,{path:"/nosotras",element:g.jsx(aM,{})}),g.jsx(kn,{path:"/contacto",element:g.jsx(lM,{})}),g.jsx(kn,{path:"/valores",element:g.jsx(uM,{})}),g.jsx(kn,{path:"/confianza",element:g.jsx(hM,{})}),g.jsx(kn,{path:"/login",element:g.jsx(fM,{})}),g.jsx(kn,{path:"/dashboard",element:g.jsx(SE,{children:g.jsx(dM,{})})}),g.jsx(kn,{path:"/perfil",element:g.jsx(SE,{})})]})})]}),g.jsx(iM,{})]})})}QR.createRoot(document.getElementById("root")).render(g.jsx(mM,{}));
